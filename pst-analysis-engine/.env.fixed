# ============================================
# AWS CONFIGURATION
# ============================================
USE_AWS_SERVICES=true
AWS_REGION=us-east-1
AWS_SECRET_NAME=vericase-credentials

# ============================================
# S3 BUCKETS (Consolidated)
# ============================================
# Main bucket for all documents
MINIO_BUCKET=vericase-docs-526015377510
S3_BUCKET=vericase-docs-526015377510

# Specialized buckets
S3_KNOWLEDGE_BASE_BUCKET=vericase-kb-526015377510
S3_TRANSCRIBE_OUTPUT_BUCKET=vericase-transcribe-526015377510
S3_ATTACHMENTS_BUCKET=vericase-attachments-526015377510
S3_PST_BUCKET=vericase-pst-526015377510

# ============================================
# DATABASE (CRITICAL - UPDATE THIS!)
# ============================================
# ❌ WRONG: DATABASE_URL=postgresql+psycopg2://user:pass@localhost/vericase
# ✅ CORRECT: Use your RDS endpoint
DATABASE_URL=postgresql+psycopg2://vericase:YOUR_PASSWORD@vericase-db.xxxxx.us-east-1.rds.amazonaws.com:5432/vericase

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# REDIS / CELERY (CRITICAL - ADD THIS!)
# ============================================
# ❌ MISSING: Redis configuration
# ✅ ADD: ElastiCache Redis endpoint
REDIS_URL=rediss://:YOUR_AUTH_TOKEN@vericase-redis.xxxxx.cache.amazonaws.com:6379/0
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_BROKER_USE_SSL=true
CELERY_REDIS_BACKEND_USE_SSL=true

# ============================================
# OPENSEARCH (CRITICAL - ADD THIS!)
# ============================================
# ❌ MISSING: OpenSearch configuration
# ✅ ADD: OpenSearch domain endpoint
OPENSEARCH_HOST=search-vericase-xxxxx.us-east-1.es.amazonaws.com
OPENSEARCH_PORT=443
OPENSEARCH_USE_SSL=true
OPENSEARCH_VERIFY_CERTS=true
OPENSEARCH_INDEX=documents
OPENSEARCH_TIMEOUT=30

# OpenSearch Serverless (if using)
OPENSEARCH_COLLECTION_ARN=
OPENSEARCH_COLLECTION_ENDPOINT=
OPENSEARCH_VECTOR_INDEX=vericase-evidence-index

# ============================================
# TIKA (CRITICAL - ADD THIS!)
# ============================================
# ❌ MISSING: Tika configuration
# ✅ ADD: Tika service URL
TIKA_URL=http://tika.vericase.svc.cluster.local:9998
TIKA_TIMEOUT=300
TIKA_MAX_FILE_SIZE=104857600
TIKA_OCR_ENABLED=true

# ============================================
# SECURITY (CRITICAL - UPDATE THIS!)
# ============================================
# ❌ WEAK: JWT_SECRET=change-this-to-a-secure-random-string-min-32-chars
# ✅ GENERATE: Use a strong random secret
JWT_SECRET=GENERATE_WITH_openssl_rand_base64_32
SESSION_SECRET=GENERATE_WITH_openssl_rand_base64_32

# ============================================
# BEDROCK KNOWLEDGE BASE
# ============================================
BEDROCK_KB_ID=ACKHIYIHPK
BEDROCK_DS_ID=D9BX79MBSG
BEDROCK_EMBEDDING_MODEL=amazon.titan-embed-text-v1

# ============================================
# AI FEATURES
# ============================================
ENABLE_AI_AUTO_CLASSIFY=true
ENABLE_AI_DATASET_INSIGHTS=true
ENABLE_AI_NATURAL_LANGUAGE_QUERY=true

# ============================================
# STEP FUNCTIONS & EVENTBRIDGE
# ============================================
STEP_FUNCTION_ARN=
EVENT_BUS_NAME=vericase-events

# ============================================
# QUICKSIGHT
# ============================================
QUICKSIGHT_DASHBOARD_ID=
QUICKSIGHT_DATASET_ID=

# ============================================
# MACIE
# ============================================
MACIE_ENABLED=false

# ============================================
# CORS
# ============================================
# ⚠️ WARNING: CORS_ORIGINS=* is insecure for production
# ✅ PRODUCTION: Set specific domains
CORS_ORIGINS=https://vericase.com,https://api.vericase.com

# ============================================
# MINIO (LEGACY - Remove if using S3)
# ============================================
# ❌ NOT NEEDED: If USE_AWS_SERVICES=true
# MINIO_ACCESS_KEY=admin
# MINIO_SECRET_KEY=changeme
