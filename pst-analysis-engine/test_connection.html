<!DOCTYPE html>
<html>
<head>
    <title>VeriCase Connection Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .status { margin: 20px 0; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .checking { background: #cce5ff; color: #004085; }
    </style>
</head>
<body>
    <h1>VeriCase Connection Test</h1>
    
    <div id="api-status" class="status checking">Checking API at http://localhost:8010...</div>
    <div id="ui-status" class="status checking">Checking UI at http://localhost:8010/ui/...</div>
    
    <h2>Quick Links:</h2>
    <ul>
        <li><a href="http://localhost:8010" target="_blank">Open API Root</a></li>
        <li><a href="http://localhost:8010/ui/" target="_blank">Open VeriCase UI</a></li>
        <li><a href="http://localhost:8010/ui/wizard.html" target="_blank">Open Setup Wizard</a></li>
        <li><a href="http://localhost:8010/docs" target="_blank">Open API Documentation</a></li>
    </ul>
    
    <h2>Manual Start Instructions:</h2>
    <ol>
        <li>Open Command Prompt or PowerShell</li>
        <li>Navigate to: <code>C:\Users\William\Documents\Projects\VeriCase Analysis\pst-analysis-engine</code></li>
        <li>Run: <code>docker-compose up -d</code></li>
        <li>Wait 30 seconds for services to start</li>
        <li>Refresh this page</li>
    </ol>
    
    <script>
        // Check API
        fetch('http://localhost:8010/health')
            .then(response => {
                const apiDiv = document.getElementById('api-status');
                if (response.ok) {
                    apiDiv.className = 'status success';
                    apiDiv.innerHTML = '✅ API is running at http://localhost:8010';
                    return response.json();
                } else {
                    throw new Error('API not accessible');
                }
            })
            .then(data => {
                console.log('API Health:', data);
            })
            .catch(error => {
                const apiDiv = document.getElementById('api-status');
                apiDiv.className = 'status error';
                apiDiv.innerHTML = '❌ API is not running. Error: ' + error.message;
            });
            
        // Check UI
        fetch('http://localhost:8010/ui/wizard.html', { method: 'HEAD' })
            .then(response => {
                const uiDiv = document.getElementById('ui-status');
                if (response.ok) {
                    uiDiv.className = 'status success';
                    uiDiv.innerHTML = '✅ UI is accessible at http://localhost:8010/ui/';
                } else {
                    throw new Error('UI not accessible');
                }
            })
            .catch(error => {
                const uiDiv = document.getElementById('ui-status');
                uiDiv.className = 'status error';
                uiDiv.innerHTML = '❌ UI is not accessible. Error: ' + error.message;
            });
    </script>
</body>
</html>
