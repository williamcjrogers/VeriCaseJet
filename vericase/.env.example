# VeriCase PST Analysis - Development Environment

# AWS mode flag - when true, use AWS S3 (IRSA) instead of MinIO
USE_AWS_SERVICES=false

# S3/MinIO settings (for development with docker-compose)
MINIO_ENDPOINT=http://minio:9000
MINIO_PUBLIC_ENDPOINT=http://localhost:9002
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=changeme123
MINIO_BUCKET=vericase-docs
S3_BUCKET=vericase-docs
S3_ENDPOINT=http://localhost:9002
S3_ACCESS_KEY=admin
S3_SECRET_KEY=changeme123
AWS_REGION=us-east-1

# Database - PostgreSQL in Docker
DATABASE_URL=postgresql+psycopg2://vericase:vericase@localhost:55432/vericase

# OpenSearch settings
# Note: Use 'opensearch' for container-to-container communication
# Use 'localhost' only for direct host access
OPENSEARCH_HOST=opensearch
OPENSEARCH_PORT=9200
OPENSEARCH_USE_SSL=false
OPENSEARCH_VERIFY_CERTS=false
OPENSEARCH_INDEX=emails

# Redis + Celery
REDIS_URL=redis://localhost:6379/0
CELERY_QUEUE=pst_processing
CELERY_PST_QUEUE=pst_processing

# PST ingestion performance optimization
# When true (default), pre-counts total messages for progress %.
# Set false to skip the extra full PST pass on huge mailboxes (FASTER).
PST_PRECOUNT_MESSAGES=false

# PST processing batch size - messages per DB commit (higher = faster, more memory)
PST_BATCH_COMMIT_SIZE=2500

# PST parallel upload workers - concurrent S3 attachment uploads (higher = faster)
PST_UPLOAD_WORKERS=50

# Skip semantic indexing during PST ingestion (run in background instead for speed)
PST_SKIP_SEMANTIC_INDEXING=true

# Apache Tika
TIKA_URL=http://tika:9998

# API settings
API_HOST=0.0.0.0
API_PORT=8000
CORS_ORIGINS=http://localhost:8010,http://localhost:3000
# Do NOT commit real JWT secrets. Override locally in a private .env.local
# For local development only, use a strong random placeholder (>=32 chars)
JWT_SECRET=dev_ONLY_replace_me_with_a_real_64_char_secret_1234567890abcd
JWT_ISSUER=vericase-pst-analysis
JWT_EXPIRE_MIN=7200

# AI Model API Keys (optional - for future features)
# Keep these empty locally and set in a private .env.local not committed to VCS
GEMINI_API_KEY=
CLAUDE_API_KEY=
# Optional alias supported in multiple deployment paths
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
# Prefer XAI_API_KEY; GROK_API_KEY is an alias
XAI_API_KEY=
GROK_API_KEY=
PERPLEXITY_API_KEY=

# Lex API (legislation/caselaw search)
LEX_API_BASE_URL=
LEX_API_TOKEN=
LEX_API_AUTH_HEADER=Authorization
LEX_API_AUTH_SCHEME=Bearer
LEX_API_TIMEOUT_S=20
LEX_API_OPERATION_MAP=

# SigParser Email Threading API
# Provides advanced email conversation threading and parsing
SIGPARSER_API_KEY=
SIGPARSER_BASE_URL=https://api.sigparser.com
SIGPARSER_ENABLED=true

# AI Feature Flags
ENABLE_AI_AUTO_CLASSIFY=true
ENABLE_AI_DATASET_INSIGHTS=true
ENABLE_AI_NATURAL_LANGUAGE_QUERY=false
AI_DEFAULT_MODEL=gemini

# AWS Enhanced Features (Enable for Production)
USE_TEXTRACT=true
USE_COMPREHEND=true
USE_KNOWLEDGE_BASE=true
BEDROCK_KB_ID=ACKHIYIHPK
BEDROCK_AGENT_ID=
BEDROCK_AGENT_ALIAS_ID=
