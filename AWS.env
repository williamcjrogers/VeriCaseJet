# AWS Environment Configuration for MCP Servers
# This file contains AWS-specific environment variables used by AWS MCP servers
# Last updated: 2025-12-27

# ============================================================================
# AWS CREDENTIALS & AUTHENTICATION
# ============================================================================
# AWS Access Credentials - MCP servers will automatically read from:
# 1. ~/.aws/credentials (PRIMARY SOURCE - currently configured)
#    Location: C:\Users\William\.aws\credentials
#    Contains: AWS Access Key (ending in LAZH) and Secret Key
# 2. Environment variables (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
# 3. IAM roles (when running on EC2/ECS)
#
# Current AWS CLI Configuration:
# - Access Key: ****************LAZH (from shared-credentials-file)
# - Region: eu-west-2 (from ~/.aws/config)
# - Profile: default

# AWS Profile - references the profile in ~/.aws/credentials and ~/.aws/config
AWS_PROFILE=default

# AWS Region - London region for lower latency
AWS_REGION=eu-west-2

# AWS Documentation Partition (for AWS Documentation MCP Server)
AWS_DOCUMENTATION_PARTITION=aws

# ============================================================================
# AWS RDS DATABASE CONFIGURATION
# ============================================================================
# RDS PostgreSQL Instance Details
RDS_HOST=database-1.cv8uwu0uqr7f.eu-west-2.rds.amazonaws.com
RDS_PORT=5432
RDS_INSTANCE_ID=database-1
RDS_DB_NAME=vericase
RDS_USER=VericaseDocsAdmin

# Database Connection URL (for production)
# Note: Password should be retrieved from AWS Secrets Manager
# DATABASE_URL=postgresql://VericaseDocsAdmin:PASSWORD@database-1.cv8uwu0uqr7f.eu-west-2.rds.amazonaws.com:5432/vericase

# AWS Secrets Manager - Database Credentials
# The RDS password is stored in AWS Secrets Manager and should be retrieved programmatically
# Use AWS CLI: aws secretsmanager get-secret-value --secret-id <secret-name> --region eu-west-2

# ============================================================================
# AWS ELASTICACHE / REDIS CONFIGURATION
# ============================================================================
# Production ElastiCache Redis Endpoint
REDIS_HOST=master.vericase-redis-simple.dbbgbx.euw2.cache.amazonaws.com
REDIS_PORT=6379
REDIS_URL=redis://master.vericase-redis-simple.dbbgbx.euw2.cache.amazonaws.com:6379/0

# Local Redis (for development/testing)
VALKEY_HOST=127.0.0.1
VALKEY_PORT=6379

# ============================================================================
# AWS BEDROCK SERVICES
# ============================================================================
# Bedrock Knowledge Base Configuration
BEDROCK_KB_ID=UQZGYOCANB
BEDROCK_DS_ID=QGPQEERD2R
BEDROCK_ENABLED=true
USE_KNOWLEDGE_BASE=true

# Alternative Bedrock KB IDs (from other configurations)
# BEDROCK_KB_ID_ALT=ACKHIYIHPK
# BEDROCK_DS_ID_ALT=D9BX79MBSG

# ============================================================================
# AWS EKS CLUSTER
# ============================================================================
EKS_CLUSTER_NAME=vericase-cluster
EKS_CLUSTER=vericase-cluster

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log level for FastMCP-based servers (DEBUG, INFO, WARNING, ERROR, CRITICAL)
FASTMCP_LOG_LEVEL=ERROR

# General log level for other servers
LOG_LEVEL=ERROR

# CloudWatch Log Group (if using)
CLOUDWATCH_LOG_GROUP=/aws/vericase

# ============================================================================
# DATABASE SERVICES
# ============================================================================
# DynamoDB MCP Server - set to true for read-only mode
DDB_MCP_READONLY=true

# Memcached Configuration (if using local Memcached for testing)
MEMCACHED_HOST=localhost
MEMCACHED_PORT=11211

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# Allow write operations for specific servers (set to false for read-only)
ALLOW_WRITE=false
ALLOW_SENSITIVE_DATA=false

# ============================================================================
# MCP SERVER TIMEOUTS
# ============================================================================
# Default timeout for MCP server operations (in seconds)
MCP_TIMEOUT=60

# ============================================================================
# AI API KEYS (Retrieved from AWS Secrets Manager)
# ============================================================================
# AI API keys are stored in AWS Secrets Manager for security
# Secret ID: vericase/ai-api-keys
# Retrieve with: aws secretsmanager get-secret-value --secret-id vericase/ai-api-keys --region eu-west-2
AWS_SECRETS_MANAGER_AI_KEYS=vericase/ai-api-keys

# ============================================================================
# CREDENTIAL SOURCE SUMMARY
# ============================================================================
# 1. AWS ACCESS CREDENTIALS
#    Source: C:\Users\William\.aws\credentials (default profile)
#    Used by: All AWS MCP servers
#
# 2. RDS DATABASE PASSWORD
#    Source: AWS Secrets Manager (retrieve programmatically)
#    Command: aws secretsmanager get-secret-value --secret-id <db-secret> --region eu-west-2
#
# 3. AI API KEYS (Gemini, Claude, OpenAI, etc.)
#    Source: AWS Secrets Manager (vericase/ai-api-keys)
#    Command: aws secretsmanager get-secret-value --secret-id vericase/ai-api-keys --region eu-west-2
#
# 4. ENVIRONMENT-SPECIFIC SETTINGS
#    Source: This file (AWS.env) and project-specific .env files
#
# ============================================================================
# NOTES
# ============================================================================
# - All AWS MCP servers will use credentials from ~/.aws/credentials
# - Ensure your AWS CLI is configured: run 'aws configure' if needed
# - The 'default' profile will be used unless AWS_PROFILE is changed
# - For production use, consider creating specific IAM roles with minimal permissions
# - Some servers (EKS, SageMaker, Serverless) have write permissions enabled
# - Review and adjust ALLOW_WRITE and ALLOW_SENSITIVE_DATA for security needs
# - NEVER commit real passwords or API keys to version control
# - Use AWS Secrets Manager for sensitive credentials in production
