"use strict";(self.webpackChunkEgnyte_CommonUI=self.webpackChunkEgnyte_CommonUI||[]).push([[7966],{793866:function(e,t,n){n.d(t,{dV:function(){return h},mm:function(){return S},Eh:function(){return T},Nr:function(){return Z},QU:function(){return y},N5:function(){return C}});var r=n(204942),a=n(93433),o=n(221842),i=n.n(o),l=n(145218),c=n(190544),s=n(221752),u=n(240701),d=n(23661);function m(){return(0,d.ZP)(u.Z.CHAT_GPT.AGENTS.CODEBOOKS.SUGGESTED_FILES)}var E=function(e){var t=e.jurisdiction;return(0,d.ZP)(u.Z.CHAT_GPT.AGENTS.CODEBOOKS.EXECUTION_SCREEN_METADATA,{method:d.I5.POST,body:{jurisdiction:t}})},p=function(e){return(0,d.ZP)(u.Z.CHAT_GPT.AGENTS.CODEBOOKS.UPDATE_METADATA,{method:d.I5.PATCH,body:e})},f=function(e){var t=e.jurisdiction,n=e.codeYear,r=e.buildingTypes;return(0,d.ZP)(u.Z.CHAT_GPT.AGENTS.CODEBOOKS.FILTERED_SOURCES,{method:d.I5.POST,body:{jurisdiction:t,codeYear:n,buildingTypes:r}})};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={ROOT:["agents/codebooks"],SUGGESTED_FILES:function(){return[].concat((0,a.Z)(b.ROOT),["suggestedFiles"])},EXECUTION_SCREEN_METADATA:function(){return[].concat((0,a.Z)(b.ROOT),["executionScreenMetadata"])},REVIEW_SCREEN_METADATA:function(){return[].concat((0,a.Z)(b.ROOT),["reviewScreenMetadata"])},PROCESSED_LIST_METADATA:function(){return[].concat((0,a.Z)(b.ROOT),["processedListMetadata"])}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useQuery)(g({queryKey:b.SUGGESTED_FILES(),queryFn:function(){return m()}},e))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useMutation)(i()(g({mutationFn:E},e)))};function Z(e){return(0,l.useQuery)(g({queryKey:b.REVIEW_SCREEN_METADATA(),queryFn:function(){return(0,d.ZP)(u.Z.CHAT_GPT.AGENTS.CODEBOOKS.REVIEW_SCREEN_METADATA)},staleTime:5*c.A_,cacheTime:10*c.A_},e))}function T(e){return(0,l.useQuery)(g({queryKey:b.PROCESSED_LIST_METADATA(),queryFn:function(){return(0,d.ZP)(u.Z.CHAT_GPT.AGENTS.CODEBOOKS.PROCESSED_LIST_METADATA)}},e))}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useMutation)(i()(g({mutationFn:f},e)))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.useQueryClient)();return(0,l.useMutation)(i()(g({mutationFn:p},i()({onSuccess:function(){t.invalidateQueries([s.ad.AGENT_LIST])}},e))))}},85946:function(e,t,n){n.d(t,{$R:function(){return C},A6:function(){return R},AG:function(){return U},Aq:function(){return h},BN:function(){return D},CC:function(){return P},GZ:function(){return x},I4:function(){return m},K3:function(){return I},Kh:function(){return N},Mj:function(){return L},Ms:function(){return G},Ph:function(){return S},Rm:function(){return u},Ty:function(){return T},Un:function(){return A},X0:function(){return E},aE:function(){return F},bP:function(){return M},d6:function(){return j},dq:function(){return p},ez:function(){return k},hB:function(){return g},i5:function(){return z},iO:function(){return w},j:function(){return O},jf:function(){return d},mC:function(){return _},mn:function(){return Z},op:function(){return f},p3:function(){return v},sh:function(){return b},tj:function(){return B},zx:function(){return y}});var r=n(204942),a=n(266606),o=n(985252),i=n(923942);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=c({AGENT_NAME:"Agent name",IDENTIFIER:"Identifier",AGENT_DESCRIPTION:"Agent description",TEMPLATE_NAME:"Template name",ENTRY_POINT:"Entry point",SOURCE_SELECTED:"Source selected",FILE_TAGGED:"File tagged",USING_AT:"Using @",USING_PLUS:"Using +",USING_PLACEHOLDER:"Using file placeholder",CHARACTER_COUNT:"Character count",WORD_COUNT:"Word count",DEBUG_CONSENT:"Debug consent",SUB_TYPE:"Sub type",EDITED:"Edited"},o.m$);function u(e){a.Z.track("Agents: Create agent clicked",(0,r.Z)({},s.ENTRY_POINT,e.entryPoint))}function d(e){var t;a.Z.track("Agents: Save and open clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.AGENT_DESCRIPTION,e.agentDescription),(0,r.Z)(t,s.SOURCE_SELECTED,e.sourceSelected?i.Ig.YES:i.Ig.NO),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),t))}function m(e){var t;a.Z.track("Agents: Edit agent clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function E(e){var t;a.Z.track("Agents: Edit agent saved",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function p(e){var t;a.Z.track("Agents: Mark as inactive clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function f(e){var t;a.Z.track("Agents: Mark as inactive confirmed",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function v(e){a.Z.track("Agents: Create a custom agent clicked",(0,r.Z)({},s.ENTRY_POINT,e.entryPoint))}function g(e){var t;a.Z.track("Agents: Use this template clicked",(t={},(0,r.Z)(t,s.TEMPLATE_NAME,e.templateName),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),t))}function b(e){a.Z.track("Agents: View all agents clicked",(0,r.Z)({},s.ENTRY_POINT,e.entryPoint))}function y(e){var t,n,o,i,l,u,d,m,E,p;a.Z.track("Agents: Question asked",c((t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.FILE_TAGGED,Boolean(e.usingAt||e.usingPlus||e.usingPlaceholder)),(0,r.Z)(t,s.USING_AT,e.usingAt),(0,r.Z)(t,s.USING_PLUS,e.usingPlus),(0,r.Z)(t,s.USING_PLACEHOLDER,e.usingPlaceholder),(0,r.Z)(t,s.CHARACTER_COUNT,e.characterCount),(0,r.Z)(t,s.WORD_COUNT,e.wordCount),(0,r.Z)(t,s.SUB_TYPE,e.subType),(0,r.Z)(t,s.EDITED,e.edited||!1),t),(null==e?void 0:e.sources)&&(p={},(0,r.Z)(p,s.EGNYTE_FILE_COUNT,(null==e||null===(n=e.sources)||void 0===n?void 0:n.egnyteFileCount)||0),(0,r.Z)(p,s.EGNYTE_FOLDER_COUNT,(null==e||null===(o=e.sources)||void 0===o?void 0:o.egnyteFolderCount)||0),(0,r.Z)(p,s.EGNYTE_SOURCE_TYPE,(null==e||null===(i=e.sources)||void 0===i?void 0:i.egnyteSourceType)||"-"),(0,r.Z)(p,s.ALL_EGNYTE_SEARCH,(null==e||null===(l=e.sources)||void 0===l?void 0:l.allEgnyteSearch)||!1),(0,r.Z)(p,s.EGNYTE_TOTAL_SOURCES_COUNT,(null==e||null===(u=e.sources)||void 0===u?void 0:u.egnyteTotalSourcesCount)||0),(0,r.Z)(p,s.WEB_SEARCH,(null==e||null===(d=e.sources)||void 0===d?void 0:d.webSearch)||!1),(0,r.Z)(p,s.WEB_SEARCH_TYPE,(null==e||null===(m=e.sources)||void 0===m?void 0:m.webSearchType)||"-"),(0,r.Z)(p,s.WEB_SEARCH_COUNT,(null==e||null===(E=e.sources)||void 0===E?void 0:E.webSearchCount)||0),p)))}function h(e){var t;a.Z.track("Agents: Response copied",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function Z(e){var t;a.Z.track("Agents: Feedback thumbs up clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function T(e){var t;a.Z.track("Agents: Feedback thumbs down clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function S(e){var t;a.Z.track("Agents: Extended feedback submitted",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.DEBUG_CONSENT,e.debugConsent),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function C(e){var t;a.Z.track("Agents: Extended feedback cancelled",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function N(e){var t;a.Z.track("Agents: Chat response error",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function A(e){var t;a.Z.track("Agents: Save to Egnyte clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function O(e){var t;a.Z.track("Agents: Download response clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function P(e){var t;a.Z.track("Agents: Citations file opened",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function I(e){var t;a.Z.track("Agents: New chat clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function R(e){var t;a.Z.track("Agents: Instructions sidepanel expanded",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function D(e){var t;a.Z.track("Agents: Instructions sidepanel collapsed",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function k(e){var t;a.Z.track("Agents: Configuration clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function L(e){var t;a.Z.track("Agents: Magic wand icon clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function w(e){var t;a.Z.track("Agents: Prompts clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function F(e){var t;a.Z.track("Agents: Add file icon clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function _(e){var t;a.Z.track("Agents: Microphone clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function M(e){var t;a.Z.track("Agents: History icon clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function x(e){var t;a.Z.track("Agents: History rename clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function j(e){var t;a.Z.track("Agents: History rename saved",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function G(e){var t;a.Z.track("Agents: History delete clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function U(e){var t;a.Z.track("Agents: History delete confirmed",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function B(e){var t;a.Z.track("Agents: History thread selected",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}function z(e){var t;a.Z.track("Agents: Edit button clicked",(t={},(0,r.Z)(t,s.AGENT_NAME,e.agentName),(0,r.Z)(t,s.IDENTIFIER,e.identifier),(0,r.Z)(t,s.ENTRY_POINT,e.entryPoint),(0,r.Z)(t,s.SUB_TYPE,e.subType),t))}},215105:function(e,t,n){n.d(t,{$e:function(){return s},A3:function(){return D},CE:function(){return y},CU:function(){return h},FK:function(){return S},GH:function(){return j},I8:function(){return p},KD:function(){return N},KS:function(){return E},LE:function(){return c},M4:function(){return T},OP:function(){return M},Og:function(){return F},TX:function(){return _},Wr:function(){return A},YR:function(){return k},_f:function(){return R},aE:function(){return u},aF:function(){return L},cD:function(){return Z},dI:function(){return G},fH:function(){return g},gE:function(){return f},i0:function(){return i},jl:function(){return U},k9:function(){return I},l2:function(){return b},m_:function(){return w},n$:function(){return l},rI:function(){return d},sw:function(){return m},uq:function(){return x},v1:function(){return O},vV:function(){return v},vb:function(){return P},xW:function(){return C}});var r=n(204942),a=n(266606),o="Entry point";function i(){a.Z.track("Codebook Agent Configuration: Configure")}function l(){a.Z.track("Codebook Agent Configuration: View auto-detected files")}function c(){a.Z.track("Codebook Agent Configuration: Auto-detected files Continue")}function s(){a.Z.track("Codebook Agent Configuration: Auto-detected files Cancel")}function u(){a.Z.track("Codebook Agent Configuration: Remove from Auto-detected files")}function d(){a.Z.track("Codebook Agent Configuration: Preview file")}function m(){a.Z.track("Codebook Agent Configuration: Save & Continue files detected for Agent")}function E(){a.Z.track("Codebook Agent Configuration: Cancel files detected for Agent")}function p(){a.Z.track("Codebook Agent Configuration: Enable Egnyte Sources")}function f(){a.Z.track("Codebook Agent Configuration: Disable Egnyte Sources")}function v(){a.Z.track("Codebook Agent Configuration: Edit Egnyte Sources")}function g(){a.Z.track("Codebook Agent Configuration: Enable Web search")}function b(){a.Z.track("Codebook Agent Configuration: Disable Web search")}function y(){a.Z.track("Codebook Agent Configuration: All web sources radio")}function h(){a.Z.track("Codebook Agent Configuration: Selected web sources radio")}function Z(){a.Z.track("Codebook Agent Configuration: Manually Select Egnyte Sources")}function T(){a.Z.track("Codebook Agent Configuration: Add Web Sources")}function S(){a.Z.track("Codebook Agent Configuration: Edit Web Sources")}function C(){a.Z.track("Codebook Agent Configuration: Remove web source")}function N(){a.Z.track("Codebook Agent Configuration: Save Web Sources")}function A(){a.Z.track("Codebook Agent Configuration: Save Egnyte Sources")}function O(e){a.Z.track("Codebook Agent Execution: Jurisdiction Filter",(0,r.Z)({},o,e))}function P(e){a.Z.track("Codebook Agent Execution: Code year filter",(0,r.Z)({},o,e))}function I(e){a.Z.track("Codebook Agent Execution: Building type filter",(0,r.Z)({},o,e))}function R(e){a.Z.track("Codebook Agent Execution: Edit Egnyte Sources",(0,r.Z)({},o,e))}function D(e){a.Z.track("Codebook Agent Execution: Edit Web Sources",(0,r.Z)({},o,e))}function k(e){a.Z.track("Codebook Agent Execution: Failed Extraction",(0,r.Z)({},o,e))}function L(e){a.Z.track("Codebook Agent Execution: Citation Selected",(0,r.Z)({},o,e))}function w(){a.Z.track("Codebook Agent: Review Files")}function F(e){a.Z.track("Codebook Agent: Failed Extraction Tooltip",(0,r.Z)({},o,e))}function _(){a.Z.track("Codebook Agent Review: Jurisdiction Filter")}function M(){a.Z.track("Codebook Agent Review: Code year Filter")}function x(){a.Z.track("Codebook Agent Review: Building type Filter")}function j(){a.Z.track("Codebook Agent Review: Search")}function G(){a.Z.track("Codebook Agent Review: Save")}function U(){a.Z.track("Codebook Agent Review: Cancel")}},885995:function(e,t,n){n.d(t,{Z:function(){return G}});var r=n(667294),a=n(610861),o=n(529439),i=n(579621),l=n(13764),c=n(762074),s=n.p+"b2f24fd631fba94926e6.png",u=n(793866),d=n(694780),m=n(215105),E=n(960503),p=n(871639),f=n(354111),v=n(32570),g=n(681680),b=n(404268),y=n(316074),h=n(355345),Z=n(722610),T=n(698607),S=n(4845),C=(0,c.nD)("codebookAgent.suggestedFiles");function N(e){var t=e.item,n=e.onPreview,a=e.onRemove;return r.createElement("div",{className:"Dy7Hgk6QC0bdOPBjkUtr"},r.createElement(T.Z,{tooltip:C("actions.preview")},r.createElement(S.Z,{icon:h.hI,size:S.Z.sizes.SMALL,onClick:function(){return n(t)},"data-tid":"preview-file","aria-label":C("actions.preview")})),r.createElement(T.Z,{tooltip:C("actions.remove")},r.createElement(S.Z,{icon:Z.fI,variant:S.Z.variants.ERROR,size:S.Z.sizes.SMALL,onClick:function(){return a(t)},"data-tid":"remove-file","aria-label":C("actions.remove")})))}var A=n(499345),O=n(323063),P=n(162134),I=n(799756);function R(e){var t=e.item,n=null==t?void 0:t.path.split("/").pop(),a=t.displayedName||t.name||n;return r.createElement("div",{className:"evzL5OEjhnE35p03zf5c"},r.createElement("span",{className:"vjruzlzaBb9T4RDCIkWT"},r.createElement(P.Z,{name:a,type:O.dt.FILE})),r.createElement("div",{className:"Lwm7EkLU56_PeIncKvxM"},r.createElement("span",null,r.createElement(I.Z,{maxLinesCount:1,trimWhitespace:!0},a)),r.createElement("span",{className:"_x8E4GxPcGEjZHZEGK0s"},r.createElement(A.Z,null," ",t.path," "))))}var D=(0,c.nD)("codebookAgent"),k=(0,c.nD)("codebookAgent"),L=function(e){var t=e.onPreviewFile,n=e.onRemoveFile,a=e.suggestedFiles,i=e.showLoader,l=e.allowedExtensions,c=(0,r.useState)(""),s=(0,o.Z)(c,2),u=s[0],d=s[1],m=(0,r.useState)(null),E=(0,o.Z)(m,2),p=E[0],h=E[1],Z=(0,b.W)(t),T=(0,b.W)((function(e){n(e)})),S=(0,r.useMemo)((function(){var e=a.filter((function(e){var t;return null===(t=null==l?void 0:l.includes((0,y.Z)(e.path)))||void 0===t||t}));return u.trim()?e.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())||e.path.toLowerCase().includes(u.toLowerCase())})):e}),[a,u,l]),C=function(e){var t=e.onPreview,n=e.onRemove,a=e.hoveredRowId;return[{id:"name",Header:D("suggestedFiles.columns.fileName"),enableSorting:!0,accessor:function(e){return e.name},width:200,minWidth:200,disableResizing:!0,Cell:function(e){var t=e.row;return r.createElement(R,{item:t.original})}},{id:"actions",accessor:function(e){return e.path},width:100,minWidth:100,disableSortBy:!0,disableResizing:!0,Cell:function(e){var o=e.row;return o.original.entryId===a&&r.createElement(N,{item:o.original,onPreview:t,onRemove:n})}}]}({onPreview:function(e){return Z(e)},onRemove:function(e){return T(e)},hoveredRowId:p}),A=(0,r.useCallback)((function(e){return e.id}),[]),O=(0,r.useCallback)((function(e){return{style:{cursor:"default",height:"40px"},onMouseEnter:function(){return h(e.original.entryId)},onMouseLeave:function(){return h(null)}}}),[]);return r.createElement("div",{"data-tid":"file-list",className:"Cfrlc15cJExdxbBzKa5M"},r.createElement("div",{className:"uvMi099i0RZ5Qz6NhMK4"},r.createElement(g.Z,{value:u,placeholder:k("suggestedFiles.searchPlaceholder"),onChange:function(e){return d(e.target.value)},onClear:function(){return d("")}})),i?r.createElement("div",{className:"EKD17fToqxqM42ayZWaZ"},r.createElement(v.Z,null)):0===S.length?r.createElement("div",{className:"YyPSFz7Fz3mpIyxPuVC3"},k("suggestedFiles.noResults")):r.createElement("div",{className:"m2sq6YgX1BYVlCE4y7QW"},r.createElement(f.Z,{columns:C,data:S,getRowId:A,getRowProps:O,withCondensedView:!1,features:{sort:!0,pagination:!1},configuration:{withHeader:!0,withPagination:!1,withSelection:!1}})))},w=(0,c.nD)("button.label"),F=(0,c.nD)("codebookAgent.suggestedFiles");function _(e){var t=e.agentData,n=e.suggestedFiles,l=e.showLoader,c=e.onRemove,s=(0,r.useState)(n),u=(0,o.Z)(s,2),f=u[0],v=u[1];return(0,r.useEffect)((function(){v(n)}),[n]),r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,F("title"))),r.createElement(a.ZP.Body,null,r.createElement(a.ZP.Subtitle,null,F("description")),r.createElement(L,{suggestedFiles:f,showLoader:l,onPreviewFile:function(e){var t=null==e?void 0:e.previewUrl;t&&window.open(t,"_blank"),(0,m.rI)()},onRemoveFile:function(e){v((function(t){var n=t.filter((function(t){return t.entryId!==e.entryId}));return c(n),n})),(0,m.aE)()},allowedExtensions:p.IG})),r.createElement(a.ZP.Footer,null,r.createElement(i.Z,{type:i.Z.SECONDARY,onClick:function(){(0,a.GZ)(),(0,m.KS)()}},w("cancel")),r.createElement(i.Z,{onClick:function(){var e=(0,d.u$)({agentData:t,suggestedFiles:f});(0,E.Z)({initialValuesForForm:e,unprocessedPaths:t.unprocessedPaths||[]}),(0,m.sw)()}},w("saveNContinue"))))}var M=(0,c.nD)("button.label"),x=(0,c.nD)("codebookAgent.buildingCodeFilesReadyModal");function j(e){var t=e.agentData,n=r.useState([]),c=(0,o.Z)(n,2),p=c[0],f=c[1],v=(0,u.QU)({refetchOnWindowFocus:!1,onSuccess:function(e){f(e.results.filter((function(e){return(0,l.zm)(e.permission)})))}}).isFetching;return r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,x("title"))),r.createElement("img",{className:"teQPSnnJptSHfp58K1Z1",src:s,alt:x("title")}),r.createElement(a.ZP.Body,null,r.createElement("div",{className:"nlGO2CSixO3xDaTO4iUk di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},x("subtitle")),r.createElement("div",{className:"OWL0614kPI3X7V4zq0qn Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},x("description"))),r.createElement(a.ZP.Footer,null,r.createElement("div",{className:"DBprPMQzF6RsPX3RasMw"},r.createElement(i.Z,{type:i.Z.TERTIARY,disabled:v,onClick:function(){!function(e){var t=e.agentData,n=e.suggestedFiles,o=e.showLoader,i=e.onRemove;(0,a.Ll)(r.createElement(_,{agentData:t,suggestedFiles:n,showLoader:o,onRemove:i}),{onRequestClose:a.GZ,size:a.ZP.sizes.XL,withCloseButton:!0})}({agentData:t,suggestedFiles:p,showLoader:v,onRemove:function(e){return f(e)}}),(0,m.n$)()}},x("viewDetectedFiles")),r.createElement("div",{className:"qQGbFaGksJikCfSQ9OEE"},r.createElement(i.Z,{type:i.Z.SECONDARY,onClick:function(){(0,m.$e)(),(0,a.Mr)()}},M("close")),r.createElement(i.Z,{onClick:function(){var e=(0,d.u$)({agentData:t,suggestedFiles:p});(0,E.Z)({initialValuesForForm:e,unprocessedPaths:t.unprocessedPaths||[]}),(0,m.LE)()}},M("continue"))))))}function G(e){(0,a.Ll)(r.createElement(j,{agentData:e}),{onRequestClose:a.GZ,size:a.ZP.sizes.XL,withCloseButton:!0})}},960503:function(e,t,n){n.d(t,{Z:function(){return fe}});var r=n(667294),a=n(610861),o=n(204942),i=n(115861),l=n(364687),c=n.n(l),s=n(403455),u=n(914578),d=n(579621),m=n(762074),E=n(531926),p=n(698607),f=n(799532),v=n(581355),g=n(936),b=n(87796),y=n(284686),h=n(819082),Z=n(487462),T=n(547700),S=n(338637),C="sources.egnyte.enabled",N="sources.webSearch.enabled",A="sources.webSearch.type",O="sources.egnyte.selectedFiles",P="sources.webSearch.selectedSources",I=(0,m.nD)("codebookAgent.createCodebookAgent");function R(){var e=(0,r.useRef)(null);return r.createElement("div",{className:"gOc246IarmCj3XzlDzjO"},r.createElement(h.Z,{name:"instruction",type:h.Z.TYPES.TEXTAREA,label:I("instruction.label"),labelProps:{required:!0},immediateError:!0,inline:!1,control:function(t){var n=t.field,a=t.hasError;return r.createElement(r.Fragment,null,r.createElement(T.Z,(0,Z.default)({disabled:!0,inputRef:e,"aria-label":I("instruction.label"),placeholder:I("instruction.placeholder"),"data-ref":"question-input","data-pendoid":"codebook-agent-instruction-input",hasError:a,searchProps:{referrer:"codebook-agent-instruction",folderPath:S.FR,preferredFolderPath:S.FR},rows:10,popoverProps:{zIndex:1},"data-tid":"codebook-agent-instruction-input-editor"},n)))}}))}var D=n(529439),k=n(289098),L=n(538420),w=n(45596),F=n(871639),_=n(13764),M=(0,m.nD)("button.label"),x=(0,m.nD)("codebookAgent.filePickerModal");function j(e){var t=e.onFilesSelection,n=e.selectedFileFolderPath,o=e.selectedFiles,i=e.onClose,l=(0,r.useState)(o),c=(0,D.Z)(l,2),s=c[0],u=c[1];return r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,x("title")),r.createElement(a.ZP.Subtitle,null,x("subtitle"))),r.createElement(a.ZP.Body,null,r.createElement(w.Z,{className:"i298pQ65ghU6Mwp_XnGx",isMultiple:!0,defaultFolder:{path:n||"/"},defaultValue:s,onChange:function(e){return u(e)},isDisabledFileEntry:function(e){return!(0,_.zm)(e.permission)&&x("tooltips.editorPermission")},allowedExtensions:F.IG,isFileFromMultipleFoldersAllowed:!0})),r.createElement(a.ZP.Footer,null,r.createElement("div",{className:"JzhploU7WM3FWGGKfgPq"},x("selectedFiles",{count:null==s?void 0:s.length})),r.createElement(d.Z,{type:d.Z.SECONDARY,onClick:i},M("cancel")),r.createElement(d.Z,{onClick:function(){return t(s)}},M("continue"))))}function G(e){var t=e.onFilesSelection,n=e.selectedFiles,o=e.selectedFileFolderPath,i=e.onClose;(0,a.Ll)(r.createElement(j,{onFilesSelection:t,selectedFiles:n,selectedFileFolderPath:o,onClose:i}),{onRequestClose:a.GZ,size:a.ZP.sizes.XL,withCloseButton:!0})}var U=n(319783),B=n(694780),z=n(215105),q=n(141797),Y=(0,m.nD)("codebookAgent.createCodebookAgent");function H(e){var t=e.onClose,n=e.onConfirm,a=e.sourceType===F.FW.EGNYTE?{title:Y("egnyteSource.disableWarning.title"),message:Y("egnyteSource.disableWarning.message")}:{title:Y("webSource.disableWarning.title"),message:Y("webSource.disableWarning.message")},o=a.title,i=a.message;return r.createElement(r.Fragment,null,r.createElement(q.Z.Header,null,r.createElement(q.Z.Title,null,o)),r.createElement(q.Z.Body,null,r.createElement("p",null,i)),r.createElement(q.Z.Footer,null,r.createElement(d.Z,{type:d.Z.SECONDARY,onClick:t},(0,m.t)("button.label.cancel")),r.createElement(d.Z,{type:d.Z.PRIMARY,variant:d.Z.variants.DESTRUCTIVE,onClick:n,"data-tid":"disable-source-warning-confirm"},(0,m.t)("button.label.disable"))))}function V(e){var t=e.onClose,n=e.onConfirm,o=e.sourceType;(0,a.Ll)(r.createElement(H,{onClose:t,onConfirm:n,sourceType:o}),{onRequestClose:a.GZ,size:a.ZP.sizes.M,withCloseButton:!0})}var W="Q2iZJ9BPOrgxdcfKQf5N",K=(0,m.nD)("codebookAgent.createCodebookAgent");function Q(e){var t,n,o,i,l=e.disabled,c=void 0!==l&&l,u=(0,s.u6)(),E=u.values,p=u.setFieldValue,f=null===(t=E.sources)||void 0===t||null===(n=t.egnyte)||void 0===n?void 0:n.selectedFiles,v=(0,r.useState)(!1),g=(0,D.Z)(v,2),b=g[0],y=g[1],h=(0,r.useState)(!1),Z=(0,D.Z)(h,2),T=Z[0],S=Z[1],I=function(){(0,a.GZ)(),b&&(p(C,!1),p(O,[])),y(!1),(0,z.gE)()},R=function(){(0,a.GZ)(),T&&(p(N,!1),p(A,void 0),p(P,[])),S(!1),(0,z.l2)()},w=function(){var e,t,n,r,o,i,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];G({onFilesSelection:function(e){p(O,e),(0,a.GZ)(),(0,z.Wr)()},selectedFiles:(0,B.ZU)((null===(e=E.sources)||void 0===e||null===(t=e.egnyte)||void 0===t?void 0:t.selectedFiles)||[]),selectedFileFolderPath:(0,U.XX)((null===(n=E.sources)||void 0===n||null===(r=n.egnyte)||void 0===r||null===(o=r.selectedFiles)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.path)||"/"),onClose:a.GZ}),l?(0,z.vV)():(0,z.cD)()};return r.createElement("div",{className:"TtkZY2cPkxCQYSK3MqCO"},r.createElement("div",{className:W},r.createElement("div",{className:"ta7uUr4Ojubd2y2gk6PE"},r.createElement(k.Switch,{name:C,"data-tid":"egnyte-switch",onChange:function(e){var t,n,r,o,i=e.target.checked;!i&&null!==(t=E.sources)&&void 0!==t&&null!==(n=t.egnyte)&&void 0!==n&&n.enabled?(y(!0),V({onClose:function(){(0,a.GZ)(),y(!1),p(C,!i)},onConfirm:I,sourceType:F.FW.EGNYTE})):(p(C,i),!i||null!==(r=E.sources)&&void 0!==r&&null!==(o=r.egnyte)&&void 0!==o&&o.enabled||p(O,[]),(0,z.I8)())},label:K("egnyteSource.label"),"aria-label":K("egnyteSource.label"),infoTooltip:K("egnyteSource.info"),disabled:c})),(null===(o=E.sources)||void 0===o||null===(i=o.egnyte)||void 0===i?void 0:i.enabled)&&r.createElement("div",{className:"PYa2Wx27olKAKhTStfdn"},f&&f.length>0?r.createElement("div",{className:"iVqyZumiRMN92e8sx3GF vSadc0pqvD7KtbqURZCR"},(0,m.t)("agents.fileFolderPicker.selectedItem",{count:f.length}),r.createElement(d.Z,{disabled:c,"data-tid":"egnyte-source-edit-button",type:d.Z.TERTIARY,onClick:function(){return w(!0)}},(0,m.t)("button.label.edit"))):r.createElement("div",{className:"qkRHmURma7dlkzrmAIRm Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},r.createElement(d.Z,{type:d.Z.PRIMARY,onClick:function(){return w()}},K("egnyteSource.selectFiles"))))),r.createElement("div",{className:W},r.createElement(L.x,{disabled:c,onToggle:function(e){var t,n,r,o,i=e.target.checked;!i&&null!==(t=E.sources)&&void 0!==t&&null!==(n=t.webSearch)&&void 0!==n&&n.enabled?(S(!0),V({onClose:function(){(0,a.GZ)(),S(!1),p(N,!i)},onConfirm:R,sourceType:F.FW.WEB_SEARCH})):(p(N,i),p(P,[]),i&&(p(A,"all"),null!==(r=E.sources)&&void 0!==r&&null!==(o=r.webSearch)&&void 0!==o&&o.enabled&&p(P,[])),(0,z.fH)())},showWebSearchOptions:!0,onSelectionTypeChange:function(e){"selected"===e?(0,z.CU)():(0,z.CE)()},onEditButtonClick:function(){(0,z.FK)()},onAddButtonClick:function(){(0,z.M4)()},onRemoveButtonClick:function(){(0,z.xW)()},onSaveButtonClick:function(){(0,z.KD)()}})))}var X=(0,m.nD)("codebookAgent.createCodebookAgent"),J=function(){return r.createElement("div",{className:"mpKY9OqHTNQQ3oES6IEY"},r.createElement("div",{className:"wj74zbL8UViXAHH7JjTQ di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},X("subtitle.label"),r.createElement(p.Z,{tooltip:X("subtitle.info")},r.createElement(f.Z,{icon:v.yo}))),r.createElement("div",{className:"KTsgY06YAU8JKpe4Q3h3"},r.createElement(g.Z,{name:"name",label:X("name"),required:!0,immediateError:!0,inline:!1}),r.createElement(b.Z,{name:"description",label:X("description"),rows:3,required:!0,immediateError:!0,inline:!1}),r.createElement(y.Z,{name:"iconName",label:X("iconPicker.label"),placeholder:X("iconPicker.placeholder"),required:!0,immediateError:!0,infoTooltip:X("iconPicker.info"),inline:!1}),r.createElement(R,{"data-tid":"agent-instruction-input-editor"}),r.createElement("div",{className:"NkD0z3q0Sds18RV8CYog"},r.createElement(h.Z,{name:"sources",type:h.Z.TYPES.TEXTAREA,label:X("sources.label"),labelProps:{hasColon:!1,bold:!0,required:!1,infoTooltip:X("sources.info")},immediateError:!0,inline:!1,control:function(){return r.createElement(Q,null)}}))))},$=n(923942),ee=n(116514),te=n(85946),ne=n(397404),re=n(221752),ae=n(154177),oe=n(735691),ie=(0,m.nD)("agents.agentCreation.form.fields"),le=oe.Ry().shape({name:oe.Z_().min(2).max(128).required(),iconName:oe.Z_().required(),description:oe.Z_().required().max(1e3),instruction:oe.Z_().required(ie("errors.instructionMinLength")).min(11,ie("errors.instructionMinLength")),sources:oe.Ry().shape({egnyte:oe.Ry().shape({enabled:oe.O7(),selectedFiles:oe.IX()}),webSearch:oe.Ry().shape({enabled:oe.O7(),type:oe.Z_(),selectedSources:oe.IX()})}).test("at-least-one-source-enabled",ie("errors.atLeastOneSourceRequired"),(function(e){var t,n,r=e;return Boolean((null==r||null===(t=r.egnyte)||void 0===t?void 0:t.enabled)||(null==r||null===(n=r.webSearch)||void 0===n?void 0:n.enabled))})).test("egnyte-files-required",ie("errors.selectedFilesRequired"),(function(e){var t,n,r,a=e;return null==a||null===(t=a.egnyte)||void 0===t||!t.enabled||(null===(n=(null==a||null===(r=a.egnyte)||void 0===r?void 0:r.selectedFiles)||[])||void 0===n?void 0:n.length)>0})).test("websearch-sources-required",ie("errors.selectedWebSourcesRequired"),(function(e){var t,n,r,a,o=e;return null==o||null===(t=o.webSearch)||void 0===t||!t.enabled||(null==o||null===(n=o.webSearch)||void 0===n?void 0:n.type)!==$.D5.SELECTED||(null===(r=(null==o||null===(a=o.webSearch)||void 0===a?void 0:a.selectedSources)||[])||void 0===r?void 0:r.length)>0})).required()}),ce=n(620539);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=(0,m.nD)("codebookAgent.createCodebookAgent"),me=(0,ne.Sh)({showExclusively:!0}).showNotification,Ee=(0,B.u$)({suggestedFiles:[]});function pe(e){var t=e.initialValuesForForm,n=e.unprocessedPaths,o=e.onNavigateToAgent,l=(0,u.merge)({},Ee,t),p=(0,ee.Z)().canPerformAgentOperation,f=(0,re.X5)(),v=(0,re.vQ)(l.agentId),g=!!l.agentId||l.status===$.xx.DRAFT,b=(l.agentId?v:f).mutate,y=(0,re.ye)({includePlaceholderData:p,includeProcessingStatistics:!0}).refetch;return r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,de("title"))),r.createElement(s.J9,{initialValues:l,onSubmit:function(e,t){var n=t.setSubmitting,r=t.setStatus,s=e.name,u=e.description,d=e.instruction,m=e.iconName,E=e.sources,p=(0,B.rX)(E),f={name:s,description:u,instruction:d,iconName:m,paths:p,type:$.wD.AGENT,agentType:$.lQ.GENERIC,subType:$.AC.CODEBOOKS_AGENT};b(f,{onSuccess:function(e){return(0,i.Z)(c().mark((function t(){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(me(ne.em.success,de(g?"notifications.updateSuccess":"notifications.success"),{persist:!0,displayTime:13e3}),(0,a.Mr)(),g?(0,te.X0)({entryPoint:$.eR.COPILOT_HUB,agentName:s,identifier:l.agentId||"-",subType:$.AC.CODEBOOKS_AGENT}):(0,te.jf)({entryPoint:$.eR.COPILOT_HUB,agentName:s,agentDescription:u,sourceSelected:!(null==E||null===(n=E.egnyte)||void 0===n||!n.enabled)||!(null==E||null===(r=E.webSearch)||void 0===r||!r.enabled)}),!o){t.next=9;break}return t.next=6,y();case 6:o(e.id),t.next=10;break;case 9:y();case 10:case"end":return t.stop()}}),t)})))()},onError:function(e){if(n(!1),(0,ae.k0)(e)){var t=(0,ae.lt)(e),a=(0,ae.e$)(e,"");a?me(ne.em.error,a):t&&r({errors:t})}else me(ne.em.error,de(g?"notifications.updateError":"notifications.error"))}})},validationSchema:le,enableReinitialize:!0},r.createElement(s.l0,null,r.createElement(r.Fragment,null,r.createElement(a.ZP.Body,null,g&&(null==n?void 0:n.length)>0&&r.createElement("div",{className:"_XNO23YwUK3VlJmm6g_d"},r.createElement(ce.Z,{agentData:ue(ue({},l),{},{id:l.agentId,paths:(0,B.rX)(l.sources),unprocessedPaths:n})})),r.createElement(J,null)),r.createElement(a.ZP.Footer,null,r.createElement(d.Z,{type:d.Z.SECONDARY,onClick:a.Mr},(0,m.t)("button.label.cancel")),r.createElement(E.Z,{idleText:(0,m.t)("button.label.save")}))))))}function fe(e){var t=e.initialValuesForForm,n=e.unprocessedPaths,o=e.onNavigateToAgent;(0,a.Ll)(r.createElement(pe,{initialValuesForForm:t,unprocessedPaths:n,onNavigateToAgent:o}),{onRequestClose:a.GZ,size:a.ZP.sizes.XL,withCloseButton:!0})}},999631:function(e,t,n){n.d(t,{Z:function(){return K}});var r=n(667294),a=n(610861),o=n(204942),i=n(529439),l=n(579621),c=n(762074),s=n(871639),u=n(793866),d=n(397404),m=n(215105),E=n(354111),p=n(32570),f=n(681680),v=n(316074),g=n(950455),b=n(698607),y=n(549998),h=n(833331),Z=n(694780),T={container:"DWovj4z52ELE6rSRLwB3",dropdownsContainer:"LHjrzW6TfZ2DtQHneQKW",dropdownRow:"E8lJCwvTtVt30FT9akhY",dropdownItem:"gV0mECLYZdPiHMYCGNQH",label:"OjUy1Ya_N8ZAfUNbLPeF"};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=(0,c.nD)("codebookAgent.agentExecution.configuration"),A=(0,d.Sh)({namespace:"copilot/agents/codebooks"}).showNotification,O=9999;function P(e){var t=e.item,n=e.isVisible,a=e.onJurisdictionChange,o=e.onCodeYearChange,l=e.onBuildingTypeChange,s=e.currentJurisdiction,m=e.currentCodeYear,E=e.currentBuildingTypes,p=void 0===E?[]:E,f=(0,r.useState)(s||""),v=(0,i.Z)(f,2),S=v[0],P=v[1],I=(0,r.useState)(m||""),R=(0,i.Z)(I,2),D=R[0],k=R[1],L=(0,r.useState)(p),w=(0,i.Z)(L,2),F=w[0],_=w[1];(0,r.useEffect)((function(){P(s||"")}),[s]),(0,r.useEffect)((function(){k(m||"")}),[m]),(0,r.useEffect)((function(){_(p)}),[p]);var M=(0,u.Nr)(C(C({},h.S),{},{onError:function(){A(d.em.error,(0,c.t)("error.default"))}})).data,x=(0,r.useMemo)((function(){return(0,Z.X6)(M)}),[M]),j=x.jurisdictionOptions,G=x.yearOptions,U=x.buildingTypeOptions;if(!n)return null;var B=![y.Hz.FULL,y.Hz.OWNER,y.Hz.EDITOR].includes(t.permission);return r.createElement("div",{className:T.container},r.createElement("div",{className:T.dropdownsContainer},r.createElement("div",{className:T.dropdownRow},r.createElement("div",{className:T.dropdownItem},r.createElement("label",{className:T.label,htmlFor:"jurisdiction-".concat(t.entryId)},N("jurisdiction")),r.createElement(b.Z,{tooltip:N("permissionError"),disabled:!B},r.createElement(g.Z,{inputId:"jurisdiction-".concat(t.entryId),value:S,onChange:function(e){P(e),a(t.entryId,e)},options:j,isDisabled:B,menuPortalTarget:document.body,styles:{menuPortal:function(e){return C(C({},e),{},{zIndex:O})}},isSearchable:!0}))),r.createElement("div",{className:T.dropdownItem},r.createElement("label",{className:T.label,htmlFor:"codeYear-".concat(t.entryId)},N("codeYear")),r.createElement(b.Z,{tooltip:N("permissionError"),disabled:!B},r.createElement(g.Z,{inputId:"codeYear-".concat(t.entryId),value:D,onChange:function(e){k(e),o(t.entryId,e)},options:G,isDisabled:B,menuPortalTarget:document.body,styles:{menuPortal:function(e){return C(C({},e),{},{zIndex:O})}},isSearchable:!0}))),r.createElement("div",{className:T.dropdownItem},r.createElement("label",{className:T.label,htmlFor:"buildingTypes-".concat(t.entryId)},N("buildingTypes")),r.createElement("div",{className:T.selectContainer},r.createElement(b.Z,{tooltip:N("permissionError"),disabled:!B},r.createElement(g.Z,{inputId:"buildingTypes-".concat(t.entryId),value:F,onChange:function(e){_(e),l(t.entryId,e)},options:U,isDisabled:B,menuPortalTarget:document.body,styles:{menuPortal:function(e){return C(C({},e),{},{zIndex:O})}},isMulti:!0,isSearchable:!0})))))))}var I=n(621465),R=n(4845),D=n(499345),k=n(799532),L=n(379499),w=n(323063),F=n(162134),_=n(799756),M=(0,c.nD)("codebookAgent.reviewBuildingCodeFiles");function x(e){var t=e.item,n=null==t?void 0:t.path.split("/").pop(),a=t.displayedName||t.name||n,o=t&&(!t.jurisdiction||!t.codeYear||!t.buildingTypes||0===t.buildingTypes.length);return r.createElement("div",{className:"BoQiZLOqDoWZxLGodNeb"},r.createElement("span",{className:"GI2bFu3IzF9EedODDcO2"},r.createElement(F.Z,{name:a,type:w.dt.FILE})),r.createElement("div",{className:"YFtlYfwCUG8BxYCV_dOG"},r.createElement("span",null,r.createElement(_.Z,{maxLinesCount:1,trimWhitespace:!0},a)),r.createElement("span",{className:"VNBrGMcTO0MVqyjDKiQc"},r.createElement(D.Z,null," ",t.path," "))),o&&r.createElement("span",null,r.createElement(b.Z,{tooltip:M("errorHint")},r.createElement(k.Z,{"data-tid":"alert-icon",icon:L.no,size:k.Z.sizes.M,variant:k.Z.variants.ERROR}))))}var j=(0,c.nD)("codebookAgent");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=(0,c.nD)("codebookAgent"),z=function(e){var t=e.processedFiles,n=e.showLoader,a=e.allowedExtensions,l=void 0===a?[]:a,c=e.onMetadataChange,s=(0,r.useState)(""),u=(0,i.Z)(s,2),d=u[0],g=u[1],b=(0,r.useState)({}),y=(0,i.Z)(b,2),h=y[0],Z=y[1],T=(0,r.useCallback)((function(e){var t=e.jurisdiction,n=e.codeYear,r=e.buildingTypes;return!t||!n||!r||0===r.length}),[]),S=(0,r.useMemo)((function(){return t.map((function(e){return U(U({},e),{},{hasErrors:T(e)})})).sort((function(e,t){return e.hasErrors===t.hasErrors?0:e.hasErrors?-1:1}))}),[t,T]),C=(0,r.useMemo)((function(){var e=S.filter((function(e){var t;return null===(t=null==l?void 0:l.includes((0,v.Z)(e.path)))||void 0===t||t}));return d.trim()?e.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase())||e.path.toLowerCase().includes(d.toLowerCase())})):e}),[S,d,l]),N=(0,r.useCallback)((function(e,t){Z((function(n){return U(U({},n),{},(0,o.Z)({},e,U(U({},n[e]),t)))})),null==c||c(e,t)}),[c]),A=(0,r.useCallback)((function(e,t){N(e,{jurisdiction:t}),(0,m.TX)()}),[N]),O=(0,r.useCallback)((function(e,t){N(e,{codeYear:t}),(0,m.OP)()}),[N]),D=(0,r.useCallback)((function(e,t){N(e,{buildingTypes:t}),(0,m.uq)()}),[N]),k=[{id:"expand",accessor:function(e){return e.entryId},width:20,minWidth:20,disableSortBy:!0,disableResizing:!0,Cell:function(e){var t=e.row;return r.createElement(R.Z,{icon:t.isExpanded?I.m5:I.Dd,size:R.Z.sizes.SMALL,"data-testid":t.isExpanded?"chevron-up-icon":"chevron-down-icon","aria-label":j("actions.expand"),onClick:function(e){e.stopPropagation(),t.toggleRowExpanded()}})}},{id:"name",Header:j("suggestedFiles.columns.fileName"),enableSorting:!0,accessor:function(e){return e.name},width:200,minWidth:200,disableResizing:!0,Cell:function(e){var t=e.row;return r.createElement(x,{item:t.original})}}],L=(0,r.useCallback)((function(e){var t,n,a,o,i,l,c,s=e.row,u=s.original.entryId,d=h[u];return r.createElement("div",{className:"AnWUkALggm8XqjiB04h_"},r.createElement(P,{isVisible:!0,item:s.original,onJurisdictionChange:A,onCodeYearChange:O,onBuildingTypeChange:D,currentJurisdiction:null!==(t=null==d?void 0:d.jurisdiction)&&void 0!==t?t:null===(n=s.original)||void 0===n?void 0:n.jurisdiction,currentCodeYear:null!==(a=null==d?void 0:d.codeYear)&&void 0!==a?a:null===(o=s.original)||void 0===o?void 0:o.codeYear,currentBuildingTypes:null!==(i=null==d?void 0:d.buildingTypes)&&void 0!==i?i:(null===(l=s.original)||void 0===l||null===(c=l.buildingTypes)||void 0===c?void 0:c.map((function(e){return{label:e,value:e}})))||[]}))}),[A,O,D,h]),w=(0,r.useCallback)((function(e){return e.id}),[]),F=(0,r.useCallback)((function(e){return{style:{cursor:"pointer",height:"40px"},onClick:function(){return e.toggleRowExpanded()}}}),[]);return r.createElement("div",{"data-tid":"file-list",className:"pXDMkuTw4hcLh5vQ7eoe"},r.createElement("div",{className:"gCZzZgWpff19Q31UmAxI"},r.createElement(f.Z,{value:d,placeholder:B("suggestedFiles.searchPlaceholder"),onChange:function(e){return g(e.target.value)},onClear:function(){return g("")},onFocus:m.GH})),n?r.createElement("div",{className:"fkLiYRj_Wol7z1_vl0MB"},r.createElement(p.Z,null)):0===C.length?r.createElement("div",{className:"AeajHgEhzjtbN5pwozit"},B("suggestedFiles.noResults")):r.createElement("div",{className:"KCRnovUgiqYKIxwl2TwA"},r.createElement(E.Z,{columns:k,data:C,getRowId:w,getRowProps:F,renderRowSubComponent:L,withCondensedView:!1,features:{sort:!0,pagination:!1,virtualList:!0,rowExpand:!0},configuration:{withHeader:!0,withPagination:!1,withSelection:!1}})))};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=(0,c.nD)("button.label"),V=(0,c.nD)("codebookAgent.reviewBuildingCodeFiles");function W(){var e,t=(0,u.Eh)(),n=t.data,c=t.isLoading,E=(0,r.useState)({}),p=(0,i.Z)(E,2),f=p[0],v=p[1],g=(0,u.N5)({onSuccess:function(){(0,d.c0)(d.em.success,V("metadataSuccess")),(0,a.GZ)()},onError:function(){(0,d.c0)(d.em.error,V("metadataError"))}});return r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,V("title"))),r.createElement(a.ZP.Body,null,r.createElement("div",null,r.createElement("div",{className:"K1LoLkUoKHUmHjhWBv8j di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},V("subtitle")),r.createElement(a.ZP.Subtitle,null,V("description"))),r.createElement(z,{processedFiles:null!==(e=null==n?void 0:n.results)&&void 0!==e?e:[],showLoader:c,allowedExtensions:s.IG,onMetadataChange:function(e,t){var r,a=null==n||null===(r=n.results)||void 0===r?void 0:r.find((function(t){return t.entryId===e}));!a||void 0===t.jurisdiction&&void 0===t.codeYear&&void 0===t.buildingTypes||v((function(n){var r=n[e]||{groupId:a.groupId,jurisdiction:"",codeYear:"",buildingTypes:[]};return Y(Y({},n),{},(0,o.Z)({},e,Y(Y(Y(Y({},r),void 0!==t.jurisdiction&&{jurisdiction:t.jurisdiction}),void 0!==t.codeYear&&{codeYear:t.codeYear}),void 0!==t.buildingTypes&&{buildingTypes:t.buildingTypes.map((function(e){return e.value}))})))}))}})),r.createElement(a.ZP.Footer,null,r.createElement(l.Z,{type:l.Z.SECONDARY,onClick:function(){(0,a.GZ)(),(0,m.jl)()}},H("cancel")),r.createElement(l.Z,{onClick:function(){var e=Object.values(f);e.length>0?g.mutate({metadataRequests:e}):(0,a.GZ)(),(0,m.dI)()},disabled:g.isLoading},H("save"))))}function K(){(0,a.Ll)(r.createElement(W,null),{onRequestClose:a.GZ,size:a.ZP.sizes.XL,withCloseButton:!0})}},518073:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(667294),a=n(610861),o=n(529439),i=n(955010),l=n(799532),c=n(579621),s=n(762074),u=n(221752),d=n(871639),m=n(923942),E=n(397404),p=n(354111),f=n(32570),v=n(316074),g=n(947124),b=n(379499),y=n(698607),h=n(499345),Z=n(323063),T=n(162134),S=n(799756),C=(0,s.nD)("codebookAgent.sourcesBeingProcessedforExtraction.alertIconHint");function N(e){var t=e.item,n=null==t?void 0:t.path.split("/").pop(),a=t.name||n,o=t.status===d.qz.ACTIVE?r.createElement(y.Z,{tooltip:C("processing")},r.createElement(l.Z,{"data-tid":"processing",icon:g.XV,size:l.Z.sizes.M,variant:l.Z.variants.WARN})):r.createElement(y.Z,{tooltip:C("failed")},r.createElement(l.Z,{"data-tid":"failed",icon:b.no,size:l.Z.sizes.M,variant:l.Z.variants.ERROR}));return r.createElement("div",{className:"m0yEEQPLy9jXU6cWYQnc"},r.createElement("span",{className:"QEWHorL9ZUXwDr_ENqWw"},r.createElement(T.Z,{name:a,type:Z.dt.FILE})),r.createElement("div",{className:"u6CPV99InBe2X9SQ_59B"},r.createElement("div",{className:"HeuTjOilHXyHS5yNb_mm"},r.createElement("span",null,r.createElement(S.Z,{maxLinesCount:1,trimWhitespace:!0},a)),r.createElement("span",{className:"De6U1XlP78NieQvJ4W1u"},r.createElement(h.Z,null,t.path))),r.createElement("span",null,o)))}var A=(0,s.nD)("codebookAgent.sourcesBeingProcessedforExtraction"),O=function(e){var t=e.unprocessedPaths,n=e.showLoader,a=e.allowedExtensions,o=(0,r.useMemo)((function(){return t.filter((function(e){return a.includes((0,v.Z)(e.path))}))}),[t,a]),i=(0,r.useCallback)((function(e){return e.id}),[]);return r.createElement("div",{"data-tid":"processing-file-list",className:"F8r6zOzT4xhOkU9M62FO"},n?r.createElement("div",{className:"epsw81gnCzG90dpDRF9M"},r.createElement(f.Z,null)):0===o.length?r.createElement("div",{className:"N3B_KhAKJZ3HVo29FQhv"},A("noResults")):r.createElement("div",{className:"roe6rv742PbBFouUg6g4"},r.createElement(p.Z,{columns:[{id:"name",accessor:function(e){return e.name},width:400,minWidth:200,disableResizing:!0,Cell:function(e){var t=e.row;return r.createElement(N,{item:t.original})}}],data:o,getRowId:i,withCondensedView:!1,features:{pagination:!1,virtualList:!1,rowExpand:!1},configuration:{withHeader:!1,withPagination:!1,withSelection:!1}})))},P=(0,s.nD)("button.label"),I=(0,s.nD)("codebookAgent.sourcesBeingProcessedforExtraction"),R=(0,E.Sh)({showExclusively:!0}).showNotification;function D(e){var t=e.agentData,n=e.title,s=e.description,p=t.unprocessedPaths||[],f=p.filter((function(e){return e.status===d.qz.FAILED})),v=(0,r.useState)(!1),g=(0,o.Z)(v,2),b=g[0],y=g[1],h=t.id,Z=t.paths,T=t.name,S=t.type,C=t.subType,N=t.instruction,A=t.description,D=(0,u.vQ)(h).mutateAsync;return r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,n)),r.createElement(a.ZP.Body,null,r.createElement(a.ZP.Subtitle,null,s),r.createElement(O,{unprocessedPaths:p,showLoader:!1,allowedExtensions:d.IG})),r.createElement(a.ZP.Footer,null,f.length>0&&r.createElement(c.Z,{type:c.Z.SECONDARY,disabled:b,variant:c.Z.variants.DESTRUCTIVE,onClick:function(){y(!0);var e=new Set(f.map((function(e){return e.entryId}))),t={name:T,type:S,subType:C,instruction:N,description:A,agentType:m.lQ.GENERIC,paths:null==Z?void 0:Z.filter((function(t){return t.type===m.Ss.FILE&&!e.has(t.entryId||"")})).map((function(e){return{entryId:e.entryId,type:e.type,status:e.status}}))};D(t,{onSuccess:function(){y(!1),(0,a.GZ)(),R(E.em.success,I("notifications.success"))},onError:function(){y(!1),R(E.em.error,I("notifications.error"))}})}},b&&r.createElement(c.Z.Icon,{icon:i.V,spin:!0,customSize:l.Z.sizes.M}),I("actions.removeUnsupportedFiles")),r.createElement(c.Z,{type:c.Z.SECONDARY,disabled:b,onClick:a.GZ},P("close"))))}function k(e){var t=e.agentData,n=e.title,o=e.description;(0,a.Ll)(r.createElement(D,{agentData:t,title:n,description:o}),{onRequestClose:a.GZ,size:a.ZP.sizes.XL,withCloseButton:!0})}},197022:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(667294),a=n(809742),o=n(821442),i=n(762074),l=n(999631),c=n(923942),s=n(215105),u=(0,i.nD)("codebookAgent.agentExecution.configuration"),d=function(e){var t=e.sidebarMode;return r.createElement(a.Z,{className:"D1WQiIWpvfVwAgRT1kme",type:a.Z.types.WARN,fullWidth:!0},r.createElement("span",{className:"kgiZ72Jgv9kgMsdbxJDm Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},u("extractionFailed")," "),"",r.createElement(o.Z,{className:"YUFoS4Ad73NzMiJDn9Vk Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6",onClick:function(){(0,l.Z)(),(0,s.YR)(t?c.eR.SIDEBAR:c.eR.COPILOT_HUB)}},u("clickToResolveLink")))}},620539:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(667294),a=n(962284),o=n(809742),i=n(821442),l=n(518073),c=n(951347);function s(e){var t=e.agentData,n=t.unprocessedPaths||[],s=(0,c.x)({unprocessedPaths:n}),u=s.title,d=s.description,m=s.infoText,E=s.linkText;return r.createElement(o.Z,{className:"AcH5JCUpAm0zWln2umU4",type:o.Z.types.WARN,fullWidth:!0},r.createElement(a.Z,{direction:"column",alignItems:"start",gap:1},r.createElement("span",null,m," "),r.createElement(i.Z,{className:"Lul3sTTksPX5pymoyJ1_",onClick:function(){return(0,l.Z)({agentData:t,title:u,description:d})}},E)))}},951347:function(e,t,n){n.d(t,{x:function(){return s}});var r=n(204942),a=n(762074),o=n(871639);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,a.nD)("codebookAgent.sourcesBeingProcessedforExtraction"),s=function(e){var t=e.unprocessedPaths,n=t.filter((function(e){return e.status===o.qz.ACTIVE})),r=t.filter((function(e){return e.status===o.qz.FAILED})),a={activePaths:n,failedPaths:r};return n.length&&r.length?l(l({},a),{},{title:c("unprocessedStateCombined.title"),description:c("unprocessedStateCombined.description"),infoText:c("unprocessedStateCombined.infoText"),linkText:c("unprocessedStateCombined.linkText")}):r.length?l(l({},a),{},{title:c("unprocessedStateFailed.title"),description:c("unprocessedStateFailed.description"),infoText:c("unprocessedStateFailed.infoText"),linkText:c("unprocessedStateFailed.linkText")}):n.length?l(l({},a),{},{title:c("unprocessedStateProcessing.title"),description:c("unprocessedStateProcessing.description"),infoText:c("unprocessedStateProcessing.infoText"),linkText:c("unprocessedStateProcessing.linkText")}):l(l({},a),{},{title:"",description:"",infoText:"",linkText:""})}},871639:function(e,t,n){n.d(t,{FW:function(){return r},IG:function(){return a},jm:function(){return i},qz:function(){return o}});var r={EGNYTE:"egnyte",WEB_SEARCH:"webSearch"},a=["pdf"],o={ACTIVE:"ACTIVE",FAILED:"FAILED"},i="codebooksAgentConfiguration"},694780:function(e,t,n){n.d(t,{Aj:function(){return g},DD:function(){return b},G9:function(){return v},OZ:function(){return f},X6:function(){return p},ZU:function(){return E},rX:function(){return m},u$:function(){return d}});var r=n(204942),a=n(145987),o=n(923942),i=n(762074),l=["groupId"];function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=(0,i.nD)("codebookAgent.agentExecution.configuration.validationMessages"),d=function(e){var t=e.agentData,n=e.suggestedFiles,r=t||{},a=r.name,o=void 0===a?"":a,i=r.description,l=void 0===i?"":i,c=r.iconName,s=void 0===c?"":c,u=r.instruction;return{name:o,description:l,iconName:s,instruction:void 0===u?"":u,sources:{egnyte:{enabled:!0,selectedFiles:n},webSearch:{enabled:!1,selectedSources:[]}}}};function m(e){var t,n,r,a,i,l,c=[];return null!=e&&null!==(t=e.egnyte)&&void 0!==t&&t.enabled&&null!=e&&null!==(n=e.egnyte)&&void 0!==n&&n.selectedFiles&&e.egnyte.selectedFiles.forEach((function(e){c.push({type:o.Ss.FILE,entryId:e.entryId,status:o.Rj.ACTIVE})})),null!=e&&null!==(r=e.webSearch)&&void 0!==r&&r.enabled&&((null==e||null===(a=e.webSearch)||void 0===a?void 0:a.type)===o.D5.ALL?c.push({type:o.Ss.WEB_SEARCH}):null!=e&&null!==(i=e.webSearch)&&void 0!==i&&i.enabled&&e.webSearch.selectedSources&&(null==e||null===(l=e.webSearch)||void 0===l?void 0:l.type)===o.D5.SELECTED&&e.webSearch.selectedSources.forEach((function(e){c.push({type:o.Ss.WEB_SEARCH,path:e,status:o.Rj.ACTIVE})}))),c}function E(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.groupId},(0,a.Z)(e,l))}))}var p=function(e){if(!e)return{jurisdictionOptions:[],yearOptions:[],buildingTypeOptions:[]};var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(e){return{value:e,label:e}})).sort((function(e,n){return t?n.label.localeCompare(e.label):e.label.localeCompare(n.label)}))};return{jurisdictionOptions:t(e.jurisdictions),yearOptions:t(e.codeYears,!0),buildingTypeOptions:t(e.buildingTypes)}},f=function(e){var t,n,r=e.jurisdiction,a=e.codeYear,i=e.egnyte,l=e.webSearch,c=(null==i?void 0:i.enabled)&&(null===(t=(null==i?void 0:i.selectedFilesAndFolders)||[])||void 0===t?void 0:t.length)>0,s=(null==l?void 0:l.enabled)&&((null==l?void 0:l.type)===o.D5.ALL||(null==l?void 0:l.type)===o.D5.SELECTED&&(null===(n=(null==l?void 0:l.selectedSources)||[])||void 0===n?void 0:n.length)>0);return!c||r&&a?c||s?{isValid:!0,validationMessage:""}:{isValid:!1,validationMessage:u("source")}:{isValid:!1,validationMessage:u("jurisdictionCodeYear")}},v=function(e){return e.replace(/<egn:citation([^>]*?)>([\s\S]*?)<\/egn:citation>/g,(function(e,t,n){var r=n.replace(/\n/g," "),a=t.replace(/ id=/g," data-id=").replace(/ source_id=/g," data-source-id=");return"<citation".concat(a,">").concat(r,"</citation>")}))},g=function(e){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e);try{var a=function(){var e=t.value;n.find((function(t){return t.previewUrl===e.previewUrl}))||n.push({entryId:e.entryId,previewUrl:e.previewUrl,type:e.type,filename:e.fileName})};for(r.s();!(t=r.n()).done;)a()}catch(e){r.e(e)}finally{r.f()}return n.sort((function(e,t){return e.type.localeCompare(t.type)}))},b=function(e){var t="",n=[];return e.forEach((function(e){var r=e.textChunk,a=e.citations,o=r;(void 0===a?[]:a).forEach((function(e){var t='<citation data-id="'.concat(e.id,'" data-source-id="').concat(e.sourceId,'">').concat(e.textSnippet,"</citation>");o+=t,n.push(e)})),t+=o})),{textChunks:t,citationObjects:n,sourceCitations:g(n)}}},877970:function(e,t,n){n.d(t,{Z:function(){return K}});var r=n(667294),a=n(610861),o=n(115861),i=n(204942),l=n(529439),c=n(364687),s=n.n(c),u=n(32570),d=n(579621),m=n(762074),E=n(397404),p=n(451781),f=n(833331),v=n(116514),g=n(927826),b=n(460474),y=n(264928),h=n(338637),Z=n(887519),T=n(564782),S=n(904975),C=n(85946),N=n(885995),A=n(923942),O=n(821442),P=n(930652),I=(0,m.nD)("button"),R=(0,m.nD)("agents.template.header"),D=function(){return r.createElement("div",{className:"zgofwE64S603dV0fHy98"},r.createElement("div",null,r.createElement("span",{className:"uBviaDV6a6TZQaArrn_6 di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},R("title")," "),r.createElement(O.Z,{as:"a",target:"_blank",href:P.Z.agents.info},I("label.learnMore"))),r.createElement("p",{className:"OkAz89FiWPnYC5mSbO8N"},R("description")))},k=n(294184),L=n.n(k),w=n(103025),F=n(652421),_=n(698607),M="H8ipgLaBYjKedJqZR1H8",x="kgOeEODBVFz41nGIdH1v",j=(0,m.nD)("agents.template"),G=function(e){var t=e.onItemSelect,n=e.selectedItem,a=e.data,o=e.showAlphaBadge,l=a.predefined,c=a.custom,s=(0,b.Z)("isSmartAppCodebooksEnabledV2"),u=(0,v.Z)(),d=u.canPerformCodebookOperation,E=u.canPerformCodebookOperationV2,p=s?!E:!d,f=(0,r.useMemo)((function(){var e={name:"custom",title:j("list.custom.title"),items:c},t={name:"predefined",title:j("list.predefined.title"),items:l.sort((function(e,t){var n,r;return null==e||null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase().localeCompare(null==t||null===(r=t.name)||void 0===r?void 0:r.toLocaleLowerCase())}))};return null!=l&&l.length&&null!=c&&c.length?[e,t]:0===(null==l?void 0:l.length)&&0!==(null==c?void 0:c.length)?[e]:0!==(null==l?void 0:l.length)&&0===(null==c?void 0:c.length)?[t]:[]}),[l,c]);return r.createElement("div",{className:"jEQAzAngzMQnfcCiNlXD"},r.createElement(w.Z,{panelHasDefaultSpacing:!0,defaultExpanded:{custom:!0,predefined:!0}},f.map((function(e){var a=e.name,l=e.title,c=e.items;return r.createElement(w.Z.Panel,{name:a,key:a},r.createElement(w.Z.Heading,null,l),r.createElement("div",{className:"WwbNa6f33LwnxAcOeKXd"},c.map((function(e){return function(e){var a;return e.subType===A.AC.CODEBOOKS_AGENT?r.createElement(_.Z,{key:e.name,tooltip:(0,m.t)("agents.tooltips.agentCreationDisabled"),disabled:!p},r.createElement("div",{role:"none",onClick:function(){return!p&&t(e)},key:e.name,className:L()(M,(a={},(0,i.Z)(a,x,(null==n?void 0:n.name)===e.name),(0,i.Z)(a,"dafMF4sHg914aUDK8pei",p),a))},e.name,o&&r.createElement(F.Z,{color:F.Z.PURPLE,type:F.Z.types.OUTLINED,size:F.Z.sizes.SMALL,uppercase:!1},j("list.tag.alpha")))):r.createElement("div",{role:"none",onClick:function(){return t(e)},key:e.name,className:L()(M,(0,i.Z)({},x,(null==n?void 0:n.name)===e.name))},e.name)}(e)}))))}))))},U=n(693744),B=function(e){var t=e.onItemSelect,n=e.selectedItem,a=e.data,o=!(0,b.Z)("isSmartAppCodebooksEnabledV2");return r.createElement("div",{className:"faySWagKFihrdsqXbc7p"},r.createElement(G,{data:a,onItemSelect:t,selectedItem:n,showAlphaBadge:o}),r.createElement(U.q,{selectedItem:n,showAlphaBadge:o}))},z=n(639067);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=(0,m.nD)("button.label"),V=(0,m.nD)("agents"),W=function(e){var t,n=e.entryPoint,i=(0,v.Z)(),c=i.canPerformAgentOperation,m=i.canPerformCodebookOperation,O=i.canPerformSmartContractOperation,P=(0,b.Z)("isSmartAppCodebooksEnabledV2"),I=(0,r.useState)(null),R=(0,l.Z)(I,2),k=R[0],L=R[1],w=(0,Z.Z)({canPerformAgentOperation:c,canViewAgents:!0,canViewSmartAppContracts:O},Y({onError:function(){(0,E.c0)(E.em.error,V("content.fetchingError"),{persist:!1})},onSuccess:function(e){L(function(e){var t,n,r=null==e||null===(t=e.content)||void 0===t?void 0:t.find((function(e){return e.subType===A.AC.CUSTOM_AGENT&&e.status===A.xx.DRAFT}));return c?r:null==e||null===(n=e.content)||void 0===n?void 0:n.find((function(e){return e.subType===A.AC.CODEBOOKS_AGENT&&e.status===A.xx.DRAFT}))}(e))},enabled:!0},f.S)),F=w.data,_=w.isLoading,M=w.isError,x=w.refetch,j=function(){var e=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){(0,y.c4)("#".concat(h._j.BASE).concat(h._j.AGENTS).concat(e))},U=(0,r.useMemo)((function(){var e,t=null==F||null===(e=F.content)||void 0===e?void 0:e.filter((function(e){return e.status===A.xx.DRAFT}));return c&&(m||P)?O?t:null==t?void 0:t.filter((function(e){return e.subType!==A.AC.CONTRACTS_PLACEHOLDER})):m?c?[]:null==t?void 0:t.filter((function(e){return e.subType===A.AC.CODEBOOKS_AGENT})):null==t?void 0:t.filter((function(e){return e.subType!==A.AC.CODEBOOKS_AGENT}))}),[null==F?void 0:F.content,c,m,P,O]),q=null==U?void 0:U.reduce((function(e,t){return t.status===A.xx.DRAFT&&(t.subType===A.AC.CUSTOM_AGENT?e.custom.push(Y({},t)):e.predefined.push(Y({},t))),e}),{predefined:[],custom:[]}),W=(null==k?void 0:k.subType)===A.AC.CUSTOM_AGENT?H("createCustomAgent"):H("useTemplate"),K=_||!k;return t=M?r.createElement(z.l,{onRetry:j}):K?r.createElement("div",{className:"b_YUVWQ5vUXA_gRP7eJI"},r.createElement(u.Z,null)):r.createElement("div",{className:"IpIR_142LeYsXT4MVuiS OskVlYbtF21mA4111k3X"},r.createElement(D,null),r.createElement(B,{onItemSelect:L,selectedItem:k,data:q})),r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,V("template.title"))),r.createElement(a.ZP.Body,null,t),r.createElement(a.ZP.Footer,null,r.createElement(d.Z,{type:d.Z.PRIMARY,onClick:function(){if((null==k?void 0:k.subType)!==A.AC.CONTRACTS_PLACEHOLDER){var e,t=k;if((null==t?void 0:t.subType)===A.AC.CODEBOOKS_AGENT)return P?(0,N.Z)(t):(0,p.Z)(),void(0,C.hB)({entryPoint:n,templateName:null==t?void 0:t.name});if((null==t?void 0:t.subType)===A.AC.CUSTOM_AGENT)e=void 0,(0,C.p3)({entryPoint:n});else{var r,a,o=(null==t?void 0:t.subType)===A.AC.WEB_SEARCH_AGENT;e={name:(null==t?void 0:t.name)||"",description:(null==t||null===(r=t.additionalFields)||void 0===r?void 0:r.description)||(null==t?void 0:t.description)||"",instruction:(null==t||null===(a=t.additionalFields)||void 0===a?void 0:a.exampleInstructions)||"",iconName:(null==t?void 0:t.iconName)||"add",sources:o?{egnyte:{enabled:!1,type:A.EB.ALL},webSearch:{enabled:!0}}:void 0},(0,C.hB)({entryPoint:n,templateName:null==t?void 0:t.name})}(0,g.Z)({entryPoint:n,initialValuesForForm:e,onNavigateToAgent:G})}else{var i=k;(0,C.hB)({entryPoint:n,templateName:null==k?void 0:k.name});var l=i.name,c=i.description,s=i.iconName,u=i.paths,d=void 0===u?[]:u,m=i.status,E=i.subType;(0,T.Z)({featureName:S.xJ.SMART_APPS,name:l,description:c,iconName:s,paths:d,status:m,subType:E})}}},W)))};function K(e){var t=e.entryPoint;(0,a.h7)(r.createElement(W,{entryPoint:t}),{onRequestClose:a.Mr,size:a.ZP.sizes.XXXL,withCloseButton:!0})}},475424:function(e,t,n){var r=n(204942),a=n(735691),o=n(943886),i=n(562954),l=n(762074),c=n(568733),s=n(923942);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,l.nD)("agents.deepResearch.configuration"),E=function(e){var t,n=(0,o.Jo)().features,r=null!==(t=null==n?void 0:n.aiAgentsSourceSelectorFeatureEnabled)&&void 0!==t&&t,a=e===s.AC.DEEP_RESEARCH_AGENT;return r&&a};t.Z=function(){var e,t,n,r,l={message:(0,i.Z)()},u={egnyte:a.Ry().when(["subType"],{is:function(e){return E(e)},then:function(e){return e.shape({enabled:a.O7(),type:a.Z_(),selectedFilesAndFolders:a.IX().of(a.nK())})},otherwise:function(e){return e.strip(!0)}}),webSearch:a.Ry().when(["subType"],{is:function(e){return E(e)},then:function(e){return e.shape({enabled:a.O7(),type:a.Z_(),selectedSources:a.IX().of(a.nK())})},otherwise:function(e){return e.strip(!0)}})},p=(t=(0,o.Jo)().features,n=null!==(e=null==t?void 0:t.aiAgentsSourceSelectorFeatureEnabled)&&void 0!==e&&e,r=function(e){return e===s.AC.DEEP_RESEARCH_AGENT},n?[{name:"at-least-one-source",message:m("sources"),test:function(e){var t,n,a=e;return!r(null==a?void 0:a.subType)||Boolean((null==a||null===(t=a.egnyte)||void 0===t?void 0:t.enabled)||(null==a||null===(n=a.webSearch)||void 0===n?void 0:n.enabled))}},{name:"at-least-one-file-or-folder",message:m("selectedFilesAndFolders"),test:function(e){var t,n,a,o,i,l=e;return!r(null==l?void 0:l.subType)||!(null!=l&&null!==(t=l.egnyte)&&void 0!==t&&t.enabled)||(null==l||null===(n=l.egnyte)||void 0===n?void 0:n.type)===c.EB.ALL||(null==l||null===(a=l.egnyte)||void 0===a?void 0:a.type)===c.EB.SELECTED&&(null===(o=(null==l||null===(i=l.egnyte)||void 0===i?void 0:i.selectedFilesAndFolders)||[])||void 0===o?void 0:o.length)>0}},{name:"at-least-one-web-source",message:m("selectedWebSources"),test:function(e){var t,n,a,o,i,l=e;return!r(null==l?void 0:l.subType)||!(null!=l&&null!==(t=l.webSearch)&&void 0!==t&&t.enabled)||(null==l||null===(n=l.webSearch)||void 0===n?void 0:n.type)===c.EB.ALL||(null==l||null===(a=l.webSearch)||void 0===a?void 0:a.type)===c.EB.SELECTED&&(null===(o=(null==l||null===(i=l.webSearch)||void 0===i?void 0:i.selectedSources)||[])||void 0===o?void 0:o.length)>0}}]:[]),f=a.Ry().shape(d(d({},l),u));return p.forEach((function(e){var t=e.name,n=e.message,r=e.test;f=f.test(t,n,(function(e){return!!r(e)||this.createError({path:"message",message:n})}))})),f}},987927:function(e,t,n){n.d(t,{Z:function(){return Ra}});var r=n(204942),a=n(93433),o=n(529439),i=n(667294),l=n(294184),c=n.n(l),s=n(762074),u=n(105171),d=n(923942),m=n(968672),E=n(950568),p=n(221752),f=n(426541),v=n(32283),g=n(158274),b=n(143046),y=n(85946),h=n(318450),Z=n(652421),T=n(799532),S=n(120106),C=n(278714),N=n(216890),A=n(264802),O=(0,s.nD)("agents.deepResearch.researchPlan.badges"),P=function(e){var t=e.onEditPlanClick,n=e.onStartResearchClick,a=e.fetchingEditPlanUpdateOrStartResearch,o=a===d.HT.EDIT_PLAN,l=a===d.HT.START_RESEARCH,s=c()((0,r.Z)({},"yKo1now8lD6gCl33qGj4",a));return i.createElement("div",{className:"cplp5XrWqXUCJznx1yE2"},i.createElement(Z.Z,{role:"button",color:Z.Z.PURPLE,type:Z.Z.types.OUTLINED,size:Z.Z.sizes.MEDIUM,uppercase:!1,className:s,onClick:a?A.Z:t},i.createElement(T.Z,{icon:o?S.rs:C.T,size:T.Z.sizes.M,spin:o}),i.createElement("span",null,O("editPlan"))),i.createElement(Z.Z,{role:"button",color:Z.Z.PURPLE,type:Z.Z.types.FILLED,size:Z.Z.sizes.MEDIUM,uppercase:!1,className:s,onClick:a?A.Z:n},i.createElement(T.Z,{icon:l?S.rs:N.AO,size:T.Z.sizes.M,spin:l}),i.createElement("span",null,O("startResearch"))))},I=n(221842),R=n.n(I),D=n(145218),k=n(240701),L=n(23661),w=function(e){var t=e.id,n=e.executionId,r=e.feedback,a=void 0===r?null:r,o=e.startExecution,i=void 0!==o&&o,l=e.conversationId,c=e.intermediateQuestion,s=e.intermediateResponse,u=e.currentQuestion;return(0,L.ZP)(k.Z.CHAT_GPT.AGENTS.DEEP_RESEARCH.EDIT_OR_START_RESEARCH(t,n),{method:L.I5.PATCH,body:{feedback:a,startExecution:i,conversationId:l,intermediateQuestion:c,intermediateResponse:s,currentQuestion:u}})};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=["agents/deepResearch"],x=n(397404);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=(0,x.Sh)({namespace:"agents"}).showNotification,B=(0,s.nD)("agents"),z=n(197022),q=n(620539),Y=n(457688),H=n(992939),V=n(590624),W=n(69150),K=n(821442),Q=n(930652),X=(0,s.nD)("copilotHub.agents"),J=(0,s.nD)("button.label");function $(){return i.createElement("div",null,X("agentExecution.learnMore.title"),i.createElement(K.Z,{as:"a",href:Q.Z.agents.info,size:K.Z.sizes.SMALL,target:"_blank"},"",J("learnMore")))}var ee=n(487462),te=n(403455),ne=n(992578),re=n(698607),ae=n(537603),oe=n(563476),ie=n(129967),le=n(581853),ce=n(4845),se=n(579621),ue=n(912743),de=n(358661),me=n(30340),Ee=n(299276),pe=n(260932),fe=n(88200),ve=n(606456),ge=n(338637),be=n(819082),ye=n(361498),he=n(460474),Ze=n(339064),Te=n(700834),Se=n(568733),Ce=n(741607),Ne=n(40513),Ae=n(319783),Oe=n(316639),Pe=n(475424);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=(0,s.nD)("agents.agentExecution.agentInput"),ke=(0,s.nD)("global.sidepanels.help.chatbot"),Le=(0,s.nD)("global.audioInput"),we=(0,s.nD)("agents.deepResearch"),Fe={message:"",files:[]};function _e(e){var t=e.disabled,n=e.isFollowUpQuestion,r=e.testMode,a=e.entryPoint,l=e.agentData,c=e.history,s=e.onSend,p=e.tooltip,f=void 0===p?null:p,v=e.showAnimatedLoadingButton,g=void 0!==v&&v,b=(0,i.useRef)(null),h=(0,i.useRef)(null),Z=(0,i.useRef)(null),T=(0,V.Z)().aiAgentsSourceSelectorFeatureEnabled,S=(0,he.Z)("multiSelectionAskLimit"),C=(0,W.E)(),N=C.currentConfiguration,O=C.hasConversationStarted,P=(0,i.useState)(""),I=(0,o.Z)(P,2),R=I[0],D=I[1],k=(0,i.useState)(!1),L=(0,o.Z)(k,2),w=L[0],F=L[1],_=(null==l?void 0:l.subType)===d.AC.DEEP_RESEARCH_AGENT,M=(null==l?void 0:l.subType)!==d.AC.CODEBOOKS_AGENT,x=(null==l?void 0:l.subType)===d.AC.USER_DEFINED,j=x||_;(0,i.useEffect)((function(){var e;t||r||null===(e=b.current)||void 0===e||e.focusInput()}),[t,r]),(0,i.useEffect)((function(){var e;null==h||null===(e=h.current)||void 0===e||e.setFieldValue("message","")}),[c]);var G=function(){var e;(0,fe.Z)({message:null===(e=b.current)||void 0===e?void 0:e.getEditorJSONValue(),onInsertImprovedPrompt:function(e){var t,n=e.question;null===(t=b.current)||void 0===t||t.setContentCommand({value:n})},shouldPushPopModal:!!r,mixpanelInfo:{entryPoint:a,flowType:u.Q7.AGENTS,assistantName:null==l?void 0:l.name,agentId:null==l?void 0:l.id}}),(0,y.Mj)({entryPoint:a,agentName:null==l?void 0:l.name,identifier:null==l?void 0:l.id,subType:null==l?void 0:l.subType})},U=function(e){var t=e.isMinimumRequiredCountExceeded;return ke(t?"improvePrompt.tooltips.improvePrompt":"improvePrompt.tooltips.noInput")},B=function(e){var t;e&&(null===(t=b.current)||void 0===t||t.setContentCommand({value:(0,pe.km)(e.instruction)}))},z=function(){(0,ve.Z)({onPromptSelect:B,initiatedFrom:a,assistantName:null==l?void 0:l.name,agentId:null==l?void 0:l.id}),(0,y.iO)({entryPoint:a,agentName:null==l?void 0:l.name,identifier:null==l?void 0:l.id,subType:null==l?void 0:l.subType})},q=function(){(0,y.aE)({entryPoint:a,agentName:null==l?void 0:l.name,identifier:null==l?void 0:l.id,subType:null==l?void 0:l.subType})},Y=function(){var e,t;null==h||null===(e=h.current)||void 0===e||e.setFieldValue("pre",((null==h||null===(t=h.current.values)||void 0===t?void 0:t.message)||"").trim()),D(ke("listening")),F(!1),(0,y.mC)({entryPoint:a,agentName:null==l?void 0:l.name,identifier:null==l?void 0:l.id,subType:null==l?void 0:l.subType})},H=function(){F(!0),D("")},K=function(e){var t=e.isValidAudioInput;D(t?"":Le("notReceived"))},Q=function(e){var t=e.value,n=e.autoSubmitForm;if(t){var r,a,o,i=n&&!w,l="".concat(null==h||null===(r=h.current)||void 0===r||null===(a=r.values)||void 0===a?void 0:a.pre," ").concat(t);null===(o=b.current)||void 0===o||o.transcribeText({value:l,autoSubmitForm:i})}};(0,ne.Z)(Z.current,(function(){F(!0)}),{enabled:!0,exclude:[Z.current]});var X=(0,i.useMemo)((function(){return R||De(n?"placeholderFollowUp":M?"placeholder":"placeholderWithoutFiles")}),[R,n,M]),J=(0,i.useMemo)((function(){if(T){var e,t=void 0!==(null==N||null===(e=N.egnyte)||void 0===e?void 0:e.enabled)?N:Re(Re({},(0,E.HY)((null==l?void 0:l.paths)||[],(null==l?void 0:l.invalidPaths)||[])),_&&{egnyte:{enabled:!0,type:Se.EB.ALL}}),n=t.egnyte,r=t.webSearch,a=((null==n?void 0:n.selectedFilesAndFolders)||[]).map((function(e){return Re(Re({},e),{},{name:(0,Ae.dX)((null==e?void 0:e.path)||(null==e?void 0:e.filePath),{appendSlash:!1}),type:e.type===Ne.dt.FILE||e.type===d.Ss.FILE?Ne.dt.FILE:Ne.dt.FOLDER})}));return{egnyte:{enabled:null==n?void 0:n.enabled,type:(null==n?void 0:n.type)||Se.EB.ALL,selectedFilesAndFolders:a},webSearch:{enabled:null==r?void 0:r.enabled,selectedSources:(null==r?void 0:r.selectedSources)||[],type:(null==r?void 0:r.type)||Se.EB.ALL}}}return{}}),[N,_,l,T]),$=(0,i.useMemo)((function(){var e=Re({subType:null==l?void 0:l.subType},Fe);return T&&j?Re(Re({},e),{egnyte:J.egnyte,webSearch:J.webSearch}):e}),[null==l?void 0:l.subType,T,j,J.egnyte,J.webSearch]),Ie=(0,i.useMemo)((function(){return(0,Oe.WR)({id:null==l?void 0:l.id,name:null==l?void 0:l.name,entryPoint:a})}),[null==l?void 0:l.id,null==l?void 0:l.name,a]),_e=Ie.egnyteSourceProperties,Me=Ie.webSourceProperties,xe=_&&O;return i.createElement("div",{className:"UyngsLMCARGRPGqsgLEs",role:"presentation",tabIndex:-1,ref:Z},i.createElement(te.J9,{enableReinitialize:!0,initialValues:$,onSubmit:function(e,t){var n=t.resetForm,r=b.current.getMentionTriggersCount(),o=r.at,i=r.plus,c=r.placeholder,u=b.current.getCharacterAndWordCount(),d=u.characterCount,m=u.wordCount,E=(0,pe.MD)({message:e.message,files:e.files}),p=E.updatedUserMessage,f=E.entryIds,v={egnyte:null==e?void 0:e.egnyte,webSearch:null==e?void 0:e.webSearch},g={message:p,entryIds:f,files:e.files};n(),T&&_&&(g=Re(Re({},g),{},{egnyte:null==v?void 0:v.egnyte,webSearch:null==v?void 0:v.webSearch})),s(g),(0,y.zx)(Re({entryPoint:a,usingAt:o,usingPlus:i,usingPlaceholder:c,characterCount:d,wordCount:m,agentName:null==l?void 0:l.name,identifier:null==l?void 0:l.id,subType:null==l?void 0:l.subType},T&&{sources:Re({},(0,Oe.bZ)(v))}))},validationSchema:(0,Pe.Z)(),innerRef:h},(function(e){var n,a,o=e.submitForm,l=e.dirty,c=e.errors,s=e.isValid,d=e.setFieldValue,E=e.setFieldTouched,p=e.values,v=null===(n=b.current)||void 0===n||null===(a=n.getEditorJSONValue)||void 0===a?void 0:a.call(n),y=(0,ye.q_)(v).totalPlaceholders,h=!l||t||!s,Z=y>S,C=(0,me.oO)({content:v})>10,N=p.message.trim().length<10||!C,O=T&&j&&_?null==c?void 0:c.message:"",P=Z?ke("fileLimitExceededTooltip",{limit:S}):O;return i.createElement(be.Z,{name:"message",type:be.Z.TYPES.TEXT,control:function(e){var n=e.field,a=e.hasError;return i.createElement(re.Z,{tooltip:f},i.createElement(ue.Z6,(0,ee.default)({inputRef:b,"aria-label":"message",disabled:t,placeholder:X,"data-ref":"question-input","data-pendoid":"agent-question-input-field",hasError:a,searchProps:{referrer:"agent-input",folderPath:ge.FR,preferredFolderPath:ge.FR},withFileSearchUsingAt:M,allowAutoOpenMentionPopover:!0,allowMentionClickInteraction:!0,onEditorUpdate:function(e){!function(e){var t=e.editor,n=e.setFieldTouched;(0,e.setFieldValue)("files",(0,ye.i)(t.getJSON())),n("files",!0,!1)}({editor:e.editor,setFieldValue:d,setFieldTouched:E})},popoverProps:{zIndex:u.kg},maximumAllowedCharacters:u.Ti,showCharacterCount:function(e){return e>u.Jo}},n),i.createElement(ue.$U.Container,null,i.createElement(ue.$U.Column,null,!r&&i.createElement(i.Fragment,null,x&&i.createElement(i.Fragment,null,i.createElement(Ce.L,null),i.createElement(m.N6,null)),j&&T&&i.createElement(i.Fragment,null,i.createElement(ue.$U.Item,{shrinkable:!0},i.createElement(Te.A,{isViewOnly:x||xe,showSwitch:!0,inputSource:Se.KG.agent,mixpanelProperties:_e})),i.createElement(ue.$U.Item,{shrinkable:!0},i.createElement(Te.x,{isViewOnly:x||xe,inputSource:Se.KG.agent,mixpanelProperties:Me}))))),i.createElement(ue.$U.Column,{justifyContent:"end"},i.createElement(re.Z,{tooltip:U({isMinimumRequiredCountExceeded:C})},i.createElement(ce.Z,{"data-tid":"improve-prompt-button",icon:ae.Y,onClick:G,disabled:N,"aria-label":ke("improvePrompt.label"),type:ce.Z.GHOSTED,size:ce.Z.sizes.SMALL})),i.createElement(re.Z,{disabled:t,tooltip:ke("viewPrompts")},i.createElement(ce.Z,{"data-tid":"view-prompts-button",icon:oe.f,onClick:z,disabled:t,"aria-label":ke("viewPrompts"),type:ce.Z.GHOSTED,size:ce.Z.sizes.SMALL})),M&&i.createElement(de.Z,{disabled:t,onIconButtonClick:q,onFileSelect:function(e){var t;return null===(t=b.current)||void 0===t?void 0:t.insertMultipleMentionPlaceholder({selectedFiles:e,triggerMethod:Ee.I.PLUS_BUTTON})},preferredFolderPath:ge.FR,folderPath:ge.FR,allowMultipleFileSelection:!0}),i.createElement(ue.oc,{isDisabled:t||y>0,onStart:Y,onCancel:H,onSuccess:Q,onRecordingEnd:K}),g?i.createElement(re.Z,{tooltip:we("updatingResearchText")},i.createElement("div",null,i.createElement(Ze.Z,{onClick:A.Z,ariaLabel:we("updatingResearchText"),isPulsing:!0,icon:ie.h}))):i.createElement(re.Z,{tooltip:P},i.createElement(se.Z,{type:se.Z.TERTIARY,onClick:o,disabled:h,"aria-label":ke("send"),size:se.Z.sizes.SMALL},i.createElement(se.Z.Icon,{icon:le.l})))))))}})})))}var Me=n(379828),xe=(0,s.nD)("agents.agentExecution.testMode");function je(e){var t=e.clearChatDisabled,n=e.onClearChat;return i.createElement("div",{className:"Ba9FO80DtR8amrPW61oZ"},i.createElement("span",{className:"B7TT88oOaK6rpCzQ362R di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},xe("title")),i.createElement(ce.Z,{size:ce.Z.sizes.SMALL,icon:Me.H,onClick:n,"aria-label":xe("clearChat"),disabled:t}))}var Ge=n(124333),Ue=(0,s.nD)("agents.agentExecution.testMode");function Be(){return i.createElement("div",{className:"SPQxTSQ7vjTFlJRlayLN"},i.createElement(Ge.Z,{illustration:"select-an-option"},i.createElement(Ge.Z.Description,null,Ue("emptyText"))))}var ze=n(32570),qe=n(284749),Ye=n(827856),He=n(90704),Ve=n(37405),We=n(637536),Ke=n(115861),Qe=n(364687),Xe=n.n(Qe),Je=n(943886),$e=n(932656),et=n(285106),tt=n(499345),nt=n(451545),rt=n(579099),at=n(323063),ot=n(163123),it=n(96506),lt=n(7153),ct=n(906729),st=n(499208),ut=(0,s.nD)("global.sidepanels.help.chatbot"),dt=(0,s.nD)("agents");function mt(e){var t=e.citations,n=e.agentName,r=e.entryPoint,a=e.agentId,o=e.subType,l=e.textSnippet,c=t.filter((function(e){return e.type!==d.Ss.WEB_SEARCH||e.previewUrl}));return i.createElement(i.Fragment,null,i.createElement("div",{className:"jbUTOsrLS9PCKNrKfESn","data-tid":"citations-container"},0===c.length?i.createElement("div",null,dt("sourceNotAvailable")):c.map((function(e,t){return i.createElement("span",{className:"UuSJyOqzD6iUfFexo1ZA",key:t},i.createElement(Z.Z,{uppercase:!1,size:Z.Z.sizes.MEDIUM,type:Z.Z.types.OUTLINED,onClick:function(){return function(e){l&&(0,E.Ms)(e.previewUrl,l),((0,it.On)()||(0,it.Gp)())&&e.filePath?(0,lt.openFileInNativeFileBrowser)({path:e.filePath}):ot.ZP.open(e.previewUrl,"_blank"),(0,y.CC)({agentName:n,entryPoint:r,subType:o,identifier:a})}(e)}},e.type===d.Ss.WEB_SEARCH?i.createElement("span",{className:"hYXZRyJVTnxQYq0dSPeQ"},i.createElement(st.s,{url:e.previewUrl})):i.createElement("span",{className:"Nd_HjWYJ8VjLdb03FTHU"},i.createElement(rt.Z,{type:at.dt.FILE,name:(0,ct.L)(e)})),i.createElement("span",{className:"D1I87Gkg11RSmpWec2eX"},i.createElement(tt.Z,null,(0,ct.L)(e))),i.createElement(re.Z,{tooltip:ut("citations.link")},i.createElement(T.Z,{icon:nt.g,size:T.Z.sizes.S}))))}))))}var Et=n(694780),pt=n(610861),ft=n(330759),vt=n(962284),gt=n(989678),bt=(0,s.nD)("codebookAgent.citationsModal");function yt(e){var t=e.previewUrl,n=e.fileName,r=e.type,a=e.agentId,o=e.agentName,l=e.entryPoint,c=e.textSnippet;return i.createElement("div",null,i.createElement("div",{className:"VRK62cqizIbYkhOcb7k4 Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},bt("source")),i.createElement(mt,{citations:[{type:r,previewUrl:t,filename:n}],agentId:a,agentName:o,entryPoint:l,subType:d.AC.CODEBOOKS_AGENT,textSnippet:c}))}var ht=(0,s.nD)("button.label"),Zt=(0,s.nD)("codebookAgent.citationsModal");function Tt(e){var t=e.citations,n=e.preSelectedCitationId,a=e.agentId,l=e.agentName,s=e.entryPoint,u=(0,i.useState)(t.find((function(e){return e.id===n}))||t[0]),d=(0,o.Z)(u,2),m=d[0],E=d[1];return i.createElement(i.Fragment,null,i.createElement(pt.ZP.Header,null,i.createElement(pt.ZP.Title,null,Zt("title"))),i.createElement(vt.Z,{direction:"row"},i.createElement("div",{className:"_zB7HUqQ8GXjcMImZVFu"},t.map((function(e){var n,a=e.id,o=e.sourceId;return i.createElement(ft.Z,{key:a,name:"citation-selection",value:a,checked:(null==m?void 0:m.id)===a,onChange:function(){return e=a,void E(t.find((function(t){return t.id===e}))||null);var e},"aria-label":o},i.createElement("div",{className:c()("DdbjrabZrQGNpz_5LiDm",(0,r.Z)({},"kCQmhVhNoswVVQhrhuHI",(null==m?void 0:m.id)===a))},i.createElement(tt.Z,null,(n=o,(0,gt.si)(n)||n))))}))),i.createElement("div",{className:"eUGkkxXMcacVzOcfyCth"},m&&i.createElement(i.Fragment,null,i.createElement(vt.Z,{direction:"column",gap:2},i.createElement("div",{className:"nWYSZ4_xXXOYHBFucs93 di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},m.sectionName),i.createElement("div",{className:"EkosjcuasEeaw2KhL57i Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},m.textSnippet)),i.createElement(yt,{previewUrl:m.previewUrl,fileName:m.fileName,type:m.type,agentId:a,agentName:l,entryPoint:s,textSnippet:m.textSnippet})))),i.createElement(pt.ZP.Footer,null,i.createElement(se.Z,{type:se.Z.PRIMARY,onClick:pt.Mr},ht("close"))))}var St=n(215105);function Ct(e){var t=e.citations,n=e.onClick;return i.createElement("div",{className:"MNT4eI5Fc0e5uww0iYxv","data-tid":"codebooks-citations"},t.map((function(e,t){var r=e.id,a=e.sourceId;return i.createElement(Z.Z,{key:r,color:Z.Z.GREY,size:Z.Z.sizes.MEDIUM,type:Z.Z.types.OUTLINED,uppercase:!1,onClick:function(){return n(r)}},i.createElement(Z.Z,{color:Z.Z.COOL_GRAY,type:Z.Z.types.FILLED},t+1),i.createElement("span",{className:"MQ9UUnaLsNVvDxMBt63q"},i.createElement(tt.Z,null,a)))})))}var Nt=n(27103),At=n(247953);function Ot(e){var t=e.id,n=e.sourceId,r=e.text,a=e.index,l=e.onClick,c=(0,i.useState)(!1),s=(0,o.Z)(c,2),u=s[0],d=s[1],m=function(){d(!1)};return i.createElement(i.Fragment,null,i.createElement("span",{className:"MYQQO7s2dB4rd19qu7Ov eugzcnL4uVMlgbRkfTqa"},r),i.createElement("span",{className:"o4LBlv2RSeWXt2N308yC",onClick:function(){return l(t)},onMouseEnter:function(){return d(!0)},onMouseLeave:m,onKeyDown:function(e){e.key!==At.U.ENTER&&" "!==e.key||(e.preventDefault(),l(t))},role:"button",tabIndex:0},i.createElement(Nt.Z,{isOpen:u,placement:Nt.Z.placements.STATIC.TOP,onClose:m,popover:i.createElement(Nt.Z.Card,null,i.createElement(Nt.Z.Body,null,i.createElement("div",{className:"lMerZFI5r8jNMUTgEemp"},i.createElement("span",null,n),i.createElement(T.Z,{icon:nt.g,size:T.Z.sizes.M}))))},i.createElement(Z.Z,{color:Z.Z.COOL_GRAY,type:Z.Z.types.FILLED},a))))}var Pt="y4FpnygjHf6TIZL_CqIQ",It="c1uBKWNROqVLjFuEFDjQ",Rt="m6gDvSdJJtrNjs_yQVvu _ECQ7RA2eMt14uHOuLCz QspI3Sow0uF6jJWV3_4r cMD1Ln5gNqHc7P7v_G_6",Dt=(0,s.nD)("codebookAgent.agentExecution.agentResponse"),kt=(0,i.forwardRef)((function(e,t){var n=e.text,r=e.codebooksCitations,a=e.agentName,o=e.entryPoint,l=e.agentId,c=e.chunkCitations,s=(0,Je.T0)("newCodebooksResponseFormat"),u=(0,i.useMemo)((function(){return(0,Et.DD)(c)}),[c]),m=u.textChunks,E=u.citationObjects,p=u.sourceCitations,f=0,v=function(e){!function(e){var t=e.citations,n=e.preSelectedCitationId,r=e.agentId,a=e.agentName,o=e.entryPoint;(0,pt.h7)(i.createElement(Tt,{citations:t,preSelectedCitationId:n,agentId:r,agentName:a,entryPoint:o}),{onRequestClose:pt.Mr,size:pt.ZP.sizes.XXL,withCloseButton:!0})}({citations:E,preSelectedCitationId:e,agentId:l,agentName:a,entryPoint:o}),(0,St.aF)(o)},g=function(e){var t=e.node,n=e.children;f+=1;var r=t.properties,a=r.dataId,o=r.dataSourceId;return i.createElement(Ot,{id:a,sourceId:o,text:n,index:f,onClick:v})},b=(0,i.useMemo)((function(){return(0,Et.Aj)(r)}),[r]);return s?i.createElement("div",{className:Pt},i.createElement("div",{"data-tid":"response-text",ref:t},i.createElement($e.Z,{components:{citation:g}},m)),E.length>0&&i.createElement("div",{className:It},i.createElement("div",{className:Rt},Dt("codes")," "),i.createElement(Ct,{citations:E,onClick:v})),p.length>0&&i.createElement("div",null,i.createElement("div",{className:Rt},Dt("sources")," "),i.createElement(mt,{citations:p,agentName:a,entryPoint:o,agentId:l,subType:d.AC.CODEBOOKS_AGENT}))):i.createElement("div",{className:Pt},i.createElement("div",{"data-tid":"response-text",ref:t},i.createElement($e.Z,{components:{citation:g}},(0,Et.G9)(n))),r.length>0&&i.createElement("div",{className:It},i.createElement("div",{className:Rt},Dt("codes")," "),i.createElement(Ct,{citations:r,onClick:v})),b.length>0&&i.createElement("div",null,i.createElement("div",{className:Rt},Dt("sources")," "),i.createElement(mt,{citations:b,agentName:a,entryPoint:o,agentId:l,subType:d.AC.CODEBOOKS_AGENT})))})),Lt=function(e){var t=e.id,n=e.executionId,r=e.actionId,a=e.actionName,o=e.request;return(0,L.ZP)(k.Z.CHAT_GPT.AGENTS.SNG_CONFIGURATION.CC_POLICY_EXECUTE_ACTION(t,n),{method:L.I5.POST,body:{id:r,name:a,request:o}})},wt=(0,i.forwardRef)((function(e,t){var n=e.text,r=e.actions,a=e.agentId,o=e.executionId,l=(0,D.useMutation)({mutationFn:Lt}),c=l.mutate,s=l.isLoading,u=l.data,m=l.variables;return i.createElement("div",{ref:t},n&&i.createElement($e.Z,null,n),(null==r?void 0:r.length)>0&&i.createElement(vt.Z,{direction:"column",gap:2},r.map((function(e){return i.createElement("div",{className:"zNRHg6j2P1Z1vzj3NkKT",key:e.id},i.createElement("div",{className:"ADUKzEVdTSJlaDDsLwBW"},i.createElement("p",{className:"goPigdcDbFJRqW6oyMA3 gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},e.title),i.createElement($e.Z,null,e.summary)),i.createElement(se.Z,{key:e.id,onClick:function(){return c({id:a,executionId:o,actionId:e.id,actionName:e.name,request:e.request})},disabled:s||(t=e.id,(null==u?void 0:u.status)===d.MD.COMPLETED&&(null==m?void 0:m.actionId)===t)},e.label));var t}))))})),Ft=n(356123),_t=n(760866),Mt=n(354111),xt=n(890851),jt=n(164792),Gt=n(559090),Ut=n(360460),Bt=(0,s.nD)("agents.extraction.response");function zt(){return i.createElement(vt.Z,{direction:"column",alignItems:"center",alignContent:"center",justifyContent:"center"},i.createElement(Ge.Z,{illustration:"up-to-date"},i.createElement(Ge.Z.Heading,null,Bt("emptyView.text")),i.createElement(Ge.Z.Description,null,Bt("emptyView.subtext"))))}var qt={wrapper:"q9KymAl741gZXRO3kRuE",table:"Yyd_aqJpOQCbBzq5HJsa",buttons:"maFvSl2YqDbLs7C30x0A",propertiesBadgeWrapper:"RQiGhUU62Z5ukro8G0pf"},Yt=(0,s.nD)("agents.extraction.response"),Ht=(0,s.nD)("agents.extraction.configuration.metadataNamespace");function Vt(e){var t=e.value;return i.createElement(tt.Z,null,t||"--")}function Wt(e){var t=e.value,n=e.data[e.index].dataType;return i.createElement(tt.Z,null,t?(0,jt._)({value:t,type:n}):"--")}var Kt=(0,i.forwardRef)((function(e,t){var n=e.extractedFields,r=e.notExtracted,a=e.selectedFile,l=e.namespace,c=(0,xt.zk)(),s=c.mutate,u=c.isLoading,d=c.isSuccess,m=(0,i.useState)(!0),E=(0,o.Z)(m,2),p=E[0],f=E[1],v=a.id,g=a.type,b=(0,i.useMemo)((function(){return[{accessor:"fieldName",Header:Yt("columns.property"),Cell:Vt},{accessor:"fieldValue",Header:Yt("columns.value"),Cell:function(e){var t=e.value,n=e.data,r=e.row.id;return i.createElement(Wt,{data:n,index:r,value:t})}}]}),[]),y=(0,i.useCallback)((function(){if(l.name){var e=function(e){return e.reduce((function(e,t){var n=t.fieldKey,r=t.fieldValue;return e[n]=r,e}),{})}(n);(0,Ut.U)(!1),f(!1),s({namespaceName:l.name,properties:e,id:v,type:g},{onSuccess:function(){(0,x.c0)(x.em.success,Yt("messages.metadataApplied"))},onError:function(){(0,x.c0)(x.em.error,Yt("messages.metadataNotApplied"),{persist:!1})}})}}),[n,v,s,l.name,g]),h=(0,i.useCallback)((function(){(0,Ut.U)(!1),f(!1)}),[]);return i.createElement("div",{ref:t,className:qt.wrapper},i.createElement("div",null,Yt("metadataExtracted")),i.createElement(Mt.Z,{className:qt.table,columns:b,data:n}),r.length?i.createElement("div",{className:qt.propertiesWrapper},i.createElement("div",null,Yt("metadataNotExtracted")),i.createElement("div",(0,ee.default)({className:qt.propertiesBadgeWrapper},Gt.Z),i.createElement(Ft.Z,{renderViewMoreText:function(e){var t=e.count;return Ht("viewMoreText",{count:t})},viewLessText:Ht("viewLessText")},r.map((function(e){var t=e.name,n=e.displayName;return i.createElement(_t.Z,{key:t,label:n,options:[],renderOptionsCountText:function(e){var t=e.count;return Ht("optionsCountText",{count:t})}})}))))):null,p&&i.createElement("div",{className:qt.buttons},i.createElement(Z.Z,{role:"button",color:Z.Z.PURPLE,type:Z.Z.types.OUTLINED,size:Z.Z.sizes.MEDIUM,uppercase:!1,onClick:h},Yt("buttons.reject")),i.createElement(Z.Z,{role:"button",color:Z.Z.PURPLE,type:Z.Z.types.FILLED,size:Z.Z.sizes.MEDIUM,uppercase:!1,onClick:y},Yt("buttons.approve"))),d&&i.createElement("div",null,Yt("messages.extractionSaved")),u&&i.createElement(ze.Z,null))})),Qt=(0,i.forwardRef)((function(e,t){var n=e.extractedFields,r=e.notExtracted,a=e.selectedFile,o=e.namespace;return null!=n&&n.length?i.createElement(Kt,{extractedFields:n,notExtracted:r,selectedFile:a,namespace:o,ref:t}):((0,Ut.U)(!1),i.createElement(zt,null))})),Xt=n(727484),Jt=n.n(Xt),$t=n(779210),en=n(499039),tn=n(337995),nn=n(583025),rn=n(809981),an=n(179755),on=n(234099),ln=n(476839),cn=n(511388),sn=n(442238),un=n(735691),dn=n(531926),mn=n(289098),En=n(264928),pn=n(531081),fn=n(724958),vn=n(141797),gn=n(762144),bn=n(13764),yn=n(57324),hn=(0,s.nD)("button.label"),Zn=(0,s.nD)("agents.agentCreation.documentExport"),Tn=function(e){var t=e.selectedFolder,n=e.onFolderSelected,r=e.setFieldValue,a=(0,i.useState)(t),l=(0,o.Z)(a,2),c=l[0],u=l[1];return i.createElement(i.Fragment,null,i.createElement(vn.Z.Header,null,i.createElement(vn.Z.Title,null,Zn("selectFolder"))),i.createElement(vn.Z.Body,null,i.createElement("div",{className:"hJGICnTyX95PGIBMRh0G eugzcnL4uVMlgbRkfTqa"},i.createElement("span",null,Zn("folderName"))),i.createElement(gn.Z,{className:"aVToJJMq3wwtUbyGadbp",mode:gn.Z.MODES.SINGLESELECT,path:null==c?void 0:c.path,onFolderSelect:function(e){var t=e.id,n=e.path,a=e.name;r("location",{id:t,path:n,name:a}),u({id:t,path:n,name:a})},getPathConfig:function(e){var t=!(0,bn.zm)(e.permission)||(0,yn.ax)(e)||(0,yn.qe)(e)||(0,yn.Lb)(e);return{disabled:t,tooltip:t&&(0,s.t)("agents.fileFolderPicker.permissionError")}}})),i.createElement(vn.Z.Footer,null,i.createElement(se.Z,{type:se.Z.SECONDARY,onClick:function(){(0,pt.GZ)()}},hn("cancel")),i.createElement(se.Z,{type:se.Z.PRIMARY,disabled:!c,onClick:function(){c&&n(c),(0,pt.GZ)()}},hn("select"))))},Sn=(0,s.nD)("agents.agentCreation.documentExport"),Cn=function(e){var t=e.value,n=e.selectedFolder,r=e.onFolderSelected,a=e.setFieldValue,o=function(){(0,pt.Ll)(i.createElement(Tn,{selectedFolder:n,onFolderSelected:r,setFieldValue:a}),{size:pt.ZP.sizes.M,withcloseButton:!0})};return i.createElement(be.Z,{name:"location",labelProps:{hasColon:!1},label:Sn("fileLocationLabel"),control:function(){return t.location.path?i.createElement(fn.Z,{title:t.location.name,description:t.location.path,customIcon:i.createElement(T.Z,{icon:pn.P9,size:T.Z.sizes.L}),actions:i.createElement(se.Z,{type:se.Z.TERTIARY,onClick:o},(0,s.t)("button.label.change"))}):i.createElement(se.Z,{type:se.Z.PRIMARY,onClick:o},Sn("selectFolder"))},type:be.Z.TYPES.TEXT})},Nn=(0,x.Sh)({showExclusively:!0}).showNotification,An=(0,s.nD)("agents.agentCreation.documentExport"),On=(0,s.nD)("button.label"),Pn=(0,s.nD)("error"),In=function(){return un.Ry().shape({fileName:un.Z_().trim().max(240).folderItemName().required(Pn("required")),location:un.Ry().shape({path:un.Z_().required(Pn("required")),id:un.Z_(),name:un.Z_()})})},Rn=function(e){var t=e.message,n=e.agentName,r=e.agentId,a=e.entryPoint,l=e.subType,c=(0,i.useState)(null),u=(0,o.Z)(c,2),d=u[0],m=u[1],E=(0,i.useState)(!1),f=(0,o.Z)(E,2),v=f[0],g=f[1],b=(0,p.vF)(),h=function(e){m(e)};return i.createElement(te.J9,{initialValues:{location:{path:"",id:"",name:""},fileName:""},validationSchema:In,onSubmit:function(e){g(!0),b.mutate({markdown:t,folderPath:e.location.path,fileName:"".concat(e.fileName,".docx")},{onSuccess:function(){Nn(x.em.success,i.createElement("div",{className:"J949nCO5xA_qzDRoeFqa"},An("notifications.saveSuccess"),i.createElement(K.Z,{as:"a",onClick:function(t){t.stopPropagation(),(0,En.uj)(e.location.path,!0)}},On("openFolder")))),g(!1),(0,pt.Mr)(),(0,y.Un)({agentName:n,entryPoint:a,subType:l,identifier:r})},onError:function(){Nn(x.em.error,An("notifications.saveError"),{persist:!1}),g(!1)}})}},(function(e){var t=e.values,n=e.setFieldValue;return i.createElement(te.l0,{id:"saveToEgnyteModal"},i.createElement(pt.ZP.Header,null,i.createElement(pt.ZP.Title,null,An("title"))),i.createElement(pt.ZP.Body,null,i.createElement("p",null,An("description")),i.createElement(mn.Text,{name:"fileName",label:An("fileNameLabel"),suffix:".docx"}),i.createElement(Cn,{value:t,selectedFolder:d,onFolderSelected:h,setFieldValue:n})),i.createElement(pt.ZP.Footer,null,i.createElement(se.Z,{type:se.Z.SECONDARY,onClick:pt.Mr,disabled:v},(0,s.t)("button.label.cancel")),i.createElement(dn.Z,{disabled:!t.fileName.trim()||!t.location.path||v,isSubmitting:v,idleText:(0,s.t)("button.label.save"),processingText:(0,s.t)("button.label.saving")})))}))},Dn=n(973935),kn=n(376507),Ln=n(731264),wn=n(532144),Fn=n(87796),_n=n(934244),Mn=(0,s.nD)("button.label"),xn=(0,s.nD)("global.sidepanels.help.chatbot.feedback.popover"),jn=function(){return un.Ry().shape({comment:un.Z_().ensure().trim().required(),debugConsent:un.O7().required()})},Gn={strategy:"fixed",placement:"top-end",modifiers:[{name:"offset",options:{offset:[10,10]}},{name:"applyStyle",enabled:!0,phase:"write"}]};function Un(e){var t=e.referenceElement,n=e.onClose,r=e.onSubmit,a=(0,kn.Z)("agent-feedback-popover-portal"),o=(0,Ln.Z)(a),l=(0,i.useRef)();return(0,i.useEffect)((function(){var e=l.current;e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))}),[]),t&&o.current?(0,Dn.createPortal)(i.createElement(wn.Z,{referenceElement:t,onClose:n,popperOptions:Gn,zIndex:999999},i.createElement(te.J9,{enableReinitialize:!0,initialValues:{comment:xn("commentDefaultValue"),debugConsent:!0},onSubmit:function(e){return r(e)},validationSchema:jn},(function(e){var t=e.submitForm,r=e.isValid;return i.createElement(te.l0,{className:"rBaad2iJBs598g25WawX"},i.createElement(wn.Z.Card,{maxWidth:400},i.createElement(wn.Z.Body,null,i.createElement(vt.Z,{direction:"column",gap:1},i.createElement("div",{className:"QUN7RsB3V6xJA71KQmTp di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},xn("feedbackTitle")),i.createElement("div",{className:"Cfbe_UNAhLyS12wVlgz1 m8RKLInoi4LLh_CKMjd0"},xn("feedbackDescription")),i.createElement("div",null,i.createElement(Fn.Z,{inputRef:l,"aria-label":"comment",name:"comment",inline:!1,rows:5,"data-tid":"feedback-comment","data-pendoid":"agent-feedback-comment"})),i.createElement(_n.Z,{name:"debugConsent",label:xn("debugConsentLabel"),"data-pendoid":"agent-feedback-consent-checkbox"}))),i.createElement(wn.Z.Footer,null,i.createElement(vt.Z,{justifyContent:"end",alignItems:"center",gap:1},i.createElement(se.Z,{type:se.Z.SECONDARY,onClick:n,"data-pendoid":"agent-feedback-cancel-button"},Mn("cancel")),i.createElement(se.Z,{type:se.Z.PRIMARY,onClick:t,disabled:!r,"data-pendoid":"agent-feedback-submit-button"},Mn("submit"))))))}))),o.current):null}var Bn="VTUj4P6xdCGCtYI8cXJ3",zn=(0,x.Sh)({showExclusively:!0}).showNotification,qn=(0,s.nD)("global.sidepanels.help.chatbot"),Yn=(0,s.nD)("agents.agentCreation"),Hn=(0,s.nD)("aiPoweredFeatures.llmModels.llmModelQuickView.tooltips"),Vn=/[*?/\\:<>"|]/g;function Wn(e){var t=e.message,n=e.userInput,r=e.agentId,a=e.executionId,l=e.agentName,c=e.entryPoint,s=e.testMode,u=e.egnyteRequestId,d=e.subType,E=e.onCopyClick,f=e.llmModelUsed,v=void 0===f?null:f,g=(0,i.useState)(null),b=(0,o.Z)(g,2),h=b[0],Z=b[1],S=(0,i.useState)(!1),C=(0,o.Z)(S,2),N=C[0],A=C[1],O=(0,i.useRef)(null),P=(0,m.dG)(),I=(0,p.ob)(),R=function(e){var t=e.isHelpful;A(!1),Z(t),zn(x.em.success,qn("feedback.notification",{context:"success"}),{persist:!1})},D=function(){zn(x.em.error,qn("feedback.notification",{context:"error"}),{persist:!1})},k=(0,p.ty)({onSuccess:function(e){var t=e.blob,a=function(e){var t=Jt()().format("YYYY-MM-DD_HH-mm"),n="agent_response";return e&&((n=e.trim().substring(0,150).replace(Vn,"").replace(/\.+$/g,"").trim())||(n="agent_response")),"".concat(n,"_").concat(t,".docx")}(n.message);(0,sn.U)(t,a),(0,y.j)({agentName:l,entryPoint:c,subType:d,identifier:r||"-"})},onError:function(){zn(x.em.error,qn("documentExport.notifications.saveError"),{persist:!1})}}),L=function(e){return function(){e?((0,y.mn)({agentName:l,entryPoint:c,subType:d,identifier:r||"-"}),I.mutate({agentId:r,executionId:a,reaction:e,egnyteRequestId:u},{onSuccess:function(){return R({isHelpful:e})},onError:D})):(A(!0),(0,y.Ty)({agentName:l,entryPoint:c,subType:d,identifier:r||"-"}))}};return i.createElement("div",{className:"NaSydj1Qo4ejmkDv4TkG"},!s&&i.createElement(i.Fragment,null,P&&v&&i.createElement(vt.Z,{direction:"row",gap:1},i.createElement(vt.Z,{direction:"row",gap:1},i.createElement(m.DL,{llmModel:v,tooltipProps:{tooltip:Hn("responseGeneratedWith",{modelName:v.name})},forceShowIcon:!0}),i.createElement("div",{className:"dVPUiOyzrkualO_My0nK"}))),i.createElement(re.Z,{tooltip:qn("copyText")},i.createElement(ce.Z,{size:ce.Z.sizes.SMALL,icon:rn.O,onClick:function(){zn("success",qn("notification",{context:"copy"})),E(),(0,y.Aq)({agentName:l,entryPoint:c,subType:d,identifier:r||"-"})},type:ce.Z.GHOSTED,"aria-label":qn("copyText"),"data-tid":"copy"})),i.createElement($t.Z,{trigger:i.createElement(en.Z,{"aria-label":qn("documentExport"),"data-tid":"documentExport",chevron:!1,type:en.Z.TERTIARY_SUBTLE},i.createElement(re.Z,{tooltip:qn("saveResponse")},i.createElement(T.Z,{"data-tid":"documentExportIcon",icon:an.m4,size:T.Z.sizes.M})))},i.createElement(tn.Z,null,i.createElement(nn.Z,{onClick:function(){(0,pt.h7)(i.createElement(Rn,{message:t,agentName:l,entryPoint:c,agentId:r,subType:d}),{onRequestClose:pt.Mr,withCloseButton:!0,size:pt.ZP.sizes.M})}},i.createElement("div",{className:Bn},i.createElement("div",{className:"G8u5tbgtfszTEAyVhoKz"},i.createElement(T.Z,{icon:on.SL,size:T.Z.sizes.M})),Yn("documentExport.options.saveToEgnyte"))),i.createElement(nn.Z,{onClick:function(){k.mutate({markdown:t})}},i.createElement("div",{className:Bn},i.createElement(T.Z,{icon:ln.V3,size:T.Z.sizes.M}),Yn("documentExport.options.download")))))),i.createElement(re.Z,{tooltip:qn("helpful")},i.createElement(ce.Z,{size:ce.Z.sizes.SMALL,variant:h?T.Z.variants.SUCCESS:T.Z.variants.DEFAULT,type:ce.Z.GHOSTED,icon:cn.I,onClick:L(!0),"aria-label":qn("helpful"),"data-tid":"thumbsUp"})),i.createElement(re.Z,{tooltip:qn("notHelpful")},i.createElement(ce.Z,{size:ce.Z.sizes.SMALL,variant:!1===h?T.Z.variants.ERROR:T.Z.variants.DEFAULT,type:ce.Z.GHOSTED,icon:cn.u,onClick:L(!1),"aria-label":qn("notHelpful"),"data-tid":"thumbsDown",ref:O})),N&&i.createElement(Un,{referenceElement:O.current,onClose:function(){A(!1),(0,y.$R)({agentName:l,entryPoint:c,subType:d,identifier:r||"-"}),I.mutate({agentId:r,executionId:a,reaction:!1,egnyteRequestId:u},{onSuccess:function(){return Z(!1)},onError:D})},onSubmit:function(e){(0,y.Ph)({agentName:l,entryPoint:c,subType:d,debugConsent:e.debugConsent,identifier:r||"-"}),I.mutate({agentId:r,executionId:a,reaction:!1,egnyteRequestId:u,comment:e.comment,debugConsent:e.debugConsent},{onSuccess:function(){return R({isHelpful:!1})},onError:D})}}))}var Kn="lHUjqkGrRu77k0R5uQVS",Qn=(0,s.nD)("copilotHub.agents"),Xn=(0,s.nD)("agents");function Jn(e){var t,n=e.response,r=e.showErrorButtons,a=void 0===r||r,o=e.forwardedRef,l=e.agentId,c=e.executionId,s=e.userInput,u=e.hasError,m=e.responseError,E=e.agentName,p=e.agentType,f=e.entryPoint,v=e.testMode,g=e.onTryAgain,b=e.egnyteRequestId,y=(0,i.useRef)(null),h=(0,et.Z)().copyFormattedText,Z=n.status,T=n.responseText,S=void 0===T?"":T,C=n.citations,N=void 0===C?[]:C,A=n.codebooksCitations,O=void 0===A?[]:A,P=n.chunkCitations,I=void 0===P?[]:P,R=n.extractedFields,D=void 0===R?[]:R,k=n.notExtracted,L=void 0===k?[]:k,w=n.actions,F=void 0===w?[]:w,_=n.selectedFile,M=n.namespace,x=n.modelDetails,j=void 0===x?null:x,G=p===d.AC.CODEBOOKS_AGENT,U=p===d.AC.EXTRACTION_AGENT,B=p===d.AC.SNG_CONFIGURATION_AGENT,z=!G&&!U&&!B,q=G&&(0,Je.T0)("newCodebooksResponseFormat");(0,i.useImperativeHandle)(o,(function(){return{copyTextWithFormat:function(){return(0,Ke.Z)(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.current&&h(y.current);case 1:case"end":return e.stop()}}),e)})))()}}}));var Y=(0,i.useMemo)((function(){return q?I.map((function(e){return e.textChunk})).join(""):S}),[q,I,S]);return u?(null!=n&&n.failureReason&&(t=(0,ct.E)({errorCode:n.failureReason.errorCode})),i.createElement("div",{className:Kn},i.createElement("div",{className:"Qu0t0SQRWIxCEg1E7FX_ undefined"},t||m||Xn("agentExecution.error.apiErrorMessage")),a&&i.createElement("div",{className:"zaEIbXltKx_sEdC9Q9wh"},i.createElement(se.Z,{type:se.Z.SECONDARY,onClick:function(){return window.open(Q.Z.helpdesk.SUPPORT_FORM,"_blank")}},Qn("agentExecution.contactHelpCenter")),i.createElement(se.Z,{onClick:g,type:se.Z.PRIMARY},Qn("agentExecution.tryAgain"))))):i.createElement(i.Fragment,null,i.createElement("div",{className:Kn,"data-tid":"response"},G&&i.createElement(kt,{text:S,codebooksCitations:O,chunkCitations:I,agentName:E,agentId:l,entryPoint:f,ref:y}),U&&_&&M&&i.createElement(Qt,{extractedFields:D,notExtracted:L,selectedFile:_,namespace:M,ref:y}),B&&i.createElement(wt,{text:S,actions:F,agentId:l,executionId:c,ref:y}),z&&i.createElement("div",null,S&&i.createElement("div",{ref:y},i.createElement($e.Z,null,S)),(null==N?void 0:N.length)>0&&i.createElement("div",{className:"j2YO_dlJq3KycpRZ8gu4"},Xn("citations.source"),i.createElement(mt,{citations:N,agentName:E,entryPoint:f,agentId:l,subType:p})))),Z===d.vo.COMPLETED&&!U&&i.createElement(Wn,{message:Y,userInput:s,agentId:l,executionId:c,agentName:E,entryPoint:f,testMode:v,egnyteRequestId:b,subType:p,onCopyClick:function(){y.current&&h(y.current)},llmModelUsed:j}))}var $n=(0,i.forwardRef)((function(e,t){return i.createElement(Jn,(0,ee.default)({forwardedRef:t},e))})),er=n(591275),tr=n(681123),nr=n(983815),rr=n(676839),ar=n(379499),or=n(460019),ir={circle:"EbWWJ42pSh0h19GB9QYf",link:"ROQIs76mmxN8rwN3yGLC",visited:"yF0vZCMLtXsIgz9x28N5",error:"ezLCxJTBnC_ZK8xuELAO",disabled:"nHTuB5PfbEmNcbZ3noUg"},lr=function(e){var t,n=e.size,a=void 0===n?"32px":n,o=e.index,l=e.totalSteps,s=e.state,u=e.disabled,d=e.children,m=e.isError,E=void 0!==m&&m;return i.createElement("div",{style:{width:a,height:a,minWidth:a},className:c()(ir.circle,(t={},(0,r.Z)(t,ir.active,s===er.A.ACTIVE),(0,r.Z)(t,ir.visited,s===er.A.VISITED),(0,r.Z)(t,ir.error,E),(0,r.Z)(t,ir.disabled,u),t))},o!==l-1&&i.createElement("div",{style:{top:"calc(".concat(a," + 2px)"),left:"auto",height:"calc(100% - 2px)"},className:ir.link}),d)},cr=function(e){var t,n=e.label,a=e.index,o=e.state,l=void 0===o?er.A.NOT_VISITED:o,s=e.children,u=e.totalSteps,d=e.disabled,m=void 0!==d&&d,E=e.className,p=void 0===E?"":E,f=e.content,v=void 0===f?null:f,g=e.isError,b=void 0!==g&&g;return t=b?i.createElement(T.Z,{"data-tid":"alert",size:T.Z.sizes.S,icon:ar.Z9}):l===er.A.VISITED?i.createElement(T.Z,{"data-tid":"checkmark",size:T.Z.sizes.S,icon:or.d2}):s,i.createElement("div",{className:c()("IZI_XHs2AHzClbvXq9E7",(0,r.Z)({},"UGp6otwVspmVIpbYwT_5",m),p),"aria-label":n,"data-tid":l,"aria-current":l===er.A.ACTIVE,"aria-disabled":m},i.createElement("div",{className:"RWYzAbYEof3NPbRwPVkA"},i.createElement(lr,{totalSteps:u,size:"24px",index:a,state:l,disabled:m,isError:b},t),i.createElement(i.Fragment,null,v)))},sr="RUXr5sfTFIVe6myfYNeA";function ur(e){var t=e.index,n=e.state;return i.createElement("div",{"data-tid":"step-number",className:c()("I71oHa05_dSxiu1sxYHc undefined",sr,(0,r.Z)({},"Syc9spmUIYkt7SN_5kD7 gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa",n===er.A.ACTIVE))},t+1)}var dr=function(){return i.createElement("div",{"data-tid":"step-loader",className:c()("lyyuK4s7oa2aurvKlRDD",sr)})},mr=function(e){var t=e.steps,n=t.length;return i.createElement("div",{className:"SZkg6wfqPtbegPfTJjry","data-tid":"steps-container"},t.map((function(e,t){return i.createElement(cr,{key:e.key,label:e.label,index:t,state:e.state,content:null==e?void 0:e.content,isError:e.isError,totalSteps:n},!e.isError&&e.state===er.A.ACTIVE&&i.createElement(dr,null),e.icon&&e.state!==er.A.ACTIVE?i.createElement(rr.Z,{"data-tid":e.testId,size:T.Z.sizes.S,icon:e.icon}):i.createElement(ur,{index:t,state:e.state}))})))},Er=n(621465),pr=function(e){var t=e.text;return i.createElement($e.Z,null,t)},fr=function(e){var t=e.thoughts;return i.createElement("div",{className:"V2udJP5nXZOK8I41C3Bp"},t.map((function(e){return i.createElement("div",{className:"LVjHtwMHib1zwWvQFk5o Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6",key:e},i.createElement(pr,{text:e}))})))},vr=(0,i.createContext)({isLastMessage:!1});function gr(){return(0,i.useContext)(vr)}var br=vr,yr=(0,s.nD)("agents.deepResearch"),hr=function(e){var t=e.label,n=e.thoughts,r=void 0===n?[]:n,a=e.shouldShowChevron,l=void 0!==a&&a,c=e.showThoughts,s=void 0!==c&&c,u=e.researchPlanText,d=void 0===u?"":u,m=e.isActive,E=void 0!==m&&m,p=(0,i.useRef)(null),f=function(e){var t=(0,i.useState)(!1),n=(0,o.Z)(t,2),r=n[0],a=n[1];return(0,i.useEffect)((function(){var t=new IntersectionObserver((function(e){var t=(0,o.Z)(e,1)[0];return a(t.isIntersecting)}));return t.observe(e.current),function(){t.disconnect()}}),[e]),r}(p),g=gr().isLastMessage,b=(0,i.useState)(!1),y=(0,o.Z)(b,2),h=y[0],Z=y[1],S=i.createElement(fr,{thoughts:r});return d&&(S=i.createElement(pr,{text:d})),(0,i.useEffect)((function(){f&&g&&E&&null!=r&&r.length&&p.current&&(0,v.z)(p.current,{block:"center",inline:"nearest",behavior:"smooth"})}),[f,g,E,null==r?void 0:r.length]),i.createElement("div",{className:"QthFnUmNpD4goqZ9UX3R"},i.createElement("div",{role:"none",className:"JgWq5GjotzW27Dv__jQQ",onClick:function(){return l?Z(!h):A.Z}},i.createElement("p",{className:"QD5opQrC9ggh52GeR7Uh"},t),l&&i.createElement(T.Z,{size:T.Z.sizes.M,icon:h?Er.m5:Er.Dd})),(s||h)&&S,i.createElement("div",{ref:p},g&&E&&i.createElement(We.g4,{text:yr("loadingStagesText")})))},Zr=(0,s.nD)("copilotHub.agents"),Tr=function(e){var t=e.name,n=e.isAnalyzing,a=void 0!==n&&n,o=t!==d.ul.GENERATE_RESPONSE;return i.createElement("div",null,i.createElement("span",{className:c()("j1UaJu9dX_eWDIC8QWSu",(0,r.Z)({},"Yu3qDz3JAaFOFJ8d2qGI undefined",a))},t),a&&i.createElement("div",{className:"x_kv_skgN7aDeEoAArj2"},Zr("agentExecution.trackProgress.loadingText")),o&&i.createElement("div",{className:"Rh8Pm5p44x1TFlFqLsWs"}))},Sr=n(608964);function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ar=(0,s.nD)("agents.deepResearch"),Or="agent-progress",Pr=function(e){var t=e.status,n=e.progress,a=void 0===n?[]:n,l=e.researchPlanText,c=void 0===l?"":l,s=e.isFollowUpQuestionResponse,u=void 0!==s&&s,m=(0,i.useState)(!0),E=(0,o.Z)(m,2),p=E[0],f=E[1],v=(0,i.useMemo)((function(){var e;return(null===(e=a[a.length-1])||void 0===e?void 0:e.stage)===d.Zg.AWAITING_USER_CONFIRMATION&&t===d.vo.IN_PROGRESS}),[a,t]);(0,i.useEffect)((function(){u||t!==d.vo.COMPLETED||f(!(0,Sr.ax)(a))}),[u,a,t]);var g=(0,i.useMemo)((function(){return u?Sr.pt.map((function(e){var n=(0,Sr.$L)({status:t,stageName:e.key});return Nr(Nr({},e),{},{isError:t===d.vo.FAILED,state:n,content:i.createElement(Tr,{name:e.label,isAnalyzing:e.label===d.ul.ANALYZE_PROMPT&&Sr.m.includes(t)})})})):(0,Sr.Am)({progress:a}).steps.map((function(e){var n,r=(0,Sr.Ml)({status:t,state:e.state}),o=e.key===Sr.yb.PLAN&&!!c;(0,Sr._6)({status:t,stageName:e.key,currentState:r,hasThoughts:!(null===(n=e.thoughts)||void 0===n||!n.length)})&&(r=er.A.VISITED);var l=(0,Sr.Mq)({status:t,newState:r,doesStageHasResearchPlan:o,shouldNotShowActiveIcon:v}),s=(0,Sr.zp)({status:t,progress:a,newState:r});return Nr(Nr({},e),{},{state:l,isError:s,content:i.createElement(hr,{shouldShowChevron:(0,Sr.ps)({newState:r,thoughts:e.thoughts,hasResearchPlan:o}),showThoughts:(0,Sr.LP)({status:t,newState:r,thoughts:e.thoughts,hasResearchPlan:o}),isActive:!s&&l===er.A.ACTIVE,label:e.label,thoughts:(null==e?void 0:e.thoughts)||[],researchPlanText:o?c:""})})}))}),[a,u,t,c,v]),b=Ar(t===d.vo.AWAITING_USER_CONFIRMATION?"stageHeaderLabels.notStarted":"stageHeaderLabels.inProgress");return i.createElement(i.Fragment,null,t===d.vo.AWAITING_USER_CONFIRMATION&&i.createElement("p",{className:"IZ7scHEjRfZoznPfU6nG Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},Ar("awaitingUserConfirmationHeader")),i.createElement(tr.Z,{expanded:(0,r.Z)({},Or,p),onChange:function(){return f(!p)},variant:nr.f.WITH_BACKGROUND},i.createElement(tr.Z.Panel,{name:Or},i.createElement(tr.Z.Heading,null,b,i.createElement(tr.Z.ToggleIcon,null)),i.createElement(tr.Z.Body,null,i.createElement(mr,{steps:g})))))},Ir=(0,s.nD)("agents"),Rr=function(e){var t=e.text,n=void 0===t?"":t,r=e.progress,a=(void 0===r?[]:r).filter((function(e){return Sr.ac.includes(e.stage)})).map((function(e){return e.thought}));return i.createElement("div",{"data-tid":"edit-plan-message"},i.createElement("p",null,Ir("deepResearch.editedPlanMessage")),n?i.createElement(pr,{text:n}):i.createElement(fr,{thoughts:a}),i.createElement("p",null,Ir("deepResearch.editPlanConfirmationMessage")))},Dr=(0,s.nD)("agents"),kr=function(e){var t=gr().isLastMessage,n=e.message,r=e.agentData,a=e.executionId,o=e.onTryAgain,l=e.entryPoint,c=e.responseError,s=n.status,u=(null==n?void 0:n.researchPlan)||"",m={status:s,progress:n.progress,researchPlanText:u,isFollowUpQuestionResponse:!!n.isFollowUpQuestionResponse};switch(s){case d.vo.INITIAL_STATE:case d.vo.PLANNING:return m.isFollowUpQuestionResponse?i.createElement(Pr,m):i.createElement(We.g4,{text:Dr("analyzingText")});case d.vo.IN_PROGRESS:case d.vo.AWAITING_USER_CONFIRMATION:case d.vo.INTERMEDIATE:return n.isEditPlanMessage?i.createElement(Rr,{text:u,progress:null==n?void 0:n.progress}):i.createElement(Pr,m);case d.vo.COMPLETED:case d.vo.FAILED:return i.createElement(i.Fragment,null,i.createElement(Pr,m),i.createElement($n,{response:n,agentId:r.id,responseError:c,agentName:r.name,entryPoint:l,showErrorButtons:!!t,hasError:s===d.vo.FAILED,onTryAgain:o,userInput:{message:n.content},executionId:a,egnyteRequestId:n.egnyteRequestId}));default:return null}},Lr=n(914578),wr=(0,s.nD)("agents.extraction.progress");function Fr(){return i.createElement(vt.Z,{direction:"column",justifyContent:"center"},i.createElement("div",{className:"izlbpoNvRyB_az9ZudwD XO7SEIVuYeBB8pdJ4VrV cMD1Ln5gNqHc7P7v_G_6"},i.createElement(We.g4,{text:wr("extracting")})))}var _r=n(921758),Mr="Jj98IEoLGaavW7nZMTcc",xr="QMfveadpXhUxizFg9kaJ",jr=(0,s.nD)("copilotHub.agents"),Gr=[{name:d.ul.INITIALIZE,icon:or.d2,className:c()(Mr,xr),testId:"checkmark"},{name:d.ul.ANALYZE_PROMPT,icon:_r.Vn,className:c()(Mr,"MTBV4b33u0pBnRkwP7hQ"),testId:"fileSearchOutline"},{name:d.ul.GENERATE_RESPONSE,icon:an.L8,className:c()(Mr,"MThObhkO0wh_SpfgsK5q"),testId:"documentTextOutline"}];function Ur(e){var t=e.status;return i.createElement("div",{className:"GVap131xEkVDSpHuwV6Y"},Gr.map((function(e,n){var a=e.name,o=e.icon,l=e.className,s=e.testId,u=a===d.ul.ANALYZE_PROMPT&&t===d.vo.IN_PROGRESS,m=[d.ul.GENERATE_RESPONSE,d.ul.ANALYZE_PROMPT].includes(a)&&t===d.vo.FAILED;return i.createElement("div",{key:a,className:"StZpQYdnjDJ1jsXv49AA"},i.createElement("div",{className:"xMkB67KGtyD05kcsGYc5"},i.createElement(Br,{isError:m,status:t,name:a,icon:o,className:l,testId:s})),i.createElement("div",null,i.createElement("span",{className:c()("ePaf11tlWQg3dy5wMCYf",(0,r.Z)({},"e7nRw6ilQSP49BRrITkU undefined",u))},a),u&&i.createElement("div",{className:"pwe8cqNXloBeosSUhKsU"},jr("agentExecution.trackProgress.loadingText"))),n!==Gr.length-1&&i.createElement("div",{className:"Gba5IOaiDHy5ym15Srzt"}))})))}function Br(e){var t=e.isError,n=e.status,r=e.name,a=e.icon,o=e.className,l=e.testId;return t?i.createElement("div",{className:c()(Mr,"cdujXTnbqDfhY_mX_z_E")},i.createElement(T.Z,{"data-tid":"alert",size:T.Z.sizes.S,icon:ar.Z9})):n===d.vo.IN_PROGRESS||n===d.vo.INITIAL_STATE?i.createElement(i.Fragment,null,r===d.ul.ANALYZE_PROMPT&&i.createElement("div",{className:"_y8sUTQPYw61XawGtSky"}),i.createElement("div",{className:o},i.createElement(T.Z,{"data-tid":l,size:T.Z.sizes.S,icon:a}))):(d.vo.COMPLETED,i.createElement("div",{className:c()(Mr,xr)},i.createElement(T.Z,{"data-tid":"checkmark",size:T.Z.sizes.S,icon:or.d2})))}var zr=n(313270),qr=n(348615),Yr="FILE",Hr="LINK",Vr="CUSTOM";function Wr(e){var t=e.item,n=e.type,r=e.icon;return n===Yr?i.createElement(rt.Z,{type:at.dt.FILE,name:t}):n===Hr?i.createElement(qr.Z,{url:t}):n===Vr&&r?i.createElement(T.Z,{icon:r,size:T.Z.sizes.S}):null}function Kr(e){var t=e.title,n=e.icon,r=e.items,a=e.isDone,o=e.type;return i.createElement("div",{className:"SN5Yh8wVjh5NnAdl_Qdh"},!a&&i.createElement("div",null,i.createElement(We.g4,{text:t,className:"ZOb15IfyRzXEgl5hkvlK Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"})),i.createElement("div",{className:"GxUsFXUP5VqQ6WWizYcN"},r.map((function(e){return i.createElement(Z.Z,{key:e,color:Z.Z.GREY,size:Z.Z.sizes.MEDIUM,uppercase:!1},i.createElement("div",{className:"ERt_Za7bO4cmy9r96Jg_"},i.createElement(Wr,{item:e,icon:n,type:o})),i.createElement("span",{className:"YP5CdoHXWuZXYPIiLWTU"},i.createElement(tt.Z,null,o===Yr?e.split("/").pop():e)))}))))}var Qr=(0,s.nD)("agents.agentExecution.progressTracker.progressText");function Xr(e){var t=e.isDone,n=e.searchTerms,r=void 0===n?[]:n,a=e.matchedFiles,o=void 0===a?[]:a,l=e.links,c=void 0===l?[]:l;return r.length||o.length||c.length?i.createElement("div",{className:"EgSA6WAbD_ZfQQaozRVR"},r.length>0&&i.createElement(Kr,{title:Qr("searching"),icon:zr.y,items:r,isDone:t,type:Vr}),o.length>0&&i.createElement(Kr,{title:Qr("reading"),items:o,isDone:t,type:Yr}),c.length>0&&i.createElement(Kr,{title:Qr("reading"),items:c,isDone:t,type:Hr})):null}function Jr(e){var t=e.icon,n=e.title,a=e.isLastVisibleStep,o=e.isDone,l=e.children;return i.createElement("div",{className:"x5rTuhcLfDCFZCfLzkaq"},i.createElement("div",{className:"r1qlyHfh_1ZKNWMTvmLb"},i.createElement("div",{className:"T6C3M7_gRxeJamP_0Onv"},t)),i.createElement("div",{className:"fcfT5azuGAnNlurFPgCD"},i.createElement("div",{className:c()("VpV77QyY73IsH6Wr2cPu Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",(0,r.Z)({},"Oc8HJMxjQ8143tAwbIdE gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa",a&&!o))},n),l,!a&&i.createElement("div",{className:"_irJlKIvtZeO8nIcQJX5"})))}var $r="V7vUAH91ImE4yUboMG3e";function ea(e){var t=e.isLastVisibleStep,n=e.isComplete,r=e.isError,a=e.index;return r?i.createElement("div",{className:c()($r,"gQ6QXZtQVsxGgyHl72dA")},i.createElement(T.Z,{"data-tid":"alert",size:T.Z.sizes.S,icon:ar.Z9})):n||!t?i.createElement("div",{className:c()($r,"lLyQDrMWMmfIfi3JgL2V")},i.createElement(T.Z,{"data-tid":"checkmark",size:T.Z.sizes.S,icon:or.d2})):i.createElement("div",{className:"K2fGWV3b3he46zZnNiot","data-tid":"loading-background"},i.createElement("div",{className:"BjVl0f7FD4MUvRWZlIwF"}),i.createElement("div",{className:"YBkk8FXbhOhZ9YzG_lTo gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},a+1))}var ta=(0,s.nD)("agents.agentExecution.progressTracker"),na=[{name:d.vo.INITIAL_STATE,title:ta("title.step",{context:d.vo.INITIAL_STATE}),progressText:ta("progressText.initiating")},{name:d.vo.IN_PROGRESS,title:ta("title.step",{context:d.vo.IN_PROGRESS}),progressText:ta("progressText.analyzing")},{name:d.vo.COMPLETED,title:ta("title.step",{context:d.vo.COMPLETED})}];function ra(e){var t=e.status,n=e.searchTerms,r=e.matchedFiles,a=e.links,o=t===d.vo.COMPLETED,l=t===d.vo.FAILED,c=o||l,s=na.findIndex((function(e){return e.name===t})),u=l?na:na.slice(0,s+1);return i.createElement("div",{className:"g6XrvP4kuJUSryHIWcSq"},u.map((function(e,t){var s=e.title,m=e.progressText,E=e.name,p=t===u.length-1,f=i.createElement(ea,{isLastVisibleStep:p,isComplete:o,isError:l,index:t});return i.createElement(Jr,{key:E,icon:f,title:s,isLastVisibleStep:p,isDone:o||l},E===d.vo.IN_PROGRESS&&i.createElement(Xr,{isDone:c,searchTerms:n,matchedFiles:r,links:a}),!c&&p&&m&&i.createElement("div",null,i.createElement(We.g4,{text:m,className:"i_tjMNMPDtw0Bpmln3F5 Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"})))})))}var aa=(0,s.nD)("agents.agentExecution.progressTracker");function oa(e){var t=e.status,n=e.searchTerms,a=e.matchedFiles,l=e.links,c=e.agentType,s=c===d.AC.CODEBOOKS_AGENT,u=c===d.AC.EXTRACTION_AGENT,m=(0,i.useState)(!0),E=(0,o.Z)(m,2),p=E[0],f=E[1],v=(0,i.useMemo)((function(){return(0,Lr.uniqueId)("response-progress-")}),[]);return(0,i.useEffect)((function(){t===d.vo.COMPLETED&&f(!1)}),[t]),u?i.createElement(Fr,null):i.createElement(tr.Z,{expanded:(0,r.Z)({},v,p),onChange:function(){return f(!p)},variant:nr.f.WITH_BACKGROUND},i.createElement(tr.Z.Panel,{name:v},i.createElement(tr.Z.Heading,null,aa("responseProgress")," ",i.createElement(tr.Z.ToggleIcon,null)),i.createElement(tr.Z.Body,null,s?i.createElement(ra,{status:t,searchTerms:n,matchedFiles:a,links:l}):i.createElement(Ur,{status:t}))))}function ia(e){var t=e.onEditClick,n=e.showEditButton;return void 0!==n&&n?i.createElement("div",{className:"uwVcu7jp1Ktj756GSQdv"},i.createElement(re.Z,{tooltip:(0,s.t)("button.label.edit"),placement:"bottom"},i.createElement(ce.Z,{size:ce.Z.sizes.SMALL,type:ce.Z.GHOSTED,icon:C.T,onClick:function(){t()},"aria-label":(0,s.t)("button.label.edit"),"data-tid":"edit-question"}))):null}var la=n(5567);function ca(e,t){var n=e.iconName,a=e.agentName,o=e.fullHeight,l=e.children;return i.createElement("div",{ref:t,className:c()("xM60Ta2aIbXL_9ixZxQZ",(0,r.Z)({},"FjMbH9lGmurOVkA2TE_C",o))},i.createElement("div",{className:"BGozultD0qPK2OfopHFw"},i.createElement(T.Z,{className:"iFO3uwkxg_lhRxinFHWV",size:T.Z.sizes.L,icon:la[n]}),i.createElement("span",{className:"dH1twGR68ir4RWJBsYxl m8RKLInoi4LLh_CKMjd0 gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},i.createElement(tt.Z,{tooltip:a},a))),l)}var sa=(0,i.forwardRef)(ca),ua="KFpwUb6E1GuLOnQi4X_O";function da(e,t){var n,r=e.message,a=e.agentData,o=e.executionId,l=e.testMode,s=e.entryPoint,u=e.responseError,m=e.onTryAgain,E=e.showEditButton,p=void 0!==E&&E,f=e.isLastMessage,v=void 0!==f&&f,b=e.isSubmittingQuestion,h=void 0!==b&&b,Z=e.handleEditPromptSubmit,T=r.type,S=l?g.eB:null==a?void 0:a.id,C=a.subType===d.AC.DEEP_RESEARCH_AGENT,N=a.subType===d.AC.CODEBOOKS_AGENT,A=[d.vo.COMPLETED,d.vo.FAILED].includes(r.status),O=(0,i.useMemo)((function(){return{isDeepResearchAgentFlow:C,isLastMessage:v}}),[C,v]),P=(0,Ve.Z)(null!==(n=r.content)&&void 0!==n?n:""),I=P.isEditing,R=P.editorValue,D=P.canSubmit,k=P.setEditorValue,L=P.setIsEditing;if((0,i.useEffect)((function(){h&&L(!1)}),[h,L]),T===d.C7.USER_MESSAGE)return i.createElement("div",{ref:t,className:"vWLUfXDRlHxU18mIa6My"},I?i.createElement("div",{className:c()(ua,"RnmPh2xwjxYuKtKDZeLA")},i.createElement(He.Z,{theme:qe.Q2.Light,submitDisabled:!D,value:R,onChange:k,onSubmit:function(){var e;(0,y.zx)({agentName:(null==a?void 0:a.name)||"-",identifier:(null==a?void 0:a.id)||"-",entryPoint:s,usingAt:0,usingPlus:0,usingPlaceholder:(null===(e=r.entryIds)||void 0===e?void 0:e.length)||0,characterCount:R.length,wordCount:R.trim().split(/\s+/).length,subType:(null==a?void 0:a.subType)||d.AC.USER_DEFINED,edited:!0}),null==Z||Z(R),L(!1)},onCancel:function(){L(!1)},attachedFiles:r.files})):i.createElement(i.Fragment,null,i.createElement("div",{className:ua,dangerouslySetInnerHTML:{__html:(0,Ye.sanitize)((0,pe.km)(r.content))}}),i.createElement(ia,{onEditClick:function(){(0,y.i5)({agentName:(null==a?void 0:a.name)||"-",identifier:(null==a?void 0:a.id)||"-",entryPoint:s,subType:(null==a?void 0:a.subType)||d.AC.USER_DEFINED}),L(!0)},showEditButton:p})));var w={iconName:a.iconName,agentName:a.name,fullHeight:v,ref:t};return C?i.createElement(br.Provider,{value:O},i.createElement(sa,w,i.createElement(kr,{message:r,agentData:a,executionId:o,onTryAgain:m,entryPoint:s,responseError:u}))):i.createElement(sa,w,i.createElement(i.Fragment,null,(!A||N)&&i.createElement(oa,{status:r.status,matchedFiles:r.matchedFiles,searchTerms:r.searchTerms,links:r.links,agentType:a.subType}),A&&i.createElement($n,{response:r,responseError:u,agentId:S,agentName:a.name,agentType:a.subType,entryPoint:s,hasError:r.status===d.vo.FAILED,onTryAgain:m,userInput:{message:r.content},executionId:o,testMode:l,egnyteRequestId:r.egnyteRequestId})))}var ma=(0,i.forwardRef)(da);function Ea(e){var t=e.messages,n=e.agentData,r=e.executionId,a=e.testMode,o=e.entryPoint,l=e.responseError,c=e.onTryAgain,s=e.lastMessageRef,u=e.isSubmittingQuestion,m=e.handleEditPromptSubmit,E=(0,he.Z)("chatbotEditPromptEnabled"),p=t[t.length-1],f=(null==p?void 0:p.status)===d.vo.COMPLETED||(null==p?void 0:p.status)===d.vo.FAILED,v=n.subType===d.AC.DEEP_RESEARCH_AGENT;return i.createElement("div",{className:"gTcpYIp2NkMzEGa2h1cH"},t.map((function(e,p){var g=p===t.length-1,b=e.type===d.C7.USER_MESSAGE&&p===t.length-2,y=!v&&E&&b&&!u&&f;return i.createElement(ma,{key:p,message:e,agentData:n,onTryAgain:c,executionId:r,testMode:a,entryPoint:o,responseError:l,ref:g?s:null,showEditButton:y,isLastMessage:g,isSubmittingQuestion:u,handleEditPromptSubmit:m})})))}var pa=n(71458),fa=n(601714),va=n(307179),ga=n(652233),ba=(0,s.nD)("agents.agentExecution.welcomeScreen.configurationOptions");function ya(e){var t,n=e.onClick,r=(0,ga.a)().goToConfiguration,a=(0,W.E)().currentConfiguration,o=(null==a?void 0:a.jurisdiction)||(null==a?void 0:a.codeYear)||!(null==a||null===(t=a.buildingTypes)||void 0===t||!t.length);return i.createElement("div",{className:"PSlKN5gi9W5ovTqklJ_0"},i.createElement("p",{className:"aT_lGp9OZgCIUv8S8gct qqGfbuN2RooWpKmkockU"},ba("message")),i.createElement(se.Z,{type:se.Z.TERTIARY,onClick:function(){null==r||r(),null==n||n()}},i.createElement(se.Z.Icon,{icon:pa.y}),ba("button"),o&&i.createElement("span",{className:"ddVlVAW5mRZI655DAM3c","data-tid":"configuration-dot"})))}var ha=(0,s.nD)("agents.agentExecution.welcomeScreen");function Za(e){var t=e.agentData,n=e.sidebarMode,r=(0,ga.a)().goToConfiguration,a=(0,W.E)().currentConfiguration,o=fa.Z.get("user"),l=t.iconName,c=t.name,s=t.description,u=(null==t?void 0:t.subType)===d.AC.DEEP_RESEARCH_AGENT,m=(null==t?void 0:t.subType)===d.AC.CODEBOOKS_AGENT,E=n&&u&&!(null==a||!a.error),p=m&&n;return i.createElement("div",{className:"NdvVWT4CjLCxO1RfgOlQ"},i.createElement("div",{className:"ipcI8m_uSnICXxlHs5oM"},i.createElement(T.Z,{className:"Q04zK3V6u595_djsSmlc",size:T.Z.sizes.L,icon:la[l]}),i.createElement("span",{className:"X8gNdQYDQ7EFuPDP6B4b DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR"},c)),i.createElement("div",{className:"IBZsXbO2f2zI3JHZYDdm"},i.createElement("div",{className:"LQOdadznJCjNtynz9toU"},i.createElement("p",{className:"tyJBa0RFT2E1lg9IpdDE"},ha("title",{name:(0,Lr.capitalize)((0,va.S4)(o))})),s&&i.createElement("p",{className:"ZJf5zJrE5LZvTYBYan40 qqGfbuN2RooWpKmkockU"},s)),E&&i.createElement(se.Z,{type:se.Z.TERTIARY,onClick:function(){return null==r?void 0:r()}},i.createElement(se.Z.Icon,{icon:pa.y}),ha("selectSources")),p&&i.createElement(ya,{onClick:function(){(0,y.ez)({agentName:null==t?void 0:t.name,identifier:null==t?void 0:t.id,entryPoint:d.eR.SIDEBAR,subType:null==t?void 0:t.subType})}})))}function Ta(e){var t=e.isLoading,n=e.agentData,r=e.messages,a=e.executionId,o=e.onTryAgain,l=e.testMode,c=e.entryPoint,s=e.responseError,u=e.isSubmittingQuestion,d=e.sidebarMode,m=e.lastMessageRef,E=e.handleEditPromptSubmit;return t?i.createElement("div",{className:"lsqb7rKxeFnR0WlfUT_w"},i.createElement(ze.Z,null)):n?r.length>0?i.createElement(Ea,{messages:r,agentData:n,executionId:a,onTryAgain:o,testMode:l,entryPoint:c,responseError:s,lastMessageRef:m,isSubmittingQuestion:u,handleEditPromptSubmit:E}):i.createElement(Za,{agentData:n,sidebarMode:d}):null}function Sa(e){return e.agentData?i.createElement(Ta,e):i.createElement(Be,null)}var Ca="ShYRgXJvKsXtnpB_pFiz";function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oa=(0,s.nD)("agents.agentExecution"),Pa=[d.vo.COMPLETED,d.vo.FAILED];function Ia(e){var t,n=e.agentData,l=e.testMode,Z=e.sidebarMode,T=e.isLoading,S=e.history,C=e.sources,N=e.isHidden,A=e.toggleConfiguration,O=e.conversationId,I=e.executionId,k=(0,m.Q7)().selectedLlmModel,L=(0,i.useRef)(null),F=(0,W.E)(),j=F.setHasConversationStarted,K=F.currentConfiguration,Q=F.setCurrentConfiguration,X=(0,V.Z)().aiAgentsSourceSelectorFeatureEnabled,J=(0,i.useState)(S||[]),ee=(0,o.Z)(J,2),te=ee[0],ne=ee[1],re=(0,i.useState)(I||null),ae=(0,o.Z)(re,2),oe=ae[0],ie=ae[1],le=(0,i.useState)(O||null),ce=(0,o.Z)(le,2),se=ce[0],ue=ce[1],de=(0,i.useState)(!1),me=(0,o.Z)(de,2),Ee=me[0],pe=me[1],fe=function(e){var t=e.agentId,n=e.executionId,r=e.setMessages,l=e.messages,c=void 0===l?[]:l,u=e.setFetchingExecutionStatus,m=e.conversationId,p=(0,i.useState)(null),f=(0,o.Z)(p,2),v=f[0],g=f[1],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,D.useQueryClient)();return(0,D.useMutation)(R()(_({mutationFn:w,onSuccess:function(){t.invalidateQueries(M)}},e)))}(),y=b.mutate,h=b.isLoading,Z=(0,i.useState)(!1),T=(0,o.Z)(Z,2),S=T[0],C=T[1],N=(0,i.useRef)(null);(0,i.useEffect)((function(){return function(){N.current&&clearTimeout(N.current)}}),[]);var A=function(e){N.current&&clearTimeout(N.current),N.current=setTimeout((function(){C(!1),u(!0),r(e),N.current=null}),2e3)},O=(0,i.useMemo)((function(){return{onError:function(){g(null),U(x.em.error,(0,s.t)("error.default"))}}}),[]);return{isEditPlanApiLoading:h,isEditPlanInProgress:S,onEditPlanClick:function(){u(!1),C(!0);var e=c[c.length-1],t=[].concat((0,a.Z)(c),[{type:d.C7.USER_MESSAGE,content:B("deepResearch.editPlanMessage"),isEditPlanMessage:!0},G(G({},e),{},{isEditPlanMessage:!0})]);r(t)},handleEditPlan:function(e){g(d.HT.EDIT_PLAN);var r=c[c.length-1],o=((0,E.jN)(e.message)||"").trim(),i=[].concat((0,a.Z)(c),[{type:d.C7.USER_MESSAGE,content:o},G(G({},r),{},{isEditPlanMessage:void 0})]);y({id:t,executionId:n,feedback:o,startExecution:!1,conversationId:m,intermediateQuestion:B("deepResearch.editPlanMessage"),currentQuestion:o,intermediateResponse:null==r?void 0:r.researchPlan},G({onSuccess:function(){return A(i)}},O))},onStartResearchClick:function(){g(d.HT.START_RESEARCH);var e=c[c.length-1],r=[].concat((0,a.Z)(c),[{type:d.C7.USER_MESSAGE,content:B("deepResearch.startResearchMessage")},G(G({},d.yX),{},{type:d.C7.RESPONSE,progress:null==e?void 0:e.progress,researchPlan:null==e?void 0:e.researchPlan,status:d.vo.IN_PROGRESS})]);y({id:t,executionId:n,feedback:null,startExecution:!0,conversationId:m,currentQuestion:B("deepResearch.startResearchMessage"),intermediateQuestion:null,intermediateResponse:null},G({onSuccess:function(){return A(r)}},O))},fetchingEditPlanUpdateOrStartResearch:v,setFetchingEditPlanUpdateOrStartResearch:g}}({messages:te,setMessages:ne,agentId:null==n?void 0:n.id,executionId:oe,setFetchingExecutionStatus:pe,conversationId:se}),ve=fe.isEditPlanInProgress,ge=fe.handleEditPlan,be=fe.onStartResearchClick,ye=fe.onEditPlanClick,he=fe.fetchingEditPlanUpdateOrStartResearch,Ze=fe.setFetchingEditPlanUpdateOrStartResearch,Te=(0,H.p)().extractionButtonClicked,Se=l?g.eB:null==n?void 0:n.id,Ce=(null==n?void 0:n.subType)===d.AC.DEEP_RESEARCH_AGENT,Ne=(null==n?void 0:n.subType)===d.AC.CODEBOOKS_AGENT,Ae=(null==n?void 0:n.subType)===d.AC.EXTRACTION_AGENT,Oe=l?d.eR.TEST_FLOW:Z?d.eR.SIDEBAR:d.eR.COPILOT_HUB,Pe=function(e){ne((function(t){var n=(0,a.Z)(t);return n[n.length-1]=Aa(Aa({},n[n.length-1]),{},{status:e}),n}))},Ie=(0,p.RS)({onSuccess:function(e){var t,n;ie(null!==(t=null==e?void 0:e.executionId)&&void 0!==t?t:null),ue(null!==(n=null==e?void 0:e.conversationId)&&void 0!==n?n:null),pe(!0)},onError:function(e){var t;pe(!1),Pe(d.vo.FAILED),(null==e||null===(t=e.response)||void 0===t?void 0:t.status)===d.o2.RATE_LIMIT&&ie(null),(0,y.Kh)({entryPoint:Oe,agentName:null==n?void 0:n.name,identifier:null==n?void 0:n.id,subType:null==n?void 0:n.subType})}}),Re=Ie.error,De=Ie.isError,ke=Ie.reset,Le=Ie.mutate,we=Ie.isLoading,Fe=(0,m.Ns)(),Me=(0,i.useCallback)((function(e){return n&&n.subType===d.AC.USER_DEFINED?Fe(e):{}}),[n,Fe]);(0,i.useEffect)((function(){if(S){ne(S);var e=S[S.length-1],t=[d.vo.COMPLETED,d.vo.FAILED].includes(null==e?void 0:e.status);if((null==e?void 0:e.type)===d.C7.RESPONSE&&!t)return ie(e.executionId),void pe(!0);if(t)if(pe(!1),(null==e?void 0:e.status)===d.vo.COMPLETED)ie(null);else if((null==e?void 0:e.status)===d.vo.FAILED){var n=e.executionId||null;ie(n)}}}),[S]),(0,i.useEffect)((function(){L.current&&(0,v.z)(L.current,{block:"start",behavior:"smooth"})}),[te.length]),(0,i.useEffect)((function(){ue(O),ke()}),[O,ke]);var xe=function(){he&&Ze(null)},Ge=function(e){var t=e.status,n=e.lastMessageStage,r=t===d.vo.AWAITING_USER_CONFIRMATION;Ce&&r&&he!==d.HT.START_RESEARCH?pe(!1):(Ce&&!r&&n&&n!==d.Zg.AWAITING_USER_CONFIRMATION&&xe(),Pa.includes(t)&&(pe(!1),Ne&&j(!1)))};(0,p.P7)(Aa(Aa(Aa({agentId:Se,executionId:oe},l&&{type:u.J1.TEST_AGENT}),Ne&&{type:u.J1.CODEBOOKS_AGENT}),Ae&&{type:u.J1.EXTRACTION_AGENT}),{enabled:!!oe&&!!Se&&Ee,retry:function(e,t){return!!Ce&&(0,h.shouldQueryRetry)(e,t)},refetchInterval:function(e){return(null==e||!e.status||![d.vo.COMPLETED,d.vo.FAILED].includes(null==e?void 0:e.status))&&d.DA},onSuccess:function(e){var t,n;ne((function(t){var n,r,o,i,l,c,s,u,d=(0,a.Z)(t);return d[d.length-1]=Aa(Aa({},d[d.length-1]),{},{status:e.status,progress:null!==(n=null==e?void 0:e.progress)&&void 0!==n?n:[],responseText:null==e?void 0:e.responseText,citations:null!==(r=e.citations)&&void 0!==r?r:[],researchPlan:(null==e?void 0:e.plan)||"",codebooksCitations:null!==(o=e.codebooksCitations)&&void 0!==o?o:[],actions:null!==(i=e.actions)&&void 0!==i?i:[],chunkCitations:null!==(l=e.chunkCitations)&&void 0!==l?l:[],links:null!==(c=e.links)&&void 0!==c?c:[],matchedFiles:null!==(s=e.matchedFiles)&&void 0!==s?s:[],searchTerms:null!==(u=e.searchTerms)&&void 0!==u?u:[],egnyteRequestId:e.egnyteRequestId,failureReason:null==e?void 0:e.failureReason}),d}));var r=null==e||null===(t=e.progress)||void 0===t||null===(n=t[e.progress.length-1])||void 0===n?void 0:n.stage;Ge({status:e.status,lastMessageStage:r})},onError:function(){pe(!1),Pe(d.vo.FAILED),xe(),(0,y.Kh)({entryPoint:Oe,agentName:null==n?void 0:n.name,identifier:null==n?void 0:n.id,subType:null==n?void 0:n.subType})}});var Ue=(0,i.useCallback)((function(e){var t=e.message,r=e.entryIds,o=e.files,i=e.isRetry,c=e.isEdit,s=e.shouldThisBeFollowUpQuestionForDeepResearch,u=e.isFirstDeepResearchMessage,m=e.currentExecutionId,p=e.retryWithNewQuestion,v=void 0!==p&&p,b=e.currentSources,h=e.additionalData,Z=e.modelDetails,T=t.trim();if(!i&&!c||v){var S=[].concat((0,a.Z)(te),[Aa(Aa({entryIds:r},o&&{files:o}),{},{type:d.C7.USER_MESSAGE,content:T},u&&{isFirstDeepResearchMessage:!0}),Aa(Aa(Aa(Aa({type:d.C7.RESPONSE},d.yX),s&&{isFollowUpQuestionResponse:!0}),v&&{status:d.vo.IN_PROGRESS}),Me({llmModelDetailsFromResponse:Z,selectedLlmModel:k}))]);ne(S)}var N=i||c?te.slice(0,-2):te,A=(0,E.wG)({messagesForHistory:N,isCodebooksAgent:Ne}),O=b||C||K,P=(0,E.kI)({testMode:l,isCodebooksAgent:Ne,isExtractionAgent:Ae}),I=Aa(Aa(Aa(Aa(Aa({entryIds:r,conversationId:se,askRequestType:P,message:(0,E.jN)(T),kbaId:l?g.eB:null==n?void 0:n.id,chatHistory:{messages:A},instruction:null==n?void 0:n.instruction},O&&{selectedItems:(0,f.U)(O,null==n?void 0:n.subType)}),Ae&&Aa({},(0,Y.Rv)(O))),!!m&&{executionId:oe}),h&&{additionalData:h}),Me({llmModelDetailsFromResponse:Z,selectedLlmModel:k}));Le(I,{onSuccess:function(e,t){if(i){var n=Aa(Aa(Aa(Aa({type:d.C7.RESPONSE},d.yX),s&&{isFollowUpQuestionResponse:!0}),v&&{status:d.vo.IN_PROGRESS}),{},{modelDetails:t.modelDetails});ne((function(e){var t=(0,a.Z)(e);return t[t.length-1]=n,t}))}if(Ae){var r,o,l=e,c=Aa(Aa({type:d.C7.RESPONSE},d.yX),{},{status:d.vo.COMPLETED,extractedFields:null!==(r=l.extractedFields)&&void 0!==r?r:[],notExtracted:(0,Y.GX)(l.extractedFields,null===(o=O.namespace)||void 0===o?void 0:o.properties)},{selectedFile:O.selectedFile,namespace:O.namespace});ne((function(e){var t=(0,a.Z)(e);return t[t.length-1]=c,t})),Ge({status:l.executionStatus})}},onError:function(){Pe(d.vo.FAILED),(0,y.Kh)({entryPoint:Oe,agentName:null==n?void 0:n.name,identifier:null==n?void 0:n.id,subType:null==n?void 0:n.subType})}})}),[te,n,K,se,Le,l,C,Oe,oe,Ne,Ae,k]),Be=function(e){var t=e.values,n=e.lastResponseMessage,r=e.currentMessages,a=void 0===r?[]:r,o=e.isRetry,i=void 0!==o&&o;if(!Ce)return t;if(!n||0===a.length)return Aa(Aa({},t),{},{shouldThisBeFollowUpQuestionForDeepResearch:!1,isFirstDeepResearchMessage:!0});var l=(0,E.Ey)(n),c=Aa(Aa({},t),{},{shouldThisBeFollowUpQuestionForDeepResearch:l});if(i){var s=a.find((function(e){return e.isFirstDeepResearchMessage})),u=!l&&!(null==s||!s.content);return Aa(Aa(Aa({},c),u&&Aa(Aa({isFirstDeepResearchMessage:!0},s),{},{message:null==s?void 0:s.content,retryWithNewQuestion:!0})),{},{isRetry:i})}return c},ze=function(e){var t=(null==te?void 0:te.length)>=1?te[te.length-1]:null,n=Be({values:e,lastResponseMessage:t,currentMessages:te}),r={egnyte:null==e?void 0:e.egnyte,webSearch:null==e?void 0:e.webSearch};Ue(Aa(Aa({},n),r.egnyte&&r.webSearch&&{currentSources:r})),null!=r&&r.egnyte&&null!=r&&r.webSearch&&Q(Aa(Aa({},K),{},{isValid:!0,error:""},r)),l||!Ce&&!Ne||(j(!0),Ce&&(null==A||A(!1)))};(0,i.useEffect)((function(){if(Te){var e={message:Oa("extractionAgent.question")};(0,H.Q)(!1),ze(e)}}),[Te]);var qe,Ye=(0,i.useCallback)((function(e){var t=te[te.length-2],n=te[te.length-1],r=Aa({type:d.C7.RESPONSE,modelDetails:null==n?void 0:n.modelDetails},d.yX),o=[].concat((0,a.Z)(te.slice(0,-2)),[Aa(Aa({},t),{},{content:e,modelDetails:null==n?void 0:n.modelDetails}),r]);ne(o),Ue({message:(0,E.jN)(e),entryIds:null==t?void 0:t.entryIds,files:null==t?void 0:t.files,isEdit:!0,currentExecutionId:oe,additionalData:{action:u.L2.EDIT_PROMPT},modelDetails:null==n?void 0:n.modelDetails})}),[te,ne,Ue,oe]),He=null;De&&(He=(null===(qe=Re.response)||void 0===qe?void 0:qe.status)===d.o2.RATE_LIMIT?Oa("error.rateLimitErrorMessage"):Oa("error.apiErrorMessage"));var Ve=te[te.length-1],We=(null==n?void 0:n.sourcesStatus)===b.e3.INVALID,Ke=!(!Ce&&!Ne||null!=K&&K.isValid),Qe=!!He||(null==Ve?void 0:Ve.status)===d.vo.FAILED,Xe=l?Sa:Ta,Je=Ce&&((null==Ve?void 0:Ve.status)===d.vo.AWAITING_USER_CONFIRMATION||he===d.HT.START_RESEARCH)&&!ve&&!(he===d.HT.EDIT_PLAN),$e=!n||T||we||Ee||We||Je||Qe||(!X||Ne)&&Ke||!!he||Ae,et=Ne&&Z&&!(null==n||null===(t=n.additionalFields)||void 0===t||!t.extractionFailed),tt=Ne&&Z&&(null==n?void 0:n.unprocessedPaths)&&(null==n?void 0:n.unprocessedPaths.length)>0;return i.createElement("div",{className:c()("EqsE6vsNQ7AzAwFKkgdO",(0,r.Z)({},"CdSx6MxWgJY_s87sMugw",N)),"data-tid":"agent-chatbot"},l&&i.createElement(je,{clearChatDisabled:!te.length,onClearChat:function(){ne([]),ie(null),ue(null),pe(!1)}}),et&&i.createElement("div",{className:Ca},i.createElement(z.Z,{sidebarMode:Z})),tt&&i.createElement("div",{className:Ca},i.createElement(q.Z,{agentData:n})),i.createElement("div",{className:"YNo3A869NsV20GkEZJUA OskVlYbtF21mA4111k3X"},i.createElement(Xe,{isLoading:T,agentData:n,messages:te,executionId:oe,testMode:l,entryPoint:Oe,responseError:He,onTryAgain:function(){Pe(d.vo.IN_PROGRESS);var e=te[te.length-2],t=te[te.length-1],n={message:e.content,entryIds:e.entryIds,files:e.files,isRetry:!0,modelDetails:null==t?void 0:t.modelDetails},r=te.length>=3?te[te.length-3]:null,a=Be({values:n,lastResponseMessage:r,currentMessages:te,isRetry:!0});Ue(Aa(Aa({},a),{},{currentExecutionId:oe}))},isSubmittingQuestion:we,sidebarMode:Z,lastMessageRef:L,handleEditPromptSubmit:Ye})),i.createElement("div",{className:"a9DLgDV6mroVzXq02i0w"},Je&&i.createElement("div",{className:"hBC2LmN0yFf9SksTrqWt"},i.createElement(P,{fetchingEditPlanUpdateOrStartResearch:he,onEditPlanClick:ye,onStartResearchClick:be})),i.createElement(_e,{disabled:$e,isFollowUpQuestion:Ce?(0,E.Ey)(Ve):te.length>0,onSend:ve?ge:ze,testMode:l,history:S,agentData:n,entryPoint:Oe,showAnimatedLoadingButton:he===d.HT.EDIT_PLAN,tooltip:Ce||Ne?null==K?void 0:K.error:null}),i.createElement($,null)))}function Ra(e){var t=e.agentData,n=(0,m.pw)({kbaConfig:{selectedKba:t}});return i.createElement(m.h_,{llmModelEntityInfo:n},i.createElement(Ia,e))}},693744:function(e,t,n){n.d(t,{q:function(){return I}});var r=n(204942),a=n(667294),o=n(294184),i=n.n(o),l=n(5567),c=n(799532),s=n(179755),u=n(652421),d=n(923942),m=n(565621),E=n(762074);function p(e){var t=e.children;return a.createElement("div",{className:"FU3GixDPjiHuaaWGAWZu"},t)}p.Heading=function(e){var t=e.children;return a.createElement("p",{className:"v4koPjWLp5IDRBfwNvFA gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},t)},p.Description=function(e){var t=e.children;return a.createElement("div",{className:"lasaD8BlRq_SK4Pd4i9r Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},t)};var f=p,v=(0,E.nD)("agents.template"),g=function(e){var t=e.text;return a.createElement(f,null,a.createElement(f.Heading,null,v("exampleInstruction")),a.createElement(f.Description,null,a.createElement("p",{className:"CiSZweYSFqsQLilbKrEN Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br>")}})))},b=n(460019),y=(0,E.nD)("agents.template"),h=function(e){var t=e.values,n=void 0===t?[]:t,r=e.title,o=void 0===r?y("customInstruction"):r,i=e.exampleInputsSummary;return a.createElement(f,null,a.createElement(f.Heading,null,o),a.createElement(f.Description,null,i&&a.createElement("p",{className:"Id9_gyWX0Nrs9R_T9zas"},i),a.createElement("ul",null,n.map((function(e){return a.createElement("li",{className:"Fal3sfqZi8hNfo9dAQvo",key:e},a.createElement(c.Z,{name:"checkmarkCircleOutline",icon:b.Nw,size:c.Z.sizes.M,variant:c.Z.variants.SUCCESS}),a.createElement("p",{className:"IsmMHR2ygiTHQqUPOdVw Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},e))})))))},Z=n(624942),T=(0,E.nD)("agents.template"),S=function(e){var t=e.values;return a.createElement(f,null,a.createElement(f.Heading,null,T("exampleInputs")),a.createElement(f.Description,null,a.createElement("div",{className:"D76IUeNA7YREI56B34jr"},t.map((function(e){var t=e.split("[".concat(d.Ln,"]"));return a.createElement("div",{className:"ATBppPPT86w7zQTLyr1O",key:e},a.createElement("span",{className:"cco5fitTXJWXsmUVQ9En"},a.createElement(c.Z,{size:c.Z.sizes.M,icon:Z.w})),a.createElement("div",null,function(e){var t=[];return e.forEach((function(n,r){n&&t.push(a.createElement("p",{className:"hGkWp_Cp7uDampGDe1kX Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",key:n},n)),r<e.length-1&&t.push(a.createElement(u.Z,{key:"badge-document-pdf-".concat(t.length),color:u.Z.BLUE,type:u.Z.types.OUTLINED,size:u.Z.sizes.MEDIUM,uppercase:!1},d.Ln))})),t}(t)))})))))},C=n(782084),N=(0,E.nD)("agents.template"),A=function(){return a.createElement(f,null,a.createElement(f.Heading,null,N("sources")),a.createElement(f.Description,null,a.createElement("div",{className:"QLW75aqKU8LQ5g3TyeNx"},a.createElement(c.Z,{icon:C.j}),a.createElement("span",null,N("web")))))},O={selectedAgentSection:"fJKQlXOQlxFzU1w3HnOu",withPaddingAndBorder:"l61RveTJFQdOv2aL_UT1",titleSection:"IeXx9YFxzBudVqszCatc",agentName:"akeQbYtAHY_cNN3fgEfa di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR",icon:"mNrq9z0VePJm1ARbmtQa",badge:"x9WmzUnZXZXGzAvChC9o",contentDescription:"iKx7CvpraDuYpBRvA4_t Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},P=(0,E.nD)("agents.template"),I=function(e){var t,n,o,E,p,f,v,b,y,Z,T=e.selectedItem,C=e.withoutStyles,N=e.showAlphaBadge,I=null!=T&&T.iconName?l[null==T?void 0:T.iconName]:s.L8,R=(null==T||null===(t=T.additionalFields)||void 0===t?void 0:t.templateType)===d.i3.CUSTOM,D=(null==T||null===(n=T.additionalFields)||void 0===n?void 0:n.templateType)===d.i3.PRE_DEFINED,k=!(null==T||null===(o=T.additionalFields)||void 0===o||null===(E=o.exampleInputs)||void 0===E||!E.length),L=!(null==T||null===(p=T.additionalFields)||void 0===p||!p.exampleInstructions),w=!((null==T?void 0:T.subType)!==d.AC.WEB_SEARCH_AGENT),F=!((null==T?void 0:T.subType)!==d.AC.CODEBOOKS_AGENT),_=!((null==T?void 0:T.subType)!==d.AC.CONTRACTS_PLACEHOLDER),M=_?(0,m.pS)():(0,m.Rj)(null==T?void 0:T.subType),x=(R||_)&&k,j=(D||F)&&k&&!_;return a.createElement("div",{className:i()(O.selectedAgentSection,(0,r.Z)({},O.withPaddingAndBorder,!C))},a.createElement("div",{className:O.titleSection},a.createElement("span",{className:O.icon},a.createElement(c.Z,{icon:I,size:c.Z.sizes.M})),a.createElement("p",{"data-tid":"selected-agent-title",className:O.agentName},null==T?void 0:T.name),a.createElement("div",{className:O.badge},N&&F&&a.createElement(u.Z,{color:u.Z.PURPLE,type:u.Z.types.OUTLINED,size:u.Z.sizes.SMALL,uppercase:!1},P("list.tag.alpha")))),a.createElement("p",{className:O.contentDescription},null==T||null===(f=T.additionalFields)||void 0===f?void 0:f.description),M&&a.createElement("img",{src:M,className:O.logo,alt:null==T?void 0:T.name}),L&&a.createElement(g,{text:null==T||null===(v=T.additionalFields)||void 0===v?void 0:v.exampleInstructions}),x&&a.createElement(h,{values:null==T||null===(b=T.additionalFields)||void 0===b?void 0:b.exampleInputs,title:_?P("keyCapabilities"):void 0,exampleInputsSummary:null==T||null===(y=T.additionalFields)||void 0===y?void 0:y.exampleInputsSummary}),w&&a.createElement(A,null),j&&a.createElement(S,{values:null==T||null===(Z=T.additionalFields)||void 0===Z?void 0:Z.exampleInputs}))}},639067:function(e,t,n){n.d(t,{l:function(){return u}});var r=n(667294),a=n(124333),o=n(579621),i=n(762074),l={error:"sRSqRYkgwXG03QzKJVTY"},c=(0,i.nD)("agents.template.error"),s=(0,i.nD)("button.label"),u=function(e){var t=e.onRetry;return r.createElement("div",{className:l.error},r.createElement(a.Z,{illustration:"box"},r.createElement(a.Z.Heading,null,c("title")),r.createElement(a.Z.Description,null,r.createElement("span",{className:l.subTitle},c("subTitle"))),r.createElement(o.Z,{onClick:t},s("tryAgain"))))}},538420:function(e,t,n){n.d(t,{x:function(){return O}});var r=n(667294),a=n(403455),o=n(330759),i=n(289098),l=n(799532),c=n(782084),s=n(579621),u=n(762074),d=n(923942),m=n(610861),E=n(914578),p=n(225364),f=n(51505),v="View",g=n(735691),b=n(835147),y=function(){return g.Ry().shape({sources:g.IX().of(g.Ry().shape({value:g.Z_().trim().transform((function(e){return(0,b.pW)(null!=e?e:"")?e:(0,b.Ae)(e)})).url().test("is-http(s)",(0,u.t)("urlFile.formErrors.notSupportedUrl"),(function(e){return"string"==typeof e&&e.startsWith("http")})).isValidUrl().max(2e3).required()})).min(0)})},h=(0,u.nD)("agents.modals.webSources"),Z=(0,u.nD)("button.label"),T=function(e){var t=e.onCancel,n=e.onSave,o=e.onClose,l=e.onAddButtonClick,c=e.onRemoveButtonClick,u=e.webSources,d=void 0===u?[]:u,g=e.mode,b=g===v,T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=void 0===t?"":t;return{id:(0,E.uniqueId)("web-source-"),value:n}},S=d.length?d.map((function(e){return T({value:e})})):[T()];return r.createElement(r.Fragment,null,r.createElement(m.ZP.Header,null,r.createElement(m.ZP.Title,null,h("title",{mode:g}))),r.createElement(a.J9,{initialValues:{sources:S},onSubmit:function(e){null==n||n(e.sources.map((function(e){return e.value})))},validationSchema:y,validateOnMount:!0},(function(e){var n=e.values,u=e.submitForm,d=e.isValid,E=e.dirty;return r.createElement(a.l0,null,r.createElement(m.ZP.Body,null,r.createElement("div",{className:"ZCkSOhobnaM17_L77y1f"},r.createElement("div",null,h("description",{context:g})),r.createElement(a.F2,{name:"sources"},(function(e){var t=e.remove,a=e.push;return r.createElement("div",{className:"rJ4fhqQWjTgn0vNkx_pX"},r.createElement("div",{className:"uA_9_OlGugGMigXlWtgo"},h("sources")),n.sources.length>0&&r.createElement("div",{className:"C1KeyFrLzmz1C8HZuhLh"},n.sources.map((function(e,n){return r.createElement("div",{className:"grSptGSVIceXebSDzKsh",key:e.id},r.createElement("div",{className:"XO85zTXD5iEQN0KfRUkX"},r.createElement(i.Text,{name:"sources[".concat(n,"].value"),disabled:b})),!b&&r.createElement(s.Z,{variant:s.Z.variants.DESTRUCTIVE,type:s.Z.TERTIARY,onClick:function(){t(n),null==c||c()},"aria-label":Z("removeSource")},r.createElement(s.Z.Icon,{icon:p.gt})))}))),!b&&r.createElement("div",null,r.createElement(s.Z,{type:s.Z.SECONDARY,onClick:function(){a(T()),null==l||l()},disabled:!d},r.createElement(s.Z.Icon,{icon:f.hd}),Z(null!=n&&n.sources.length?"addMore":"add"))))})))),r.createElement(m.ZP.Footer,null,!b&&r.createElement(r.Fragment,null,r.createElement(s.Z,{type:s.Z.SECONDARY,onClick:t},Z("cancel")),r.createElement(s.Z,{type:s.Z.PRIMARY,onClick:u,disabled:!E||!d},Z("save"))),b&&r.createElement(s.Z,{type:s.Z.PRIMARY,onClick:o},Z("close"))))})))};function S(e){var t=e.mode,n=e.webSources,a=e.onSave,o=e.onCancel,i={mode:t,webSources:n,onSave:a,onAddButtonClick:e.onAddButtonClick,onRemoveButtonClick:e.onRemoveButtonClick,onCancel:function(){(0,m.GZ)(),null==o||o()},onClose:m.GZ};(0,m.Ll)(r.createElement(T,i),{onRequestClose:m.GZ,withCloseButton:!0,size:m.ZP.sizes.L})}var C=(0,u.nD)("agents.agentCreation.form.fields"),N=(0,u.nD)("agents.webSources.labels"),A=[{name:"all-web-sources",key:d.D5.ALL,label:N("all"),value:d.D5.ALL},{name:"selected-web-sources",key:d.D5.SELECTED,label:N("selected"),value:d.D5.SELECTED}],O=function(e){var t,n,E,p,f,g,b=e.onToggle,y=e.onSelectionTypeChange,h=e.onEditButtonClick,Z=e.onAddButtonClick,T=e.onRemoveButtonClick,O=e.onSaveButtonClick,P=e.disabled,I=void 0!==P&&P,R=e.showWebSearchOptions,D=void 0!==R&&R,k=(0,a.u6)(),L=k.values,w=k.setFieldValue,F=(null===(t=L.sources)||void 0===t||null===(n=t.webSearch)||void 0===n?void 0:n.selectedSources)||[],_=function(e){null!=e&&e.length?(w("sources.webSearch.selectedSources",e),w("sources.webSearch.type",d.D5.SELECTED)):(w("sources.webSearch.selectedSources",void 0),w("sources.webSearch.type",d.D5.ALL)),(0,m.GZ)(),null==O||O()},M=null===(E=L.sources)||void 0===E||null===(p=E.webSearch)||void 0===p?void 0:p.enabled,x=M&&(null===(f=L.sources)||void 0===f||null===(g=f.webSearch)||void 0===g?void 0:g.type)===d.D5.SELECTED&&F.length>0;return r.createElement("div",{className:"H3jsPwLW_l8z7mP37Ag5"},r.createElement("div",{className:"ay9kC6o_IulzNq_mR7TM"},r.createElement(i.Switch,{name:"sources.webSearch.enabled","data-tid":"web-search-switch",onChange:b,label:C("labels.webSource.webSearch"),"aria-label":C("labels.webSource.webSearch"),infoTooltip:C("info.webSearch"),disabled:I})),M&&D&&r.createElement("div",{className:"kZ3MRCyeka5ABqVKqPJA"},A.map((function(e){var t,n;return r.createElement(o.Z,{key:e.key,name:e.name,value:e.value,checked:e.value===(null==L||null===(t=L.sources)||void 0===t||null===(n=t.webSearch)||void 0===n?void 0:n.type),onChange:function(){return t=e.value,void(I||(null==y||y(t),F.length&&t===d.D5.SELECTED?w("sources.webSearch.type",d.D5.SELECTED):t===d.D5.SELECTED?S({mode:"Add",webSources:F,onSave:_,onAddButtonClick:Z,onRemoveButtonClick:T}):w("sources.webSearch.type",d.D5.ALL)));var t},"aria-label":e.label,disabled:I},e.label)}))),x&&r.createElement("div",{className:"tFkAKR5YARnreWMuLLAs"},r.createElement(l.Z,{icon:c.j,size:l.Z.sizes.M}),r.createElement("span",{className:"zBCSSrn0YQSMz0Zk9yMJ PjUCuwat1H4XyZH8WiJl C7HhvVmv8inrSQjb607z vSadc0pqvD7KtbqURZCR"},N("count",{count:F.length,plural:F.length>1})),r.createElement(s.Z,{type:s.Z.TERTIARY,onClick:function(){S({mode:I?v:"Edit",webSources:F,onClose:m.GZ,onSave:_,onAddButtonClick:Z,onRemoveButtonClick:T}),I||null==h||h()}},(0,u.t)(I?"button.label.view":"button.label.edit"))))}},69150:function(e,t,n){n.d(t,{E:function(){return i}});var r=n(667294),a=n(264802),o=(0,r.createContext)({hasConversationStarted:!1,setHasConversationStarted:a.Z,message:"",clearCurrentConfigurationContext:a.Z,currentConfiguration:null,setCurrentConfiguration:a.Z});function i(){return(0,r.useContext)(o)}t.Z=o},608964:function(e,t,n){n.d(t,{$L:function(){return M},Am:function(){return R},LP:function(){return D},Ml:function(){return F},Mq:function(){return w},_6:function(){return _},ac:function(){return O},ax:function(){return x},m:function(){return S},ps:function(){return k},pt:function(){return C},yb:function(){return A},zp:function(){return L}});var r,a,o,i=n(93433),l=n(145987),c=n(204942),s=n(591275),u=n(614751),d=n(460019),m=n(179755),E=n(243077),p=n(782084),f=n(313270),v=n(921758),g=n(762074),b=n(923942),y=["thoughts"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=(0,g.nD)("agents.deepResearch.stageNames"),S=[b.vo.IN_PROGRESS,b.vo.INITIAL_STATE],C=[{label:b.ul.INITIALIZE,key:b.ul.INITIALIZE,icon:d.d2,thoughts:[],state:s.A.NOT_VISITED},{label:b.ul.ANALYZE_PROMPT,key:b.ul.ANALYZE_PROMPT,icon:null,thoughts:[],state:s.A.NOT_VISITED},{key:b.ul.GENERATE_RESPONSE,label:b.ul.GENERATE_RESPONSE,icon:m.L8,thoughts:[],state:s.A.NOT_VISITED}],N={thoughts:[],state:s.A.NOT_VISITED},A={PLAN:"plan",RESEARCH_SOURCES:"researchSources",ANALYZE_RESULTS:"analyzeResults",CREATE_RESEARCH_REPORT:"createResearchReport"},O=(r={},(0,c.Z)(r,A.PLAN,A.RESEARCH_SOURCES),(0,c.Z)(r,A.RESEARCH_SOURCES,A.ANALYZE_RESULTS),(0,c.Z)(r,A.ANALYZE_RESULTS,A.CREATE_RESEARCH_REPORT),(0,c.Z)(r,A.CREATE_RESEARCH_REPORT,A.CREATE_RESEARCH_REPORT),[b.Zg.READING_INPUT,b.Zg.PLANNING_RESEARCH,b.Zg.AWAITING_USER_CONFIRMATION,b.Zg.UPDATING_PLAN]),P=(a={},(0,c.Z)(a,b.Zg.READING_INPUT,A.PLAN),(0,c.Z)(a,b.Zg.PLANNING_RESEARCH,A.PLAN),(0,c.Z)(a,b.Zg.AWAITING_USER_CONFIRMATION,A.PLAN),(0,c.Z)(a,b.Zg.UPDATING_PLAN,A.PLAN),(0,c.Z)(a,b.Zg.RESEARCHING_QUESTIONS,A.RESEARCH_SOURCES),(0,c.Z)(a,b.Zg.ANALYSING_DATA,A.ANALYZE_RESULTS),(0,c.Z)(a,b.Zg.CREATING_REPORT,A.CREATE_RESEARCH_REPORT),a),I=(o={},(0,c.Z)(o,A.PLAN,{label:T("plan"),icon:E.wl}),(0,c.Z)(o,A.RESEARCH_SOURCES,{label:T("researchSources"),icon:p.j}),(0,c.Z)(o,A.ANALYZE_RESULTS,{label:T("analyzeResults"),icon:f.y}),(0,c.Z)(o,A.CREATE_RESEARCH_REPORT,{label:T("createResearchReport"),icon:v.xm}),o),R=function(e){var t,n=e.progress,r=(t={},(0,c.Z)(t,A.PLAN,N),(0,c.Z)(t,A.RESEARCH_SOURCES,N),(0,c.Z)(t,A.ANALYZE_RESULTS,N),(0,c.Z)(t,A.CREATE_RESEARCH_REPORT,N),t);n.forEach((function(e){var t=P[e.stage],n=r[t],a=n.thoughts,o=void 0===a?[]:a,c=(0,l.Z)(n,y),s=e.thought?[].concat((0,i.Z)(o),[e.thought]):(0,i.Z)(o);r[t]=Z(Z({},c),{},{thoughts:s})}));var a=[],o=Object.values(r).reduce((function(e,t,n){return t.thoughts.length>0?n:e}),-1);return Object.keys(r).forEach((function(e,t){a.push(Z(Z(Z({key:e},I[e]),r[e]),{},{state:(0,u.b)(t,o)}))})),{steps:a}},D=function(e){var t=e.status,n=e.newState,r=e.thoughts,a=e.hasResearchPlan,o=void 0!==a&&a;return(t===b.vo.AWAITING_USER_CONFIRMATION||n===s.A.ACTIVE)&&!!(null!=r&&r.length||o)},k=function(e){var t=e.newState,n=e.thoughts,r=e.hasResearchPlan,a=void 0!==r&&r;return t===s.A.VISITED&&!!(null!=n&&n.length||a)},L=function(e){var t=e.status,n=e.progress,r=e.newState;return t===b.vo.FAILED&&(!n.length||r===s.A.ACTIVE)},w=function(e){var t=e.status,n=e.newState,r=e.doesStageHasResearchPlan,a=e.shouldNotShowActiveIcon;return t===b.vo.COMPLETED||[b.vo.INTERMEDIATE,b.vo.AWAITING_USER_CONFIRMATION].includes(t)&&r?s.A.VISITED:t===b.vo.INTERMEDIATE||a?s.A.NOT_VISITED:n},F=function(e){var t=e.status,n=e.state;return t===b.vo.AWAITING_USER_CONFIRMATION?s.A.NOT_VISITED:n},_=function(e){var t=e.stageName,n=e.status,r=e.currentState,a=e.hasThoughts;return t===A.CREATE_RESEARCH_REPORT&&r===s.A.ACTIVE&&a&&n===b.vo.COMPLETED},M=function(e){var t=e.status,n=e.stageName;return t===b.vo.COMPLETED||n===b.ul.INITIALIZE?s.A.VISITED:S.includes(t)&&n===b.ul.ANALYZE_PROMPT?s.A.ACTIVE:s.A.NOT_VISITED},x=function(e){var t;return!(null===(t=e||[])||void 0===t||!t.find((function(e){var t;return e.stage===b.Zg.CREATING_REPORT&&!(null===(t=e.thought)||void 0===t||!t.length)})))}},992939:function(e,t,n){n.d(t,{Q:function(){return c},p:function(){return s}});var r=n(529439),a=n(667294),o=new(n(191472).Z),i="EXTRACTION_AGENT_CLICKED_EVENT",l=!1;function c(e){l=e,o.trigger(i,e)}function s(){var e=(0,a.useState)(l),t=(0,r.Z)(e,2),n=t[0],c=t[1];return(0,a.useEffect)((function(){return o.on(i,c),function(){o.off(i)}}),[]),{extractionButtonClicked:n}}},360460:function(e,t,n){n.d(t,{A:function(){return l},U:function(){return i}});var r=n(529439),a=(0,n(736873).r)(!1),o=a.useHook,i=a.set;function l(){var e=o();return{extractionInProgress:(0,r.Z)(e,1)[0]}}},457688:function(e,t,n){n.d(t,{GX:function(){return u},OZ:function(){return c},Rv:function(){return s}});var r=n(204942),a=n(762074),o=n(220416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=(0,a.nD)("agents.extraction.configuration"),c=function(e){var t,n=e.selectedFile,r=e.namespace;return null!=r&&r.name&&null!=r&&null!==(t=r.properties)&&void 0!==t&&t.length?null!=n&&n.entryId?{isValid:!0,validationMessage:""}:{isValid:!1,validationMessage:l("mustHaveFile")}:{isValid:!1,validationMessage:l("mustHaveMetadataSection")}};function s(e){var t=e.selectedFile,n=e.namespace;return t&&n?{entryIds:[t.entryId],metadata:{namespace:n.name,fieldsToBeExtracted:n.properties.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fieldName:e.displayName,fieldKey:e.name,fieldType:(0,o.O)(e.type),multiValueEnum:!!e.multiValueEnum},e.data&&{allowedValues:e.data})}))}}:{}}function u(e,t){var n;return null!==(n=null==t?void 0:t.filter((function(t){return!(null!=e&&e.find((function(e){return e.fieldKey===t.name})))})))&&void 0!==n?n:[]}},950568:function(e,t,n){n.d(t,{Ey:function(){return h},HY:function(){return g},Ms:function(){return T},XQ:function(){return Z},jN:function(){return p},kI:function(){return f},wG:function(){return y}});var r=n(93433),a=n(204942),o=n(914578),i=n(842206),l=n(762074),c=n(105171),s=n(943886),u=n(923942),d=n(608964);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return e.replace(/<span[^>]*data-attached-file[^>]*>(.*?)<\/span>/g,"$1")},f=function(e){var t=e.testMode,n=e.isCodebooksAgent,r=e.isExtractionAgent;return t?c.J1.TEST_AGENT:n?c.J1.CODEBOOKS_AGENT:r?c.J1.EXTRACTION_AGENT:c.J1.AGENT},v=[(0,l.nD)("agents.deepResearch")("editPlanMessage")],g=function(e,t){var n=(0,o.cloneDeep)(u.SJ);e.some((function(e){return e.type===u.Ss.ALL_EGNYTE_SEARCH}))?(n.egnyte.enabled=!0,n.egnyte.type=u.EB.ALL):e.some((function(e){return[u.Ss.FOLDER,u.Ss.FILE].includes(e.type)}))&&(n.egnyte.enabled=!0,n.egnyte.type=u.EB.SELECTED,n.egnyte.selectedFilesAndFolders=e.filter((function(e){return[u.Ss.FOLDER,u.Ss.FILE].includes(e.type)&&!t.some((function(t){return t.path===e.path}))})));var r=e.filter((function(e){return e.type===u.Ss.WEB_SEARCH}));return r.length>0&&(n.webSearch.enabled=!0,r.some((function(e){return!!e.path}))?(n.webSearch.type=u.EB.SELECTED,n.webSearch.selectedSources=r.filter((function(e){return!!e.path})).map((function(e){return e.path}))):n.webSearch.type=u.EB.ALL),n},b=function(e){return e===u.vo.COMPLETED},y=function(e){var t=e.messagesForHistory,n=e.isCodebooksAgent,r=t.slice(-u.wg).map((function(e){var t=e.content,r=e.responseText,a=e.type,o=e.chunkCitations,i=e.entryIds,l=e.researchPlan,c=(0,s.T0)("newCodebooksResponseFormat")&&n?null==o?void 0:o.map((function(e){return e.textChunk})).join(""):r;return E({role:u._7[a],content:a===u.C7.USER_MESSAGE?p(t):c||l||""},i&&{entryIds:a===u.C7.USER_MESSAGE?i:void 0})}));return r.map((function(e,t){var n;return t%2==0&&null!==(n=r[t+1])&&void 0!==n&&n.content.trim()?[e,r[t+1]]:null})).filter(Boolean).flat()},h=function(e){if(!e)return!1;var t=(null==e?void 0:e.status)||(null==e?void 0:e.executionStatus);return!!((null==e?void 0:e.executionFlow)===u.cY.DEEP_RESEARCH_FOLLOWUP||null!=e&&e.isFollowUpQuestionResponse||(0,d.ax)((null==e?void 0:e.progress)||[])&&t&&b(t))};function Z(e,t){return t===u.AC.DEEP_RESEARCH_AGENT?(o=[],(n=e).forEach((function(e,t){var i,l,c,s={type:u.C7.USER_MESSAGE,content:e.question,isFirstDeepResearchMessage:0===t},m=t===n.length-1||!!(e.answer.executionStatus&&b(e.answer.executionStatus)&&(0,d.ax)(e.answer.progress||[])),E=!!h(o[o.length-1]),p={type:u.C7.RESPONSE,responseText:e.answer.responseText||e.answer.plan,status:m||E?e.answer.executionStatus:u.vo.INTERMEDIATE,progress:e.answer.progress,researchPlan:e.answer.plan||e.answer.responseText,executionId:e.answer.executionId,thoughts:e.answer.thoughts||[],citations:e.answer.citations,isFollowUpQuestionResponse:E},f=(null===(l=a=null===(i=o[o.length-1])||void 0===i?void 0:i.progress)||void 0===l||null===(c=l[a.length-1])||void 0===c?void 0:c.stage)===u.vo.AWAITING_USER_CONFIRMATION;!p.progress&&f&&v.includes(s.content)?(p.progress=a,p.isEditPlanMessage=!0):a=null,o=[].concat((0,r.Z)(o),[s,p])})),o):e.flatMap((function(e){var n;return[E({type:u.C7.USER_MESSAGE,content:e.question},(null==e?void 0:e.selectedFileDetails)&&{entryIds:null===(n=e.selectedFileDetails)||void 0===n?void 0:n.map((function(e){return e.entryId}))}),E({type:u.C7.RESPONSE,responseText:e.answer.responseText,status:e.answer.executionStatus,executionId:e.answer.executionId,citations:e.answer.citations,modelDetails:e.modelDetails},t===u.AC.CODEBOOKS_AGENT&&{codebooksCitations:e.answer.codebooksCitations,chunkCitations:e.answer.chunkCitations,links:e.answer.links,matchedFiles:e.answer.matchedFiles,searchTerms:e.answer.searchTerms})]}));var n,a,o}var T=function(e,t){var n=e.split("/").pop();i.Z.setItem(n,{citations:[{previewUrl:e,chunks:[{sourceText:t.replaceAll("\n"," ")}]}],preventRetryWithFallback:!0})}},565621:function(e,t,n){n.d(t,{Nc:function(){return p},Rj:function(){return E},pS:function(){return m}}),n(364687);var r=n.p+"8f18df8d171376059757.png",a=n.p+"192ca4a76f7287ffd9db.png",o=n.p+"ff9554af84982f8c2fc7.png",i=n.p+"702a9164905ef4c6ecb7.png",l=n.p+"e23101b9fdfb07510cae.png",c=n.p+"1fa809289f6a3c208bd4.png",s=n.p+"cde820718e8409adb4e3.png",u=n.p+"7afdf957f90b23218288.png",d=n(923942),m=(n(475424),function(){return u}),E=function(e){switch(e){case d.AC.CODEBOOKS_AGENT:return r;case d.AC.CUSTOM_AGENT:return a;case d.AC.TRANSLATION_AGENT:return l;case d.AC.WEB_SEARCH_AGENT:return c;case d.AC.DOCUMENT_REVIEW_AGENT:return o;case d.AC.JOB_DESCRIPTION_AGENT:return i;case d.AC.CONTENT_GENERATOR_AGENT:return s;default:return null}},p=function(e){var t=Object.keys(d.lD).find((function(t){return"/agents/".concat(t)===e}));return t?d.lD[t]:null}},723789:function(e,t,n){n.d(t,{By:function(){return v},QG:function(){return E},aL:function(){return p},gv:function(){return m},nD:function(){return f},rV:function(){return u},s5:function(){return d}});var r=n(93433),a=n(190544),o=n(923942),i=n(260932),l=n(240701),c=n(13764),s=n(143046);function u(e){var t=e.status,n=e.disabledStatuses;return{isDraft:t===s.xE.DRAFT,isDisabled:n.includes(t)}}function d(e){var t,n=[o.Ss.FILE,o.Ss.FOLDER],r=(null===(t=e.paths)||void 0===t?void 0:t.filter((function(e){return(null==e?void 0:e.status)!==o.Rj.DELETED})))||[],a=r.filter((function(e){return e.type&&n.includes(e.type)})),l=r.some((function(e){return e.type===o.Ss.ALL_EGNYTE_SEARCH||a.length>0})),c=a.length>0?o.EB.SELECTED:o.EB.ALL,s=a.filter((function(t){var n;return!(null!==(n=e.invalidPaths)&&void 0!==n&&n.some((function(e){return e.path===t.path})))})),u=r.filter((function(e){return e.type===o.Ss.WEB_SEARCH})),d=u.length>0,m=u.map((function(e){return e.path})).filter(Boolean),E=m.length>0?o.D5.SELECTED:o.D5.ALL;return{initialValuesForForm:{agentId:e.id||"",agentType:o.lQ.GENERIC,name:e.name||"",iconName:e.iconName||"",description:e.description||"",instruction:(0,i.km)(e.instruction),subType:e.subType||"",sources:{egnyte:c===o.EB.SELECTED?{enabled:l,type:o.EB.SELECTED,selectedFilesAndFolders:s}:{enabled:l,type:o.EB.ALL},webSearch:{enabled:d,type:E,selectedSources:m}}}}}var m=function(e){var t,n=(null===(t=e.paths)||void 0===t?void 0:t.filter((function(e){return(null==e?void 0:e.status)!==o.Rj.DELETED})))||[],r=n.filter((function(e){return e.type===o.Ss.FILE})),a=n.filter((function(e){return e.type===o.Ss.WEB_SEARCH})),i=r.length>0,l=a.length>0,c=a.map((function(e){return e.path})).filter(Boolean),s=c.length>0?o.D5.SELECTED:o.D5.ALL;return{initialValuesForForm:{agentId:e.id||"",name:e.name||"",iconName:e.iconName||"",description:e.description||"",instruction:e.instruction||"",sources:{egnyte:{enabled:i,selectedFiles:r},webSearch:{enabled:l,type:s,selectedSources:c}}}}},E=function(e){var t=Date.now()-5*a.NO,n=e.reduce((function(e,n){return e[n.createdOn>t?"createdRecently":"olderThanFiveMinutes"].push(n),e}),{createdRecently:[],olderThanFiveMinutes:[]}),o=n.createdRecently,i=n.olderThanFiveMinutes,l=function(e,t){return e.name.localeCompare(t.name)};return[].concat((0,r.Z)(o.sort(l)),(0,r.Z)(i.sort(l)))},p=function(e){var t=e.subType,n=e.status,r=e.canPerformAgentOperation,a=e.isSmartAppCodebooksEnabledV2,i=e.canPerformCodebookOperationV2,l=e.canPerformCodebookOperation;return t===o.AC.QUESTIONNAIRE_AGENT||(t===o.AC.CODEBOOKS_AGENT?a?n===s.xE.CREATED||!i:n===s.xE.CREATED||!l:!r)},f=function(e){var t=e.paths,n=e.status;return!(e.canPerformSmartContractOperation&&n===s.xE.ACTIVE&&!t.some((function(e){return!(0,c.Jg)(e.permission)})))};function v(e){if(null!=e&&e.avatarEosObjectId)return l.Z.USERS.AVATAR({userId:e.userId,objectId:e.avatarEosObjectId})}},193416:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(667294),a=n(914578),o=n(294184),i=n.n(o),l=n(403455),c=n(330759),s=n(579621),u=n(289098),d=n(762074),m=n(923942),E=n(610861),p=n(319783),f=n(538420),v=n(637536),g=(0,d.nD)("agents.agentCreation.form.fields");function b(e){var t,n,o,b,y,h,Z,T,S,C,N=e.disabled,A=void 0!==N&&N,O=e.showEgnyteSources,P=void 0===O||O,I=e.children,R=(0,l.u6)(),D=R.values,k=R.setFieldValue,L=null===(t=D.sources)||void 0===t||null===(n=t.egnyte)||void 0===n?void 0:n.selectedFilesAndFolders,w=function(e){k("sources.egnyte.type",e)},F=function(){var e,t,n,a,o,i;(0,E.Ll)(r.createElement(v.Gy,{selectedFileFolderPath:(0,p.XX)((null===(e=D.sources)||void 0===e||null===(t=e.egnyte)||void 0===t||null===(n=t.selectedFilesAndFolders)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.path)||"/"),selectedItems:null===(o=D.sources)||void 0===o||null===(i=o.egnyte)||void 0===i?void 0:i.selectedFilesAndFolders,setSelectedFilesAndFolders:function(e){k("sources.egnyte.selectedFilesAndFolders",e)}}),{onRequestClose:E.GZ,withCloseButton:!0,size:E.ZP.sizes.L})};return r.createElement("div",{className:i()("sxkCyrc3_T1MRWFMi5eF")},P&&r.createElement("div",{className:"uOjHPpyZzo7oA4CfxX44"},r.createElement("div",{className:"E0MJXBOAFTS9Vc2UnQvL"},r.createElement(u.Switch,{name:"sources.egnyte.enabled","data-tid":"egnyte-switch",onChange:function(e){k("sources.egnyte.enabled",e.target.checked)},label:g("labels.egnyteSource.egnyte"),"aria-label":g("labels.egnyteSource.egnyte"),infoTooltip:g("info.egnyteSource"),disabled:A})),(null===(o=D.sources)||void 0===o||null===(b=o.egnyte)||void 0===b?void 0:b.enabled)&&r.createElement("div",{className:"aPq9VXlfet3FATome_VY"},r.createElement(c.Z,{name:"all",value:m.EB.ALL,checked:(null===(y=D.sources)||void 0===y||null===(h=y.egnyte)||void 0===h?void 0:h.type)===m.EB.ALL,onChange:A?a.noop:function(){return w(m.EB.ALL)},"aria-label":g("labels.egnyteSource.all"),disabled:A},g("labels.egnyteSource.all")),r.createElement(c.Z,{name:"selected",value:m.EB.SELECTED,checked:(null===(Z=D.sources)||void 0===Z||null===(T=Z.egnyte)||void 0===T?void 0:T.type)===m.EB.SELECTED,onChange:A?a.noop:function(){return w(m.EB.SELECTED)},"aria-label":g("labels.egnyteSource.selected"),disabled:A},g("labels.egnyteSource.selected")),(null===(S=D.sources)||void 0===S||null===(C=S.egnyte)||void 0===C?void 0:C.type)===m.EB.SELECTED&&(L&&(null==L?void 0:L.length)>0?r.createElement("div",{className:"PZ7MtEqvMvoJobGEkpTD vSadc0pqvD7KtbqURZCR"},(0,d.t)("agents.fileFolderPicker.selectedItem",{count:L.length}),r.createElement(s.Z,{disabled:A,type:s.Z.TERTIARY,onClick:F},(0,d.t)("button.label.edit"))):r.createElement("div",{className:"SXfX0BBhhoHj2N034F78 Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},r.createElement(s.Z,{type:s.Z.PRIMARY,onClick:F},g("labels.egnyteSource.selectFilesAndFolders")))))),r.createElement(f.x,{disabled:A,onToggle:function(e){var t=e.target.checked;k("sources.webSearch.enabled",t),k("sources.webSearch.type",t?m.D5.ALL:void 0)},showWebSearchOptions:!0}),I)}},594185:function(e,t,n){n.d(t,{z:function(){return r.Z},c:function(){return y}});var r=n(927826),a=n(667294),o=n(610861),i=n(115861),l=n(364687),c=n.n(l),s=n(397404),u=n(762074),d=n(579621),m=n(80373),E=n(221752),p=n(143046),f=n(85946),v=(0,u.nD)("aiPoweredFeatures.agents.listing.markAsInactiveModal"),g=(0,s.Sh)({showExclusively:!0}).showNotification;function b(e){var t=e.agentId,n=e.agentName,r=e.entryPoint,o=e.subType,l=e.onClose,s=(0,E.DQ)().mutateAsync,b=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({agentId:t,status:p.xE.DELETED});case 3:l(),g("success",v("notification.markAsInactiveSuccess"),{persist:!1}),(0,f.op)({agentName:n,entryPoint:r,subType:o,identifier:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g("error",v("notification.markAsInactiveFailure"),{persist:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return a.createElement(m.Z,{onCancel:l,onConfirm:b,confirmButtonVariant:d.Z.variants.DESTRUCTIVE,messages:{title:v("title"),body:a.createElement(a.Fragment,null,a.createElement("p",null,v("info")),a.createElement("p",{className:"PPBiM3Cqi9egCH4sMcpf"},v("warn"))),cancel:(0,u.t)("button.label.cancel"),confirm:v("markAsInactiveConfirmButton")}})}function y(e){var t=e.agentId,n=e.agentName,r=e.entryPoint,i=e.subType;(0,o.h7)(a.createElement(b,{agentId:t,agentName:n,entryPoint:r,subType:i,onClose:o.Mr}),{onRequestClose:o.Mr})}},927826:function(e,t,n){n.d(t,{Z:function(){return Te}});var r=n(667294),a=n(610861),o=n(115861),i=n(93433),l=n(529439),c=n(364687),s=n.n(c),u=n(914578),d=n(762074),m=n(397404),E=n(116514),p=n(85946),f=n(923942),v=n(221752),g=n(154177),b=n(403455),y=n(809742),h=n(579621),Z=n(821442),T=n(953848),S=n(531926),C=n(143046),N=n(499345),A=n(162134),O=n(323063),P=n(319783),I=n(637536),R=(0,d.nD)("button.label"),D=(0,d.nD)("agents.invalidSource.modal");function k(e){var t=e.agentName,n=e.sourcesStatus,o=e.invalidPaths,i=e.formikUtils,l=i.values,c=i.setFieldValue;return r.createElement(r.Fragment,null,r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,D("title",{agentName:t}))),r.createElement(a.ZP.Body,null,r.createElement("p",{className:"SRaCMWoyAyuIjktpq49t"},D("description",{context:n})),r.createElement("div",{className:"EkxvT18sX6WA3a6qAfw8"},o.map((function(e){var t=e.type===C.ae.FOLDER?O.dt.FOLDER:O.dt.FILE,n=e.path.split("/").pop()||"";return r.createElement("div",{className:"uphT53GmLBujaCPsfLhA",key:e.id},r.createElement("div",{className:"fBCoBjjsW0fh2ou44ukw"},r.createElement(A.Z,{type:t,name:n})),r.createElement("div",{className:"RSZ6p3EapXzsFWKpXVUI"},r.createElement("span",{className:"nHzudeaN3rBVZ6Qn0irm C7HhvVmv8inrSQjb607z"},r.createElement(N.Z,null,n)),r.createElement("span",{className:"_SkDbtgi_JcPQ3mN1UGE qqGfbuN2RooWpKmkockU"},r.createElement(N.Z,null,e.path))))})))),r.createElement(a.ZP.Footer,null,r.createElement(h.Z,{type:h.Z.SECONDARY,onClick:function(){(0,a.GZ)()}},R("close")),r.createElement(h.Z,{onClick:function(){var e,t,n,o,i,s;(0,a.Ll)(r.createElement(I.Gy,{selectedFileFolderPath:(0,P.XX)((null===(e=l.sources)||void 0===e||null===(t=e.egnyte)||void 0===t||null===(n=t.selectedFilesAndFolders)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.path)||"/"),selectedItems:null===(i=l.sources)||void 0===i||null===(s=i.egnyte)||void 0===s?void 0:s.selectedFilesAndFolders,setSelectedFilesAndFolders:function(e){c("sources.egnyte.selectedFilesAndFolders",e)},onSave:a.GZ}),{onRequestClose:a.GZ,withCloseButton:!0,size:a.ZP.sizes.L})}},D("reselectSources"))))}var L=n(204942),w=n(764063),F=n.n(w),_=n(698607),M=n(799532),x=n(581355),j=n(936),G=n(87796),U=n(284686),B=n(987927),z=n(487462),q=n(537603),Y=n(32570),H=n(4845),V=n(819082),W=n(547700),K=n(461498),Q=n(264802),X=n(338637),J=n(943373),$=n(88200),ee=n(105171),te=n(260932),ne=n(193416);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=(0,d.nD)("agents.agentCreation.form");function ie(){var e,t=(0,r.useRef)(null),n=(0,b.u6)(),a=n.values,i=n.setFieldError,l=n.setFieldValue,c=n.setFormikState,u=n.errors,d=(null==a?void 0:a.name)||"",m=(null==a?void 0:a.description)||"",E=(null==a?void 0:a.instruction)||"",p=d&&m,f=(0,v.un)(),y=f.mutate,h=f.isLoading,Z=function(){var e;(0,$.Z)({message:null===(e=t.current)||void 0===e?void 0:e.getEditorJSONValue(),name:d,description:m,type:ee.J1.AGENT,onInsertImprovedPrompt:function(e){var n,r=e.question;null===(n=t.current)||void 0===n||n.setContentCommand({value:r})},shouldPushPopModal:!0,mixpanelInfo:{flowType:ee.Q7.AGENTS,entryPoint:K.eR.COPILOT_HUB}})},T=function(){var e=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y({description:m,title:d,instruction:(null==a?void 0:a.instruction)||""},{onSuccess:function(e){var n;l("instruction",e.instruction,!0),i("instruction",void 0),null===(n=t.current)||void 0===n||n.setContentCommand({value:(0,te.km)(e.instruction)})},onError:function(e){var t,n,r=(0,g.lt)(e);r?t=null===(n=Object.values(r))||void 0===n?void 0:n[0]:(0,g.k0)(e)&&(t=(0,g.e$)(e)),c((function(e){var n;return ae(ae({},e),{},{status:{errors:ae(ae({},(null==e||null===(n=e.status)||void 0===n?void 0:n.errors)||{}),{},{instruction:t})},errors:ae(ae({},e.errors),{},{instruction:t})})})),i("instruction",t)}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e=p&&u.instruction?oe("fields.errors.instructionMinLength"):oe("fields.placeholders.regenerateInstruction"),r.createElement(r.Fragment,null,r.createElement("div",{className:"lLs1VBQsHsfK8cjY7XrF"},r.createElement(V.Z,{name:"instruction",type:V.Z.TYPES.TEXTAREA,label:oe("fields.labels.instruction"),labelProps:{required:!0},immediateError:!0,inline:!1,control:function(n){var a=n.field,o=n.hasError;return r.createElement(r.Fragment,null,h&&r.createElement("span",{className:"Vu6fYmACoMkLU6FPvi2g"},r.createElement(Y.Z,null)),""===E&&r.createElement("span",{className:"dFM7Rh4_9uVetGgDwoah"},r.createElement(J.Z,{onClick:T,isEnabled:!!p})),r.createElement(W.Z,(0,z.default)({inputRef:t,"aria-label":oe("fields.labels.instruction"),placeholder:oe("fields.placeholders.instruction"),disabled:!p||h,"data-ref":"question-input","data-pendoid":"agent-instruction-input",hasError:o,searchProps:{referrer:"agent-instruction",folderPath:X.FR,preferredFolderPath:X.FR},rows:ee.Fk,maxRows:ee.wy,popoverProps:{zIndex:1},"data-tid":"agent-instruction-input-editor",maximumAllowedCharacters:ee.Ti,showCharacterCount:function(e){return e>ee.Jo},onEnter:Q.Z,resize:!0,resizeDirection:W.Z.resizeDirection.VERTICAL},a),r.createElement(_.Z,{tooltip:e},r.createElement(H.Z,{"aria-label":oe("fields.labels.regenerateInstruction"),icon:q.Y,size:H.Z.sizes.SMALL,type:H.Z.GHOSTED,disabled:!p||!(null==u||!u.instruction)||h,onClick:Z}))))}})),r.createElement("div",{className:"Uyu7uLMmXXasLc9yngeN"},r.createElement(V.Z,{name:"sources",type:V.Z.TYPES.TEXTAREA,label:oe("fields.labels.sourcesOptional"),labelProps:{hasColon:!1,bold:!0,required:!1,infoTooltip:oe("fields.info.sources")},immediateError:!0,inline:!1,control:function(){return r.createElement(ne.Z,null)}})))}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,L.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=(0,d.nD)("agents.agentCreation.form"),ue=function(){var e=(0,b.u6)(),t=e.isValid,n=e.values,a=(0,r.useState)(null),o=(0,l.Z)(a,2),i=o[0],c=o[1],s=(0,r.useState)((0,u.uniqueId)("chatbot-")),d=(0,l.Z)(s,2),m=d[0],E=d[1];return(0,r.useEffect)((function(){F()(i,n)||E((0,u.uniqueId)("chatbot-")),c(t?ce(ce({},n),{},{subType:f.AC.USER_DEFINED}):null)}),[t,n]),r.createElement("div",{className:"yjb0Sv5VGZf3SpM_JCJF"},r.createElement("div",{className:"ZLu22Xqv_ARRaAep8ZIJ"},r.createElement("div",{className:"qgLcDlaFYpzBAhXbPalj di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},se("section.details.title"),r.createElement(_.Z,{tooltip:se("section.details.tooltip")},r.createElement(M.Z,{icon:x.yo}))),r.createElement("div",{className:"zdyW8vioHkICGQ28X3Th"},r.createElement(j.Z,{name:"name",placeholder:se("fields.placeholders.name"),label:se("fields.labels.name"),required:!0,immediateError:!0,inline:!1}),r.createElement(G.Z,{name:"description",label:se("fields.labels.description"),placeholder:se("fields.placeholders.description"),rows:3,required:!0,immediateError:!0,inline:!1}),r.createElement(U.Z,{name:"iconName",placeholder:se("fields.placeholders.icon"),label:se("fields.labels.icon"),required:!0,immediateError:!0,infoTooltip:se("fields.info.icon"),inline:!1}),r.createElement(ie,null))),r.createElement("div",{className:"iv5LuOwGEqOcFUxoGAIb"},r.createElement(B.Z,{key:m,testMode:!0,agentData:i,sources:n.sources})))};function de(e){var t=e.isLoading,n=e.initialValues,o=e.validationSchema,i=e.onSubmit,l=e.hideNotifications,c=e.isEditMode,s=e.sourcesStatus,u=e.invalidPaths,m=void 0===u?[]:u,E=(0,r.useRef)(),p=(0,d.t)(c?"agents.agentCreation.edit":"agents.agentCreation.new"),f=s&&[C.e3.INVALID,C.e3.PARTIAL_INVALID].includes(s);return r.createElement(b.J9,{initialValues:n,validationSchema:o,onSubmit:i,enableReinitialize:!0},(function(e){var o=t||!e.isValid;return r.createElement(b.l0,{className:"ouO3UCgKYzRB_pnPv0I8"},r.createElement(T.Z,{formRef:E}),r.createElement(a.ZP.Header,null,r.createElement(a.ZP.Title,null,r.createElement("div",{className:"fUkcdTD_aXYGYELWV1Nf"},r.createElement("span",{className:"mQKEAmMkTCG03PFOOCOA DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR"},p),r.createElement("div",{className:"qZgwBKPjA4jXeokTbehn"},r.createElement(h.Z,{type:h.Z.SECONDARY,onClick:function(){(0,a.GZ)(),null==l||l()}},(0,d.t)("button.label.cancel")),r.createElement(S.Z,{disabled:o,idleText:(0,d.t)("button.label.saveAndOpen")}))))),r.createElement("div",{className:"CvZjy51W4_AA8BxT5LFP"},f&&r.createElement("div",{className:"ssuw1OJbrSjoxsfo2XEV"},r.createElement(y.Z,{type:s===C.e3.INVALID?y.Z.types.ERROR:y.Z.types.WARN,actions:r.createElement(Z.Z,{onClick:function(){return function(e){var t=e.agentName,n=e.sourcesStatus,o=e.invalidPaths,i=e.formikUtils;(0,a.Ll)(r.createElement(k,{agentName:t,sourcesStatus:n,invalidPaths:o,formikUtils:i}),{onRequestClose:a.GZ,size:a.ZP.sizes.XL,withCloseButton:!0})}({sourcesStatus:s,invalidPaths:m,formikUtils:e,agentName:n.name})}},(0,d.t)("agents.invalidSource.viewInvalidSources")),fullWidth:!0},r.createElement("div",{className:"ha2eSTRL16TDTJYrkid1"},(0,d.t)("agents.invalidSource.tooltip",{context:s})))),r.createElement(ue,null)))}))}var me=n(735691),Ee=(0,d.nD)("agents.agentCreation.form.fields"),pe=me.Ry().shape({name:me.Z_().min(2).max(128).required(),iconName:me.Z_().required(),description:me.Z_().required().max(1e3),instruction:me.Z_().required(Ee("errors.instructionMinLength")).min(11,Ee("errors.instructionMinLength")),sources:me.Ry().shape({egnyte:me.Ry().shape({enabled:me.O7(),type:me.Z_()}),webSearch:me.Ry().shape({enabled:me.O7()})}).test("at-least-one-file-or-folder",Ee("errors.selectedFilesAndFolders"),(function(e){var t,n,r,a;return!(null!=e&&null!==(t=e.egnyte)&&void 0!==t&&t.enabled)||(null==e||null===(n=e.egnyte)||void 0===n?void 0:n.type)!==f.EB.SELECTED||(null==e||null===(r=e.egnyte)||void 0===r||null===(a=r.selectedFilesAndFolders)||void 0===a?void 0:a.length)>0})).optional()}),fe=n(426541),ve=(0,d.nD)("agents.agentCreation"),ge=(0,m.Sh)({showExclusively:!0}),be=ge.showNotification,ye=ge.hideNotifications,he={agentId:"",name:"",iconName:"",description:"",instruction:"",status:void 0,sources:{egnyte:{enabled:!1,type:f.EB.ALL},webSearch:{enabled:!1}}};function Ze(e){var t=e.sourcesStatus,n=e.invalidPaths,c=e.entryPoint,d=e.initialValuesForForm,b=void 0===d?he:d,y=e.onNavigateToAgent,h=(0,u.merge)({},he,b),Z=(0,r.useState)(h),T=(0,l.Z)(Z,2),S=T[0],C=T[1],N=(0,E.Z)().canPerformAgentOperation,A=(0,v.X5)(),O=(0,v.vQ)(S.agentId),P=!!S.agentId||S.status===f.xx.DRAFT,I=(S.agentId?O:A).mutate,R=(0,v.ye)({includePlaceholderData:N,includeProcessingStatistics:!0}).refetch,D=(0,r.useCallback)((function(e){var t,n,r,a,o,l,c,s,u=[];if(null!=e&&null!==(t=e.webSearch)&&void 0!==t&&t.enabled&&((null==e||null===(l=e.webSearch)||void 0===l?void 0:l.type)===f.D5.ALL?u.push({type:f.Ss.WEB_SEARCH}):null!=e&&null!==(c=e.webSearch)&&void 0!==c&&c.enabled&&e.webSearch.selectedSources&&(null==e||null===(s=e.webSearch)||void 0===s?void 0:s.type)===f.D5.SELECTED&&e.webSearch.selectedSources.forEach((function(e){u.push({type:f.Ss.WEB_SEARCH,path:e,status:f.Rj.ACTIVE})}))),null!=e&&null!==(n=e.egnyte)&&void 0!==n&&n.enabled&&(null==e||null===(r=e.egnyte)||void 0===r?void 0:r.type)===f.EB.ALL)return u.push({type:f.Ss.ALL_EGNYTE_SEARCH}),u;if(null!=e&&null!==(a=e.egnyte)&&void 0!==a&&a.enabled&&(null==e||null===(o=e.egnyte)||void 0===o?void 0:o.type)===f.EB.SELECTED){var d,m=(0,fe.h)((null==e||null===(d=e.egnyte)||void 0===d?void 0:d.selectedFilesAndFolders)||[]);return[].concat(u,(0,i.Z)(m))}return u}),[]);return(0,r.useEffect)((function(){var e=(0,u.merge)({},he,b);C(e)}),[b]),r.createElement(de,{initialValues:S,validationSchema:pe,onSubmit:function(e,t){var n=t.setSubmitting,r=t.setStatus,i=e.name,l=e.description,u=e.instruction,d=e.iconName,E=e.sources,v=D(E),b={name:i,description:l,type:f.wD.AGENT,agentType:f.lQ.GENERIC,instruction:u,iconName:d,paths:v||[],subType:f.AC.USER_DEFINED};I(b,{onSuccess:function(e){return(0,o.Z)(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(be(m.em.success,ve(P?"form.notification.updateSuccess":"form.notification.success"),{persist:!0,displayTime:13e3}),(0,a.Mr)(),P?(0,p.X0)({entryPoint:c,agentName:i,identifier:S.agentId||"-",subType:S.subType}):(0,p.jf)({entryPoint:c,agentName:i,agentDescription:l,sourceSelected:!(null==E||null===(n=E.egnyte)||void 0===n||!n.enabled)||!(null==E||null===(r=E.webSearch)||void 0===r||!r.enabled)}),!y){t.next=9;break}return t.next=6,R();case 6:y(e.id),t.next=10;break;case 9:R();case 10:case"end":return t.stop()}}),t)})))()},onError:function(e){if(n(!1),(0,g.k0)(e)){var t=(0,g.lt)(e),a=(0,g.e$)(e,"");a?be(m.em.error,a):t&&r({errors:t})}else be(m.em.error,ve(P?"form.notification.updateError":"form.notification.error"))}})},hideNotifications:ye,isEditMode:P,sourcesStatus:t,invalidPaths:n})}function Te(e){var t=e.initialValuesForForm,n=e.sourcesStatus,o=e.invalidPaths,i=e.entryPoint,l=e.onNavigateToAgent;(0,a.Ll)(r.createElement(Ze,{initialValuesForForm:t,sourcesStatus:n,invalidPaths:o,entryPoint:i,onNavigateToAgent:l}),{onRequestClose:a.GZ,size:a.ZP.sizes.FULLSCREEN,withCloseButton:!0,className:"modalFullscreenFix"})}},426541:function(e,t,n){n.d(t,{U:function(){return c},h:function(){return s}});var r=n(204942),a=n(923942),o=n(323063);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){var n,r,i,c,s,u,d,m,E,p,f,v,g,b,y,h={folders:[],files:[],allEgnyteSearch:(null===(n=e.egnyte)||void 0===n?void 0:n.enabled)&&(null===(r=e.egnyte)||void 0===r?void 0:r.type)===a.EB.ALL,webSearch:null===(i=e.webSearch)||void 0===i?void 0:i.enabled};return null!==(c=e.egnyte)&&void 0!==c&&c.enabled&&(null===(s=e.egnyte)||void 0===s?void 0:s.type)===a.EB.SELECTED&&null!==(u=e.egnyte)&&void 0!==u&&u.selectedFilesAndFolders&&(null===(b=e.egnyte)||void 0===b||b.selectedFilesAndFolders.forEach((function(e){e.type===o.dt.FOLDER?h.folders.push({id:e.id,path:e.path}):e.type===o.dt.FILE&&h.files.push({entryId:e.entryId,filePath:e.path})}))),null!==(d=e.webSearch)&&void 0!==d&&d.enabled&&null!==(m=e.webSearch)&&void 0!==m&&m.selectedSources&&(null===(E=e.webSearch)||void 0===E?void 0:E.type)===a.D5.SELECTED&&(h.includedWebUrls=null===(y=e.webSearch)||void 0===y?void 0:y.selectedSources.map((function(e){return{url:e}}))),null!==(p=e.webSearch)&&void 0!==p&&p.enabled&&(null===(f=e.webSearch)||void 0===f?void 0:f.type)===a.D5.SELECTED&&0===(null===(v=e.webSearch)||void 0===v||null===(g=v.selectedSources)||void 0===g?void 0:g.length)&&(h.webSearch=!1),t===a.AC.CODEBOOKS_AGENT&&(h.agentExecutionFilterItems={codebooksAgentExecutionFilterItems:l({jurisdiction:e.jurisdiction,codeYear:e.codeYear},e.buildingTypes&&{buildingTypes:e.buildingTypes.map((function(e){return e.value}))})}),h};function s(e){var t=[];return e.forEach((function(e){e.type.toLowerCase()===o.dt.FOLDER?t.push({type:a.Ss.FOLDER,folderId:e.kbaId?e.folderId:e.id,status:a.Iq.ACTIVE}):e.type.toLowerCase()===o.dt.FILE&&t.push({type:a.Ss.FILE,entryId:e.entryId,status:a.Iq.ACTIVE})})),t}},892973:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(667294),a=n(762074),o="XQ9rP7DOHDE52N3q9wAM gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa",i=(0,a.nD)("knowledgeBaseAssistant");function l(e){var t=e.text;return r.createElement("span",{className:o},'"'.concat(t,'"'))}function c(e){var t,n=e.folderName,a=e.knowledgeBaseName,c=e.fileLimit,s=e.showActionText,u=void 0!==s&&s,d=null==c||null===(t=c.toLocaleString)||void 0===t?void 0:t.call(c);return r.createElement("div",{className:"dvtoZ0cGChkJ8yaFTTER Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},r.createElement("div",null,i("fileLimit.tooltip.content",{folderName:r.createElement(l,{text:n}),knowledgeBaseName:r.createElement(l,{text:a}),limit:d})," "),u&&r.createElement("div",null,r.createElement("span",{className:o},i("fileLimit.action")),":"," ",i("fileLimit.reprocess",{limit:d})))}},887519:function(e,t,n){var r=n(93433),a=n(204942),o=n(667294),i=n(762074),l=n(415992),c=n(221752),s=n(833331),u=n(359541),d=n(397404),m=n(96506),E=n(904975),p=n(550789),f=n(460474),v=n(923942);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,i.nD)("copilotHub");t.Z=function(e,t){var n,a,i,g=e.canPerformAgentOperation,h=e.canViewAgents,Z=e.canViewSmartAppContracts,T=e.filters,S=(0,f.Z)("desktopAskEnhancementsEnabled"),C=(0,o.useMemo)((function(){return(0,m.On)()}),[]),N=(0,c.ye)(b(b({},T),{},{includePlaceholderData:g,includeProcessingStatistics:!0}),b(b(b({refetchInterval:p.E},s.S),t),{},{onError:function(){(0,d.c0)(d.em.error,y("content.fetchingError"),{persist:!1})},enabled:h})),A=(0,u.xr)(b(b({},T),{},{includePlaceholderData:!0,includeProcessingStatistics:!0,sortBy:[E.K0.STATUS,E.K0.NAME],sortDirection:[l.B.ASC,l.B.ASC],includeUsageStats:!0}),b(b({refetchInterval:p.E},s.S),{},{onError:function(){(0,d.c0)(d.em.error,y("content.fetchingError"),{persist:!1})},enabled:Z&&!(C&&S)})),O=(null===(n=N.data)||void 0===n?void 0:n.content)||[],P=(null===(a=A.data)||void 0===a?void 0:a.content)||[],I=P.some((function(e){return e.status===v.xx.ACTIVE})),R=N.isLoading||A.isLoading,D=!!h&&N.isError||!(!Z||C&&S)&&A.isError;return b(b({},N),{},{data:R?void 0:{content:[].concat((0,r.Z)(O),(0,r.Z)(P)),fileLimit:null===(i=N.data)||void 0===i?void 0:i.fileLimit},isLoading:R,isError:D,hasActiveContract:I})}},966202:function(e,t,n){n.d(t,{Dq:function(){return s},cW:function(){return c}});var r=n(529439),a=n(762074),o=n(603954),i=n(143046),l=(0,a.nD)("copilotHub");function c(e){var t=Object.entries(e).reduce((function(e,t){var n=(0,r.Z)(t,2),a=n[0],o=n[1],l=o.data,c=l.isError,s=l.isLoading,u=l.data,d=(null==u?void 0:u.content)||[],m=o.canPerformOperation,E=o.canView,p=function(e){var t=e.isError,n=e.isLoading,r=e.list.filter((function(e){return![i.xE.ARCHIVED,i.xE.DELETED].includes(e.status)}));return{isListEmpty:!n&&!t&&0===r.length,filteredList:r}}({isError:c,isLoading:s,list:d}),f=p.isListEmpty,v=p.filteredList,g={};return e.allDataEmpty=e.allDataEmpty&&f,e.canPerformAnyOperation=e.canPerformAnyOperation||m,g.isEmpty=f,g.list=v,g.canCreateNew=f&&m,g.isLoading=s,g.canView=E,g.fileLimit=null==u?void 0:u.fileLimit,e.gridData[a]=g,e}),{gridData:{},allDataEmpty:!0,canPerformAnyOperation:!1});return{gridData:t.gridData,allDataEmpty:t.allDataEmpty,canPerformAnyOperation:t.canPerformAnyOperation}}var s=function(e,t){var n,r,a=(0,o.dX)(null==e||null===(n=e.paths)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.path);return l("reprocessMessage.error",{folderName:a,knowledgeBaseName:e.name,fileLimit:t.toLocaleString()})}},652233:function(e,t,n){n.d(t,{a:function(){return i}});var r=n(667294),a=n(264802),o=(0,r.createContext)({onAgentSelect:function(){return null},selectedAgent:null,agentList:[],withAgents:!1,goToConfiguration:a.Z});function i(){return(0,r.useContext)(o)}t.Z=o},317771:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(204942),a=n(529439),o=n(667294),i=n(221752),l=n(966202),c=n(397404),s=n(762074),u=n(833331);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(0,s.nD)("copilotHub");function p(){var e,t=(0,o.useState)(null),n=(0,a.Z)(t,2),r=n[0],s=n[1];return(0,i.cQ)(null==r||null===(e=r.details)||void 0===e?void 0:e.id,m(m({enabled:!(null==r||!r.details)},u.S),{},{onError:function(){s(null);var e=(0,l.Dq)(null==r?void 0:r.details,null==r?void 0:r.fileLimit);(0,c.c0)(c.em.error,e,{persist:!1})},onSuccess:function(){var e;(0,c.c0)(c.em.success,E("reprocessMessage.success",{name:null==r||null===(e=r.details)||void 0===e?void 0:e.name})),s(null)}})),{handleReprocess:function(e){var t=e.payload;s(t)},reprocessDetails:r}}},451781:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(667294),a=n(45697),o=n.n(a),i=n(610861),l=n(342269);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.folderDetails,n=e.name,a=e.description,o=e.iconName,c=e.entryPoint;(0,i.h7)(r.createElement(l.Z,{onClose:i.Mr,name:n,iconName:o,description:a,folderDetails:t,entryPoint:c}),{onRequestClose:i.Mr,size:i.ZP.sizes.XL,withCloseButton:!0,isScrollable:!0})}c.propTypes={folderDetails:o().shape({id:o().string,name:o().string,path:o().string}),name:o().string,description:o().string,iconName:o().string,entryPoint:o().string}},342269:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(529439),a=n(667294),o=n(610861),i=n(601714),l=n(221752),c=n(397404),s=n(154177),u=n(904975),d=n(531081),m=n(420522),E=n(762074),p=n(307179),f=n(143046),v=n(869632),g=n(882365),b=n(809742),y=n(32570),h=n(762144),Z=n(13764),T=n(403455),S=(0,E.nD)("codebookAgent.createCodebookAgent"),C=(0,E.nD)("codebookAgent");function N(e){var t=e.mode,n=e.codebooks,o=e.onSelect,i=e.isLoading,l=e.selectedFolderDetails,c=(0,T.U$)("scope"),s=(0,r.Z)(c,3),d=s[0].value,m=void 0===d?[]:d,E=s[2].setValue,p=t===u.wQ.EDIT,f=function(e){var t,r,a=null===(t=e.path)||void 0===t?void 0:t.toLocaleLowerCase();return p?{disableCheckbox:!0,hint:S("edit.disableFolders")}:0===e.indentLevel?{disableCheckbox:!0,hint:S("create.disableTopLevelFolders")}:[Z._I.OWNER,Z._I.FULL].includes(e.permission)?m.length&&(null===(r=m[0])||void 0===r?void 0:r.id)!==(null==e?void 0:e.id)?{disableCheckbox:!0,hint:S("create.disableFolders")}:n.codebookFolders.find((function(e){return a===e}))||n.codebookFolders.find((function(e){return a.startsWith(e)&&a.split("/").length>e.split("/").length}))?{disableCheckbox:!0,hint:C("alreadyCreated")}:n.foldersWithChildrenAsCodebook.find((function(e){return a===e}))?{disableCheckbox:!0,hint:C("childFolderHasCodebook")}:{disableCheckbox:!1,hint:""}:{disableCheckbox:!0,hint:S("permissionError")}},v=l&&l.totalFilesCount>l.fileCountLimit;return a.createElement("div",{className:"xGoW7iKAnOBYBhzuLktm"},!p&&v&&a.createElement(b.Z,{type:b.Z.types.WARN,fullWidth:!0},C("fileLimit.message",{limit:null==l?void 0:l.fileCountLimit.toLocaleString()})),!p&&a.createElement(b.Z,{type:b.Z.types.INFO,fullWidth:!0},S("fullPermissionMessage")),a.createElement("div",null,a.createElement("div",{className:"U2GGBtCR0toLxvF3q2X3 di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},S("modal.select")),a.createElement("div",{className:"Y1KaPnICqnZnSJZCtjZ9"},S("create.description"))),a.createElement("div",{className:"MT0hXsAIfOMWlc3SKHbk eugzcnL4uVMlgbRkfTqa"},i&&a.createElement("div",{className:"r4kdocorPw8qfLcmg_m4"},a.createElement(y.Z,{size:y.Z.MEDIUM})),a.createElement(h.Z,{unselectChildFoldersOnParentCheck:!0,mode:h.Z.MODES.MULTISELECT_WITH_SUBFOLDERS,selectedFolders:m.map((function(e){return null==e?void 0:e.path})),className:"Cuu3joWnIax81LhoLV7t",onFolderCheck:function(e){E(e),p||null==o||o(e)},includeInactiveFolders:!1,includePrivateFolders:!0,isFolderCheckboxDisabled:function(e){return f(e).disableCheckbox},getFolderCheckboxDisabledTooltip:function(e){return f(e).hint}})))}var A=n(735691),O=(0,E.nD)("knowledgeBaseAssistant.createKnowledgeBaseAssistant.modal"),P=A.Ry().shape({name:A.Z_().min(2).max(128).required(),description:A.Z_().optional().max(1e3),noResponseMessage:A.Z_().required(),iconName:A.Z_().required()}),I=A.Ry().shape({scope:A.IX().of(A.Ry().shape({id:A.Z_().required()}).required()).required().min(1,O("scopeError"))}),R=function(e){var t=e.list,n=void 0===t?[]:t,r=new Set,a=new Set;return n.forEach((function(e){var t,n,o=null===(t=e.paths[0])||void 0===t||null===(n=t.path)||void 0===n?void 0:n.toLowerCase();if(o){r.add(o);var i=o.split("/");i.length>=3&&function(e){var t="";e.slice(1,-1).forEach((function(e,n){t+="/".concat(e),n>0&&a.add(t.toLowerCase())}))}(i)}})),{codebookFolders:r,foldersWithChildrenAsCodebook:a}},D=n(461498),k=(Object.values({SELECT_FOLDER:"SELECT_FOLDER",BASIC_INFORMATION:"BASIC_INFORMATION"}),[D.YN.ACTIVE,D.YN.CREATED]),L=(0,E.nD)("codebookAgent.createCodebookAgent"),w=[I,P],F=(0,c.Sh)().hideNotifications,_=function(e,t){return null!=t&&t.id?[t]:e||[]};function M(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.agentId,E=t.name,b=void 0===E?"":E,y=t.description,h=void 0===y?"":y,Z=t.folderDetails,T=void 0===Z?null:Z,S=t.noResponseMessage,C=void 0===S?"":S,A=t.paths,O=t.iconName,P=void 0===O?"":O,I=(0,a.useState)(null),D=(0,r.Z)(I,2),M=D[0],x=D[1],j=(0,l.ah)({},{select:function(e){return{content:e.content.filter((function(e){return k.includes(e.status)})),fileLimit:e.fileLimit}},enabled:!0}),G=(0,l.cu)(),U=(0,l.f6)(),B=(0,l.sc)(),z=(0,a.useRef)(),q=i.Z.get("user"),Y=n?u.wQ.EDIT:u.wQ.CREATE,H=Y===u.wQ.EDIT,V="".concat(L(H?"edit.edit":"create.new")),W=_(A,T),K=(0,a.useMemo)((function(){var e;return R({list:null===(e=j.data)||void 0===e?void 0:e.content.filter((function(e){return e.subType===f.Tn.CODEBOOKS_AGENT}))})}),[null===(e=j.data)||void 0===e?void 0:e.content]),Q=K.codebookFolders,X=K.foldersWithChildrenAsCodebook,J=(0,a.useCallback)((function(e,t){var r,a=t.setSubmitting,i=t.setStatus;(0,c.yK)(),r=n?{name:e.name,description:e.description,kbaId:n,iconName:e.iconName,noResponseMessage:e.noResponseMessage,subType:e.subType}:{name:e.name,description:e.description,type:e.type,iconName:e.iconName,noResponseMessage:e.noResponseMessage,paths:[{folderId:(null==T?void 0:T.id)||e.scope[0].id}],subType:f.Tn.CODEBOOKS_AGENT},(0,(n?U:B).mutate)(r,{onSuccess:function(){(0,c.c0)(c.em.success,L(n?"edit.updated":"create.preparing")),(0,o.Mr)()},onError:function(e){if(a(!1),(0,s.k0)(e)){var t=(0,s.lt)(e),r=(0,s.e$)(e,"");r?(0,c.c0)(c.em.error,r):t&&i({errors:t})}else(0,c.c0)(c.em.error,L(n?"edit.error":"create.error"))}})}),[n,T,U,B]),$=(0,a.useCallback)((function(e){var t,n=e.length&&(null===(t=e[0])||void 0===t?void 0:t.id);n?G.mutate({folderIds:[n]},{onSuccess:function(e){x(e)}}):x(null)}),[G]),ee=(0,a.useMemo)((function(){return[{name:L("steps.sources"),component:a.createElement(N,{mode:Y,codebooks:{codebookFolders:Array.from(Q),foldersWithChildrenAsCodebook:Array.from(X)},onSelect:$,selectedFolderDetails:M,isLoading:G.isLoading}),icon:d.Hf},{name:L("steps.details"),component:a.createElement(g.J,null),icon:m.rY}]}),[$,Y,Q,X,M,G]),te=(0,a.useMemo)((function(){return{name:b,description:h,type:u.T5.KNOWLEDGE_BASE,scope:W,iconName:P,isEditMode:H,noResponseMessage:C||L("defaultNoResponseMessage",{name:(0,p.v2)(q),email:q.mail})}}),[W,C,q,h,P,H,b]);return a.createElement(v.Z,{title:V,instanceRef:z,initialValues:te,validationSchemas:w,onSubmit:J,steps:ee,isLoading:G.isLoading,selectedFolderDetails:M,hideNotifications:F})}},564782:function(e,t,n){n.d(t,{Z:function(){return pe}});var r=n(204942),a=n(667294),o=n(45697),i=n.n(o),l=n(610861),c=n(904975),s=n(143046),u=n(762074),d=n(579621),m=n(531926),E=n(403455),p=n(953848),f=n(936),v=n(87796),g=n(359541),b=n(397404),y=n(154177),h=n(799532),Z=n(531081),T=n(668477),S=n(698607),C=n(284686),N=n(159262),A=n(529439),O=n(821442),P=n(278714),I=n(362658),R=n(569748),D=n(852298),k=n(93433),L=n(762144),w=n(13764),F=(0,u.nD)("button.label"),_=(0,u.nD)("knowledgeBaseAssistant.createKnowledgeBaseAssistant"),M=n(809742),x=n(50510),j=n(153672),G=n(296924),U=n(460474),B=n(914578);function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,B.sortBy)(e),r=(0,B.sortBy)(t);return(0,B.isEqual)(n,r)}var q=n(294184),Y=n.n(q),H=(0,u.nD)("smartAppContract.createSmartAppContract.edit.folderScope"),V=function(e){var t=e.onConfirmation,n=e.count,r=e.onCancel;return a.createElement(a.Fragment,null,a.createElement(l.ZP.Header,null,a.createElement(l.ZP.Title,null,H("title"))),a.createElement(l.ZP.Body,null,H("description"),a.createElement("p",{"data-tid":"contracts-affected-items",className:Y()("B6GggPIyRckpkiv2gn53 gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa","mnKfJQr_kmLUKp0Yfrov")},H("affectedItemTitle",{count:n}))),a.createElement(l.ZP.Footer,null,a.createElement(d.Z,{type:d.Z.SECONDARY,onClick:r},(0,u.t)("button.label.cancel")),a.createElement(d.Z,{variant:d.Z.variants.DESTRUCTIVE,onClick:function(){(0,l.GZ)(),t()}},(0,u.t)("button.label.removeFolders"))))};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q,X=(0,u.nD)("button.label"),J=(0,u.nD)("smartAppContract.createSmartAppContract"),$=(0,b.Sh)({showExclusively:!0}).showNotification,ee={folderScopeContainer:"GdSdC8ViwJv_eTepkclL",folderSelected:"DrQR8mkJTPGCY1vb2Bkg",foldersSelectedText:"THpWM7WNuKCsyidAnAZ9 C7HhvVmv8inrSQjb607z",editButtonContainer:"tqFwg7Bii3YruK2lRXSt"},te="scope",ne=(0,u.nD)("button.label");function re(e){var t=e.label,n=e.fieldName,r=e.onClick,o=e.prefixedT,i=(0,E.u6)().submitCount,l=(0,E.U$)(n),c=(0,A.Z)(l,2),s=c[0].value,u=void 0===s?[]:s,m=c[1].error,p=(0,a.useCallback)((function(){r(u)}),[r,u]),f=u.length;return a.createElement(I.Z,null,a.createElement(I.Z.Label,null,a.createElement(T.Qy,{name:n,required:!0,bold:!0},t)),a.createElement(I.Z.Control,null,a.createElement("div",{className:ee.folderScopeContainer,"data-unsaved-changes-ignore":"true"},f?a.createElement("div",{className:ee.folderSelected},a.createElement("span",{className:ee.foldersSelectedText},o("modal.folderCount",{count:f})),a.createElement("span",{className:ee.editButtonContainer},a.createElement(O.Z,{onClick:p},a.createElement(O.Z.Icon,{icon:P.T})," ",ne("edit")))):a.createElement(d.Z,{type:d.Z.SECONDARY,className:ee.selectedFoldersButton,onClick:p},o("modal.selectFolder")),i>0&&m&&a.createElement(I.Z.Error,null,a.createElement(D.Z,{error:m,name:"folder-error"})))))}var ae,oe=(Q={},(0,r.Z)(Q,c.xJ.ASSISTANTS,(function(e){var t,n=e.selectedFolders,r=e.setSelectedFolders,o=e.mode,i=void 0===o?c.Xy.CREATE:o,s=(0,a.useState)(null!==(t=n[0])&&void 0!==t&&t.path?(0,k.Z)(n):[]),u=(0,A.Z)(s,2),m=u[0],E=u[1],p=i===c.Xy.EDIT,f=function(e){var t;return p?{disableCheckbox:!0,hint:_("edit.disableFolders")}:0===e.indentLevel?{disableCheckbox:!0,hint:_("create.disableTopLevelFolders")}:[w._I.OWNER,w._I.FULL].includes(e.permission)?m.length&&(null===(t=m[0])||void 0===t?void 0:t.id)!==(null==e?void 0:e.id)?{disableCheckbox:!0,hint:_("create.disableFolders")}:{disableCheckbox:!1,hint:""}:{disableCheckbox:!0,hint:_("permissionError")}},v=_(p?"edit.title":"create.title");return a.createElement("div",{id:"select-folders-modal"},a.createElement(l.ZP.Header,null,a.createElement(l.ZP.Title,null,v)),a.createElement(l.ZP.Body,null,!p&&a.createElement("div",null,a.createElement("div",{className:"K3vZGsSwj7hupkY5B0kT di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},_("modal.select")),a.createElement("div",{className:"jfj0kE8CvWR2guNI1FAw"},_("create.description"))),a.createElement("div",{className:"FdMgGBS3EjdxaVMy3tG5 eugzcnL4uVMlgbRkfTqa"},a.createElement(L.Z,{unselectChildFoldersOnParentCheck:!0,mode:L.Z.MODES.MULTISELECT_WITH_SUBFOLDERS,selectedFolders:m.map((function(e){return null==e?void 0:e.path})),className:"M3UtnmQCAfjdrKrUSBev",onFolderCheck:E,includeInactiveFolders:!1,includePrivateFolders:!0,isFolderCheckboxDisabled:function(e){return f(e).disableCheckbox},getFolderCheckboxDisabledTooltip:function(e){return f(e).hint}}))),a.createElement(l.ZP.Footer,null,a.createElement(d.Z,{type:p?d.Z.PRIMARY:d.Z.SECONDARY,onClick:l.GZ},F("cancel")),!p&&a.createElement(d.Z,{onClick:function(){(0,l.GZ)(),r(m)}},F("save"))))})),(0,r.Z)(Q,c.xJ.SMART_APPS,(function(e){var t,n=e.id,r=e.selectedFolders,o=e.setSelectedFolders,i=e.mode,s=void 0===i?c.Ym.CREATE:i,u=e.selectedPaths,m=e.pathCount,E=void 0===m?0:m,p=(0,j.ZP)().data,f=(0,U.Z)("contractAnalystMaxFolderAllowed"),v=(0,G._P)(p),y=(0,G.GJ)(p),h=null==u?void 0:u.map((function(e){return e.folderId})),Z=(0,a.useRef)(h),T=(0,a.useState)(null!==(t=r[0])&&void 0!==t&&t.path?(0,k.Z)(r):[]),S=(0,A.Z)(T,2),C=S[0],N=S[1],O=null==C?void 0:C.map((function(e){return e.id})),P=s===c.Ym.EDIT,I=(0,a.useState)(!1),R=(0,A.Z)(I,2),D=R[0],F=R[1],_=(0,a.useMemo)((function(){return z(Z.current,O)&&s===c.Ym.EDIT}),[O,s]),B=(0,g.dI)().mutate,q=function(){(0,l.GZ)(),F(!1)},Y=function(){N(r),q()},H=function(){o(C),q()},W=function(e){var t;return 0===e.indentLevel?{disableCheckbox:!0,hint:J("create.disableTopLevelFolders")}:[w._I.OWNER,w._I.FULL].includes(e.permission)?1===C.length&&e.id===C[0].id?{disableCheckbox:!0,hint:J("edit.minimumOneFolderSelected")}:v&&C.length-((null==Z||null===(t=Z.current)||void 0===t?void 0:t.length)||0)>=f-E&&!C.some((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.id)}))||y&&C.length>=f&&!C.some((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.id)}))?{disableCheckbox:!0,hint:J("create.disableFolders",{count:f})}:{disableCheckbox:!1,hint:""}:{disableCheckbox:!0,hint:J("permissionError")}},Q=(0,a.useCallback)((function(e){var t=e.map((function(e){var t,n=null===(t=e.path)||void 0===t?void 0:t.replace(/^\//,""),r=null==u?void 0:u.find((function(e){var t;return(null===(t=e.path)||void 0===t?void 0:t.replace(/^\//,""))===n}));return null!=r&&r.folderId?K(K({},e),{},{id:e.id||r.folderId}):e}));N(t)}),[u]),ee=J(P?"edit.title":"create.title");if(D)return null;var te=v&&E&&P;return a.createElement(a.Fragment,null,a.createElement(l.ZP.Header,{className:"gDPV0eZ03wIkrMdkfSmp"},a.createElement(l.ZP.Title,null,a.createElement("div",{className:"tyBe3rGT5nYxtX7czdyn DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR"},ee)),a.createElement(l.ZP.Subtitle,null,a.createElement("div",{className:"rz4lmpBfNWSRYqPOWEnm Dg2OIrnHKNM3xFc44tYJ"},J("create.description")))),a.createElement(l.ZP.Body,null,te&&a.createElement(M.Z,{type:M.Z.types.INFO,fullWidth:!0},J("modal.permissionInfo",{count:f-E})),a.createElement("div",{className:"CJC2z634BD2ZLQIg0D9v eugzcnL4uVMlgbRkfTqa","data-tid":"smart-app-folders-modal"},a.createElement(L.Z,{unselectChildFoldersOnParentCheck:!0,mode:L.Z.MODES.MULTISELECT_WITH_SUBFOLDERS,selectedFolders:C.map((function(e){return null==e?void 0:e.path})),className:"G0vWErh0ZIr55iENRZVO",onFolderCheck:Q,includeInactiveFolders:!1,includePrivateFolders:!0,isFolderCheckboxDisabled:function(e){return W(e).disableCheckbox},getFolderCheckboxDisabledTooltip:function(e){return W(e).hint}}))),a.createElement(l.ZP.Footer,null,a.createElement("div",{className:"RuyIG_jP6q_wiRf7pzIc","data-tid":"select-folders-modal-footer"},a.createElement(d.Z,{type:d.Z.SECONDARY,onClick:l.GZ},X("cancel")),a.createElement(d.Z,{type:d.Z.PRIMARY,onClick:function(){P&&n?B({id:n,folderIds:O,scope:x.DM.REMOVED},{onSuccess:function(e){var t=e.count;t>0?((0,l.Ll)(a.createElement(V,{count:t,onConfirmation:H,onCancel:Y}),{size:l.ZP.sizes.M,"data-tid":"folder-scope-change-confirm"}),F(!0)):H()},onError:function(){$(b.em.error,J("countError"))}}):H()},disabled:_},X("save")))))})),(0,r.Z)(Q,c.xJ.AGENTS,(function(){return a.createElement("div",null,"Agents")})),Q),ie=function(e){var t=e.id,n=e.mode,r=e.featureName,o=e.prefixedT,i=e.selectedPaths,c=e.pathCount,s=(0,E.U$)(te),u=(0,A.Z)(s,3)[2].setValue,d=(0,a.useCallback)((function(e){var o=oe[r];(0,l.Ll)(a.createElement(o,{id:t,selectedFolders:e,setSelectedFolders:u,mode:n,selectedPaths:i,pathCount:c}),{onRequestClose:l.GZ,size:l.ZP.sizes.XL,withCloseButton:!0,isScrollable:!0,"data-tid":"".concat(r,"-folder-tree")})}),[r,t,u,n,i,c]);return a.createElement(R.$0,{dense:!0},a.createElement(re,{label:o("scope"),fieldName:te,onClick:d,prefixedT:o}))},le=n(735691),ce=(0,u.nD)("smartAppContract.createSmartAppContract.modal"),se=le.Ry().shape({name:le.Z_().required().trim().min(2).max(64),description:le.Z_().optional().max(250),type:le.Z_().required(),iconName:le.Z_().required(),scope:le.IX().of(le.Ry().shape({id:le.Z_().required()}).required()).required().min(1,ce("scopeError"))}),ue=(0,b.Sh)({showExclusively:!0}).showNotification,de=(0,u.nD)("smartAppContract.createSmartAppContract"),me=n(705391),Ee=(ae={},(0,r.Z)(ae,c.xJ.SMART_APPS,(function(e){var t,n=e.onClose,r=e.rowId,o=e.name,i=void 0===o?"":o,A=e.description,O=void 0===A?"":A,P=e.folderDetails,I=void 0===P?null:P,R=e.paths,D=e.iconName,k=void 0===D?"":D,L=e.status,w=e.subType,F=e.pathCount,_=(0,g.gD)(),M=(0,g.P7)(),x=(0,a.useRef)(null),j=function(e,t){return t?[{id:t}]:e||[]}(R,null==I?void 0:I.id),G={label:(t=de)("modal.options.label"),value:t("modal.options.value")},U=L!==s.xE.DRAFT||r?c.Ym.EDIT:c.Ym.CREATE,B=U===c.Ym.EDIT,q="".concat(de(B?"edit.edit":"create.new"));return a.createElement(a.Fragment,null,a.createElement(l.ZP.Header,null,a.createElement(l.ZP.Title,null,q)),a.createElement(E.J9,{initialValues:{name:i,description:O,type:G.value,scope:j,iconName:k},onSubmit:function(e,t){var a,o=t.setSubmitting,i=t.setStatus;if((0,b.yK)(),r){(0,N.ek)({smartAppName:e.name});var l=z(j.map((function(e){return e.folderId})),e.scope.map((function(e){return e.folderId})));a={name:e.name,description:e.description,iconName:e.iconName,id:r,paths:l?e.scope.map((function(e){return{folderId:e.folderId}})):e.scope.map((function(e){return{folderId:e.id}}))}}else(0,N.Ec)({smartAppName:e.name}),a={name:e.name,description:e.description,type:e.type,iconName:e.iconName,paths:e.scope.map((function(e){return{folderId:e.id}})),subType:w};r?_.mutate(a,{onSuccess:function(){ue(b.em.success,de("edit.updated")),n()},onError:function(e){if(o(!1),(0,y.k0)(e)){var t=(0,y.lt)(e),n=(0,y.e$)(e,"");n?ue(b.em.error,n):t&&i({errors:t})}else ue(b.em.error,de("edit.error"))}}):M.mutate(a,{onSuccess:function(){ue(b.em.success,de("create.created")),n()},onError:function(e){if(o(!1),(0,y.k0)(e)){var t=(0,y.lt)(e),n=(0,y.e$)(e,"");n?ue(b.em.error,n):t&&i({errors:t})}else ue(b.em.error,de("create.error"))}})},validationSchema:se},(function(e){var t=e.dirty;return a.createElement(E.l0,{ref:x},a.createElement(p.Z,{formRef:x}),a.createElement(l.ZP.Body,null,a.createElement(f.Z,{name:"name",label:de("name"),required:!0}),a.createElement(C.Z,{name:"iconName",placeholder:de("iconPicker.placeholder"),label:de("iconPicker.label"),required:!0,infoTooltip:de("iconPicker.iconInfo")}),a.createElement(v.Z,{name:"description",label:de("description"),rows:3}),a.createElement("div",{className:"fEWVq9oCxzk1U3pxUABm"},null!=I&&I.id?a.createElement("div",null,a.createElement(T.Qy,{name:"scope",required:!0,bold:!0},de("create.folders")),a.createElement("div",{className:"V7VZhhylHAvcgEV3MOK5"},a.createElement(h.Z,{icon:Z.Hf,size:h.Z.sizes.M}),a.createElement(S.Z,{tooltip:null==I?void 0:I.path,placement:"bottom"},a.createElement("p",{className:"cVYuj8z74xWWNuTIkqL1"},null==I?void 0:I.name)))):a.createElement(ie,{id:r,selectedPaths:R,mode:U,featureName:c.xJ.SMART_APPS,prefixedT:de,pathCount:F}))),a.createElement(l.ZP.Footer,null,a.createElement(d.Z,{type:d.Z.SECONDARY,onClick:function(){(0,b.yK)(),n()}},(0,u.t)("button.label.cancel")),a.createElement(m.Z,{disabled:!t,idleText:B?(0,u.t)("button.label.save"):(0,u.t)("button.label.create")})))})))})),(0,r.Z)(ae,c.xJ.ASSISTANTS,me.Z),(0,r.Z)(ae,c.xJ.AGENTS,(function(){return a.createElement("div",null,"Agents")})),ae);function pe(e){var t=e.rowId,n=e.paths,r=e.featureName,o=e.folderDetails,i=e.name,s=e.description,u=e.subType,d=e.iconName,m=e.entryPoint,E=e.status,p=e.pathCount,f=Ee[r];(0,l.h7)(a.createElement(f,{rowId:t,paths:n,onClose:l.Mr,name:i,iconName:d,description:s,subType:u,folderDetails:o,entryPoint:m,status:E,pathCount:p}),{onRequestClose:l.Mr,size:r===c.xJ.ASSISTANTS?l.ZP.sizes.XXL:l.ZP.sizes.M,withCloseButton:!0,isScrollable:!0,"data-tid":"".concat(r,"-open-ai-features")})}pe.propTypes={folderDetails:i().shape({id:i().string,name:i().string,path:i().string}),rowId:i().string,featureName:i().string,name:i().string,description:i().string,iconName:i().string,entryPoint:i().string,subType:i().oneOf(Object.values(s.Tn)),status:i().oneOf(Object.values(s.xE))}},550789:function(e,t,n){n.d(t,{E:function(){return c},i:function(){return l}});var r=n(727484),a=n.n(r),o=n(143046),i=n(904975);function l(e){var t=a()(),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return{createdAfter:e?e.startOf("day").valueOf():null,createdBefore:n?n.valueOf():null}};switch(e){case i.gZ.TODAY:return n(a()());case i.gZ.LAST_2_DAYS:return n(a()().subtract(2,"days"));case i.gZ.LAST_7_DAYS:return n(a()().subtract(7,"days"));case i.gZ.LAST_30_DAYS:return n(a()().subtract(30,"days"));case i.gZ.LAST_90_DAYS:return n(a()().subtract(90,"days"));case i.gZ.LAST_180_DAYS:return n(a()().subtract(180,"days"));case i.gZ.LAST_360_DAYS:return n(a()().subtract(360,"days"));default:return n(null,null)}}var c=function(e){var t;return!(null==e||null===(t=e.content)||void 0===t||!t.find((function(e){return e.status===o.xE.CREATED})))&&i.R5}}}]);