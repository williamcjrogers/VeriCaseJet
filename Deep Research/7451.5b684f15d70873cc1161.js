"use strict";(self.webpackChunkEgnyte_CommonUI=self.webpackChunkEgnyte_CommonUI||[]).push([[7451],{880796:function(e,t,n){n.d(t,{Z:function(){return v}});var o=n(204942),r=n(823592),i=n(57324),a=n(136988),c=n(662213),s=n(540810),l=n(2764),u=n(648543);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return u.Z.UI_INTEGRATE.ACTION+u.Z.UI_INTEGRATE.ACTION_SPLITER+e}function f(e,t){var n=(0,r.xH)(e).filter((function(e){return!(0,i.uY)(e)}));return l.Z.getUncategorizedActionsForSelection(n,{onAction:function(e){return c.Z.do({integration:e,folderItems:n,placement:s.Z.CONTEXT_MENU})}}).map((function(e,n){return m({token:p(n),label:e.text,onClick:function(){return e.action(m({complete:function(){},error:function(){}},t))}},e)}))}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getActionsFromSchema,o=t.integrationCallbacks,i=t.kbListData,c=t.location,s=t.projects,l=t.documentRooms,u=t.uploadRequestTemplates,d=t.snapshotRestorations,p=void 0===d?[]:d,v=t.managedFolders,E=void 0===v?[]:v,g=(0,r.xH)(e),b=(0,a.ZP)(g,{kbListData:i,location:c,projects:s,documentRooms:l,uploadRequestTemplates:u,snapshotRestorations:p,managedFolders:E}),I="malware"!==c;return n({integrationCallbacks:o,computedActions:b,items:g,location:c,uploadRequestTemplates:u}).map((function(e){return e.permissions?(0,a.od)(b,e.permissions)?(0,a.Yk)(b,e.permissions)?e:m({disabledReason:null===(t=b[e.permissions.find((function(e){return(0,a.k3)(b,e)}))])||void 0===t?void 0:t.reason},e):null:e;var t})).filter(Boolean).concat(I?f(g,o):[])}},530472:function(e,t,n){n.d(t,{_:function(){return H},Z:function(){return Y}});var o=n(487462),r=n(204942),i=n(529439),a=n(667294),c=n(973935),s=n(811279),l=n(376507),u=n(731264),d=n(14653),m=n(992578),p=n(776327),f=n(762074),v=n(866405),E=n(722610),g=n(663089),b=n(445401),I=n(368354),k=n(4845),O=n(823592),Z=n(982925),C=n(223901),h=n(294184),y=n.n(h),P=n(946264),T=n(904975),S=n(415992),N=n(221752),A=n(190544),R=n(116514),w=n(784936),D=n(601714),M=n(460474),_=n(641822),x=n(792189),L=n(963648),j=n(880796),F=n(648543),U=n(72054),B=n(799756),X=function(e){var t=e.title;return a.createElement("header",{className:"NsXAoTPpQwaqqxffMuaN L1NPGp0OArr9AgHvsxTA C7HhvVmv8inrSQjb607z eugzcnL4uVMlgbRkfTqa"},a.createElement(B.Z,null,t))},q=n(601539);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var H={SCROLLS_WITH_PAGE:["scrolls-with-page","content-wrapper"],SCROLL_AREA:["scroll-area"]},J=Object.values(H).map((function(e){return e.map((function(e){return".".concat(e)})).join(" ")})).join(" , "),G=H.SCROLL_AREA.map((function(e){return".".concat(e)})).join(" "),K=function(e){return"".concat(e,"px")},z=function(e){var t=e.top,n=e.right;return{top:K(t+12),right:"calc(100% - ".concat(K(n),")")}};function V(e){var t,n,h,B=e.onAction,H=e.onClose,K=e.selectedItems,V=e.coordinates,Y=e.location,Q=e.integrationCallbacks,$=e.getSchema,ee=e.documentRoomId,te=(0,R.Z)().canViewKnowledgeBase,ne=(0,M.Z)("qualityDocsEnabled"),oe=(0,x.tz)(),re=(0,a.useRef)(document.querySelector(oe?G:J)),ie=(0,g.Z)(),ae=(0,O.Kp)(K),ce=ae.name,se=ae.length,le=ae.multipleFiles,ue=ae.multipleFolders,de=ae.singleFile,me=(0,a.useState)(null),pe=(0,i.Z)(me,2),fe=pe[0],ve=pe[1],Ee=(0,l.Z)("context-menu-root"),ge=(0,u.Z)(Ee),be=(0,Z.Z0)().data,Ie=(0,C.Wm)().data,ke=void 0===Ie?[]:Ie,Oe=(0,w.Z)({enabled:!!D.Z.isSnapshotPreview()}).restorations,Ze=(0,P.q9)({folderId:null==K||null===(t=K[0])||void 0===t?void 0:t.id},{enabled:ae.singleFolder}).data,Ce=void 0===Ze?[]:Ze,he=(0,L.vP)({enabled:ne&&!(0,_.jl)()}).data,ye=void 0===he?[]:he,Pe=(0,v.Z)({ref:re}),Te=(0,a.useMemo)((function(){var e={top:0,right:0};if(!re.current)return e;var t=re.current.getBoundingClientRect();return e.top=t.top,e.right=t.right,e}),[Pe]),Se=(0,a.useMemo)((function(){if(V){var e=document.querySelector(J).scrollTop;return{getBoundingClientRect:function(){var t=V.x,n=V.y+(e-document.querySelector(J).scrollTop);return{top:n,left:t,width:0,height:0,bottom:n,right:t}}}}return null}),[V]),Ne=(0,s.D)(Se,fe,{modifiers:[{name:"offset",options:{offset:[0,F.Z.MENU_POSITIONING.ARROW_OFFSET_CORRECTION]}},{name:"preventOverflow",options:{padding:{top:F.Z.MENU_POSITIONING.MARGIN_TOP,bottom:F.Z.MENU_POSITIONING.MARGIN_BOTTOM},boundary:document.body}}],strategy:"fixed",placement:"right"}),Ae=Ne.styles,Re=Ne.attributes,we=Ne.state;(0,a.useEffect)((function(){return p.ZP.on(p.ZP.Events.UIntegrate.ADDONS_ADDED,ie),function(){p.ZP.off(p.ZP.Events.UIntegrate.ADDONS_ADDED,ie)}}),[ie]),(0,a.useEffect)((function(){1===se&&de&&p.ZP.trigger(p.ZP.Events.Onboarding.UPLOAD_AND_SHARE.EXPAND_CONTEXT_MENU_SHARE_MENU)}),[se,de]),(0,d.Z)("Escape",H),(0,m.Z)(fe,H,{enabled:!!V});var De=(null==we||null===(n=we.modifiersData)||void 0===n||null===(h=n.hide)||void 0===h?void 0:h.referenceClippingOffsets)||{},Me=De.top,_e=De.bottom,xe=(0,a.useMemo)((function(){var e;return(null===(e=document.querySelector(J))||void 0===e?void 0:e.getBoundingClientRect().top)||150}),[]);(0,a.useEffect)((function(){(Me>-xe||_e>-5)&&H()}),[Me,_e,H,xe]);var Le="items";le?Le="files":ue&&(Le="folders");var je=1===se?(0,I.q)(ce):(0,f.t)("contextMenu.title",{context:Le,count:se}),Fe=(0,N.ah)({includePlaceholderData:!1,includePrompts:null,sortBy:T.K0.CREATED_ON,sortDirection:S.B.ASC,status:"ACTIVE"},{retry:!1,staleTime:20*A.A_,enabled:te&&!D.Z.isSnapshotPreview()}),Ue=Fe.data,Be=Fe.isLoading,Xe=(0,j.Z)(K,{getActionsFromSchema:null!=$?$:q.Z,integrationCallbacks:Q,kbListData:!te||Be?[]:null==Ue?void 0:Ue.content,location:Y,projects:be,documentRooms:ke,uploadRequestTemplates:Ce,snapshotRestorations:Oe,managedFolders:ye});return(0,c.createPortal)(a.createElement("aside",(0,o.default)({ref:ve,className:y()("bpw3XJdeObd1WH7rYpGL",V?"RmVQiNKJGd1MVvOjyGOH":"I47TiJiJRcsxOTuice1V",b.D,"context-menu",!V&&"docked")},V?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:Ae.popper},Re.popper):{style:z(Te)},{onContextMenu:function(e){return e.preventDefault()},"data-tid":"context-menu","data-version":"v1","data-not-blank":!0}),a.createElement("div",{className:"ASwjWkR0JP6RUwlUN453"},a.createElement("div",{className:"NcasDap6JtwEo94Uk66j"},a.createElement(X,{title:je}),a.createElement(k.Z,{onClick:H,"aria-label":"close",icon:E.xv,"data-tid":"context-menu--close-button",className:"OK51iiCvWTXzwIrd0Sup"})),Xe.length?a.createElement("div",{className:"jgh1QFncPcaipi1cids_"},a.createElement(U.Z,{onAction:B,selectionInfo:ae,selectedItems:K,actions:Xe,documentRoomId:ee})):a.createElement("div",{className:"yixv9p_JmHXBl8TdZPSf"},(0,f.t)("storage.actions.empty")))),ge.current)}var Y=(0,a.memo)(V)},601539:function(e,t,n){n.d(t,{Z:function(){return Jt}});var o=n(115861),r=n(204942),i=n(487462),a=n(529439),c=n(93433),s=n(364687),l=n.n(s),u=n(667294),d=n(762074),m=n(943886),p=n(805252),f=n(787781),v=n(413290),E=n(722332),g=n(368354),b=n(912928),I=n(481179),k=n(511343),O=n(823592),Z=n(25886),C=n(945450),h=n(369889),y=n(302782),P=n(954033),T=n(205339),S=n(495054),N=n(179565),A=n(540810),R=n(318890),w=n(319783),D=n(266606),M=n(323063),_=n(485343),x=n(730824),L=n(476839),j=n(609777),F=n(969267),U=n(355345),B=n(567421),X=n(777814),q=n(115486),W=n(581355),H=n(887302),J=n(450155),G=n(420522),K=n(947124),z=n(570657),V=n(809981),Y=n(255574),Q=n(179755),$=n(994295),ee=n(998876),te=n(386616),ne=n(451545),oe=n(921758),re=n(821442),ie=n(776327),ae=n(601714),ce=n(310920),se=n(145987),le=n(704548),ue=n(594695),de=n(26346),me=["folderItem","integrationCallbacks","computedActions","onClick"];function pe(e){var t=e.folderItem,n=e.integrationCallbacks,o=e.computedActions,r=e.onClick,a=(0,se.Z)(e,me),c=(0,de.Z)({folderItem:t,placement:A.Z.CONTEXT_MENU,integrationCallbacks:n,computedActions:o}),s=c.name,l=c.action,m=c.isAllowed,p=c.disabledReason,f=c.isShown;return l&&f?u.createElement(ue.Z,(0,i.default)({label:(0,d.t)("actions.collaboration.coEditInApp",{name:s}),icon:le.Ck,onClick:function(){null==r||r(),l()},selectedItems:[t],isAllowed:m,disabledReason:p,token:"coEditButton"},a,{action:null})):null}var fe=["folderItem","integrationCallbacks","computedActions","onClick"],ve="msBetaWordDesktopEdit",Ee="msBetaExcelDesktopEdit",ge="msBetaPowerPointDesktopEdit";function be(e){var t=e.folderItem,n=e.integrationCallbacks,o=e.computedActions,r=e.onClick,a=(0,se.Z)(e,fe),c=(0,de.Z)({folderItem:t,placement:A.Z.CONTEXT_MENU,integrationCallbacks:n,computedActions:o}),s=c.entryActionId,l=c.prioritizedApps;if(!c.isShown)return null;var m=l.find((function(e){return[ve,Ee,ge].includes(e.entryActionId)}));if(!m)return null;if(!m.isAllowed)return null;if(m.entryActionId===s)return null;var p=m.appName,f=m.action,v=m.editorName,E=m.disabledReason,g=v||p;return u.createElement(ue.Z,(0,i.default)({label:(0,d.t)("actions.collaboration.coEditInApp",{name:g}),icon:le.Ck,onClick:function(){null==r||r(),f()},selectedItems:[t],disabledReason:E,token:"coEditButton"},a,{action:null}))}var Ie=n(499345),ke=n(136988),Oe=n(57324),Ze=n(652421),Ce=["label","token","selectedItems"],he=function(e){var t=e.label,n=e.token,o=e.selectedItems,r=(0,se.Z)(e,Ce),a=(0,m.Jo)().features.collaborativeEditingUnlockingFilesEnabled,c=(0,ke.ZP)(o).Unlock,s=o.filter((function(e){return(0,ke.ZP)(e).Unlock.allowed})),l=s.some(Oe.Uw),p=c.allowed||c.reason||!!s.length,f=a&&l,v=function(e,t){return!e.length&&t.reason}(s,c);return p?u.createElement(ue.Z,(0,i.default)({key:n,token:n,label:t,selectedItems:o,disabledReason:v},r),u.createElement(Ie.Z,{tooltip:t},u.createElement("span",{"data-tid":"context-menu--action-title"},t),f&&u.createElement(Ze.Z,{className:"insoyFANp1vIHpYns2hK"},(0,d.t)("actions.collaboration.endsCoediting")))):null},ye=n(964280),Pe=n(278714),Te=n(772299);function Se(e){var t=e.onClick,n=e.selectedItems,o=e.selectionInfo,r=e.token;return u.createElement(ue.Z,{onClick:function(){null==t||t(),n.length&&(0,Te.Z)({file:(0,Oe.cX)(n[0])})},selectedItems:n,selectionInfo:o,token:r,label:(0,d.t)("actions.editActions.edit"),icon:Pe.T})}var Ne=n(482282),Ae=n(216914),Re=n(610861),we=n(690415),De=n(55034),Me=n(197147),_e=n(42594),xe=n(347392),Le=n(461188),je=n(232452),Fe=n(462826),Ue=n(771591),Be=n(13764),Xe=n(193645),qe=n(502147),We=n(156552),He=n(397404),Je=n(23661),Ge=n(240701),Ke=n(918233),ze=n(582278),Ve=n(832297),Ye=n(331067),Qe=n(238701),$e=n(460474),et=n(153672),tt=n(381908),nt=n(753438),ot=n(974682),rt=n(166823),it=n(512994),at={ConvertToPowerpoint:function(e){var t=e.folderItems;return{text:it.OS.PRESENTATION,token:"convertToPowerpoint",icon:ot.UU,testId:"convert-to-powerpoint",action:function(){return(0,rt.Z)({file:t[0],targetExtension:"pptx"})}}},ConvertToWord:function(e){var t=e.folderItems;return{text:it.OS.DOCUMENT,token:"convertToWord",icon:ot.JU,testId:"convert-to-word",action:function(){return(0,rt.Z)({file:t[0],targetExtension:"docx"})}}},ConvertToExcel:function(e){var t=e.folderItems;return{text:it.OS.SPREADSHEET,token:"convertToExcel",icon:ot.RD,testId:"convert-to-excel",action:function(){return(0,rt.Z)({file:t[0],targetExtension:"xlsx"})}}},ConvertToPdf:function(e){var t=e.folderItems;return{text:(0,d.t)("storage.actions.convert.convertToPDF"),token:"convertToPdf",icon:Ve.c,testId:"convert-to-pdf",action:function(){return(0,rt.Z)({file:t[0],targetExtension:"pdf"})}}}};function ct(e){var t=e.actions;if(1===t.length){var n=t[0];return u.createElement(nt.Z,(0,i.default)({key:n.actionName},n))}return u.createElement(Ye.Z,{menuItemProps:{title:(0,d.t)("storage.actions.convert.label"),icon:Ve.c}},u.createElement(st,{actions:t}))}function st(e){var t=e.actions;return u.createElement("div",{className:"SWXpQTJAhjZJ0DMhq5jL"},t.map((function(e){return u.createElement(nt.Z,(0,i.default)({key:e.actionName},e))})))}var lt=function(e){var t=function(e){var t,n=e.folderItems,o=e.computedActions,r=e.env,i=e.pdfAddonsEnabled,a=void 0!==i&&i,c=(0,tt.Z)({folderItems:n,schema:at,computedActions:o,uploadRequestTemplates:[]}),s=1===n.length,l=(0,Oe.RN)(n[0]),u=Object.keys((null==r||null===(t=r.ui)||void 0===t?void 0:t.documentConversionSupportedFileTypeDetails)||{});return{shouldBeShown:a&&u.includes(l.toUpperCase())&&s&&!(0,Qe.Xn)(r)&&(0,Be.zm)(n[0].permission),actions:c}}({folderItems:e.folderItems,computedActions:e.computedActions,env:(0,et.ZP)().data,pdfAddonsEnabled:(0,$e.Z)("pdfAddonsEnabled")}),n=t.shouldBeShown,o=t.actions;return n?u.createElement(ct,{actions:o}):null},ut=n(437364),dt=n(230238),mt=n(922545),pt=n(48633),ft=n(176314),vt=n(675619);function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e){var t=e.onClick,n=e.selectedItems,o=e.selectionInfo,r=e.token,i=e.disabledReason,a=(0,O.xH)(n),c=(0,pt.Z)(a),s=c.mutate,l=c.isLoading;return u.createElement(ue.Z,{onClick:function(){if(!l){if(null==t||t(),(0,ft.ay)({items:a.map((function(e){return{id:e.id,path:e.path}}))}),1===a.length){var e=a[0],n=e.id,o=e.parentId,r=e.name,i=e.path;(0,dt.Z)({parentFolderId:o,folderId:n,folderName:r,folderPath:i,onProjectMutationSuccess:function(){(0,ft.fo)({items:[{id:n,path:i}]})}})}a.length>1&&s(a.map((function(e){var t=e.id,n=e.path;return gt(gt({},vt.s),{},{projectFolderId:t,name:(0,mt.Z)(n).fileName})})))}},selectedItems:n,selectionInfo:o,token:r,label:(0,d.t)("actions.projects.markAsProject",{count:a.length}),icon:ut.S,disabledReason:i})}var It=n(419452),kt=n(264802),Ot=n(515917);function Zt(e){var t=e.selectedItems,n=e.selectionInfo,o=e.token,r=e.disabledReason;return u.createElement(ue.Z,{onClick:function(){ie.ch.SHOW_FOLDER_PERMISSIONS_SELECTED.trigger({folder:t[0],analyticsContext:"Context Menu"})},selectedItems:t,selectionInfo:n,token:o,label:(0,d.t)("storage.actions.folderPermissions"),hint:(0,d.t)("storage.actionsInfo.folderPermissions"),icon:le.mc,testId:"folder-permissions","data-pendoid":Ot.e.CONTEXT_MENU.FOLDER_PERMISSIONS,disabledReason:r})}var Ct=n(576415),ht=n(729625);function yt(e){var t=e.selectedItem,n=e.selectionInfo,o=e.token,r=e.resource,i=e.portalKey,a=e.disabledReason;return u.createElement(ue.Z,{onClick:function(){var e=t.attributes;(0,ht.Z)({baseFolderId:r.rootFolderId,basePath:(0,w.dX)(r.path,{prependSlash:!0,appendSlash:!1}),folderPath:(0,w.mB)(r.path,(0,_e.DW)(t)),name:e.name,resourceId:r.id,portalName:i})},selectedItems:[t],selectionInfo:n,token:o,label:(0,d.t)("storage.actions.teamManagement"),hint:(0,d.t)("storage.actionsInfo.teamManagement"),icon:le.mc,testId:"team-management","data-pendoid":Ot.e.CONTEXT_MENU.TEAM_MANAGEMENT,disabledReason:a})}function Pt(e){var t=e.selectedItem,n=e.selectionInfo,o=e.disabledReason,r=(0,Ct.me)({folderId:t.id.toString(),folderPath:(0,_e.DW)(t),permission:t.get("permission")});if(r.showTeamManagement){var i=r.resource,a=r.portalKey;return u.createElement(yt,{key:"team-management",token:"team-management",selectedItem:t,selectionInfo:n,resource:i,portalKey:a,disabledReason:o})}return u.createElement(Zt,{key:"folder-permissions",token:"folder-permissions",selectedItems:[t],selectionInfo:n,disabledReason:o})}var Tt=n(680087),St=n(711413),Nt=n(267807),At=n(461498),Rt=n(449654),wt=n(568070),Dt=n(792189),Mt=n(590624),_t=n(868430);function xt(e){var t=e.selectedItems,n=e.selectionInfo,o=e.token,r=e.disabledReason,i=(0,wt.F8)(),a=(0,Mt.Z)().aiSourceSelectorFeatureEnabled;return u.createElement(ue.Z,{onClick:function(){(0,Dt.tz)()?null==i||i.handleSelection({selections:t,shouldExpand:!0}):(ie.ZP.trigger(ie.ZP.Events.Storage.GLOBAL_COPILOT,{selections:t,shouldExpand:!0}),a&&(0,_t.e0)(JSON.stringify(t)))},selectedItems:t,selectionInfo:n,token:o,label:(0,d.t)("storage.actions.globalCopilot"),icon:B.w2,disabledReason:r,testId:"global-copilot"})}var Lt=n(963648),jt=function(e){(0,He.c0)("error",e.message||(0,d.t)("qualityDocs.makeEffective.notifications.metadataFailed"),{persist:!1})};function Ft(e){var t=e.selectedItems,o=e.token,r=e.selectionInfo,i=e.onClick,c=(0,a.Z)(t,1)[0],s=c.get("searchQuery")||"",l=c.get("entryId"),m=(0,Lt.vP)(),p=m.isLoading,f=m.data,v=(void 0===f?[]:f).some((function(e){var t=e.path;return s.startsWith(t)})),E=(0,Lt.Dy)(l).refetch,g=(0,u.useCallback)((function(e){Promise.all([E(),Promise.all([n.e(532),n.e(1329),n.e(1336)]).then(n.bind(n,461336))]).then((function(t){var n=(0,a.Z)(t,2),o=n[0],r=o.data,i=o.isError,c=o.error,s=n[1].default;i?jt(c):r&&(0,Re.h7)(u.createElement(s,{imported:!0,fileName:e.get("name"),metadata:r,entryId:l}),{onRequestClose:Re.Mr})})).catch(jt)}),[l,E]);return p||!v?null:u.createElement(ue.Z,{selectedItems:t,token:o,selectionInfo:r,label:(0,d.t)("storage.actions.migrateToQuality"),icon:oe.I2,onClick:function(){i(),g(c)}})}var Ut="RSerYqlRxkkCGhavou1l",Bt="Q0EIAjYC7ojuvb93QyVJ FNyGYYnJYyNLYscYnZTv eugzcnL4uVMlgbRkfTqa",Xt="eO7WNaOzK5DdAnyZaJnH";function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=(0,d.nD)("knowledgeBaseAssistant"),Jt=function(){var e,t,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se=s.integrationCallbacks,le=s.computedActions,ue=s.items,de=s.location,me=s.uploadRequestTemplates;return[{permissions:["PublishDraftDocument"],token:"publishDraftDocument",icon:x.Q8,label:(0,d.t)("storage.actions.publishDraftDocument"),onClick:function(){var e=(0,a.Z)(ue,1)[0],t=e.id,n=e.name;(0,N.Z)({documentName:n,fileGroupId:t}),(0,Le.I)()}},{token:"editURLFile",permissions:["EditURLFile"],render:function(e){var t=e.selectedItems,n=e.selectionInfo,o=e.onClick;return u.createElement(Se,{key:"editUrlFile",token:"editURLFile",selectedItems:t,selectionInfo:n,onClick:o})}},{render:function(e){return ue.length>1?null:u.createElement(pe,(0,i.default)({integrationCallbacks:se,computedActions:le,key:"collaboration",folderItem:ue[0]},e))}},{render:function(e){return ue.length>1?null:u.createElement(be,(0,i.default)({integrationCallbacks:se,computedActions:le,key:"collaborationMsWordDesktopBetaButton",folderItem:ue[0]},e))}},{token:"nestedOpenInMenu",render:function(e){var t=e.onClick;return u.createElement(k.z,{key:"openIn",folderItems:ue,title:(0,d.t)("actions.openIn.triggerButtonText"),placement:P.Z.CONTEXT_MENU,computedActions:le,integrationCallbacks:se,beforeActionExecution:t})}},{permissions:["Download"],token:"download",icon:L.V3,label:(0,d.t)("storage.actions.download"),onClick:function(){(0,R.Z)(ue,A.Z.CONTEXT_MENU)}},{permissions:["DownloadExtractedContent"],token:"downloadExtractedContent",icon:j.aO,label:(0,d.t)("storage.actions.downloadExtractedContent"),onClick:function(){ue.forEach((function(e){(0,Fe.Z)(e.entryId)}))}},{permissions:["UploadToEtmf"],token:"uploadToEtmf",icon:F.K,label:(0,d.t)("storage.actions.uploadToEtmf"),onClick:function(e){var t=e.selectedItems.map((function(e){return(0,ze.VT)(e.toJSON())}));(0,ze.cL)({mode:ze.wM.NONE,files:t,labels:{title:(0,d.t)("eTMF.uploadDocumentsToEtmf"),actions:{upload:(0,d.t)("eTMF.uploadToEtmf")}}})}},{permissions:["Preview"],token:"preview",icon:U.hI,label:(0,d.t)("storage.actions.preview"),onClick:function(e){var t,n=e.selectedItems;h.ZP.run(n[0],n[0].collection,{actionSource:A.Z.CONTEXT_MENU,gotoFolderPath:"storage"!==de&&f.ZP.getParentPath(n[0].get("path")),disableNavigateTrigger:(0,xe.GB)(),workspaceId:null!==(t=(0,xe.yT)())&&void 0!==t?t:void 0})}},{permissions:["FolderPermissions"],token:"folderPermissions",render:function(e){var t=(0,a.Z)(e.selectedItems,1)[0],n=e.selectionInfo,o=e.action;return u.createElement(Pt,{key:"folder-permissions-managers",selectedItem:t,selectionInfo:n,disabledReason:o.disabledReason})}},{token:"nestedShare",render:function(e){var t=e.onClick,n=e.documentRoomId;return u.createElement(b.ql,{key:"share",folderItems:ue,title:(0,d.t)("storage.actions.nestedShareMenu"),onBoarding:"[uploadAndShare.expandContextMenuShareMenu]",placement:P.Z.CONTEXT_MENU_OPEN_IN,onCollapse:function(){ce.ZP.hide()},onExpand:function(){(0,O.WK)(ue)&&ie.ZP.trigger(ie.ZP.Events.Onboarding.UPLOAD_AND_SHARE.CLICK_CONTEXT_MENU_SHARE_LINK)},computedActions:le,beforeActionExecution:t,documentRoomId:n,uploadRequestTemplates:me})}},{permissions:(0,m.Jo)().features.isGlobalCopilotEnabled?["GlobalCopilot"]:[],token:"globalCopilot",render:function(e){var t=e.selectedItems,n=e.action,o=e.selectionInfo;return u.createElement(xt,{key:"globalCopilot",token:"globalCopilot",selectedItems:t,selectionInfo:o,disabledReason:n.disabledReason})}},{permissions:["CreateKnowledgeBase"],token:"createKnowledgeBase",icon:B.w2,label:Ht("menu.label"),onClick:function(e){var t=e.selectedItems[0].attributes,n=t.id,o=t.name,r=t.path;(0,Nt.S1)({entryPoint:At.eR.CONTEXT_MENU}),(0,Rt.Z)({folderDetails:{id:n,name:o,path:r},entryPoint:At.eR.CONTEXT_MENU})}},{permissions:["RequestToRestoreInactiveContainer"],token:"requestToRestoreInactiveContainer",icon:X.b,label:(0,d.t)("storage.actions.requestToRestoreInactiveContainer"),onClick:function(e){var t,n,o=e.selectedItems,r=null==o||null===(t=o[0])||void 0===t?void 0:t.get("id"),i=null==o||null===(n=o[0])||void 0===n?void 0:n.get("path");(0,S.Z)({folderId:r,folderPath:i})}},{permissions:["Bookmark"],token:"addBookmark",icon:q.vj,label:(0,d.t)("storage.actions.addBookmark"),onClick:function(e){var t=e.selectedItems;(new v.Z).addBookmarkItems(t)}},{permissions:["RemoveBookmark"],token:"removeBookmark",icon:q.eZ,label:(0,d.t)("storage.actions.removeBookmark"),onClick:function(e){var t=e.selectedItems;(new v.Z).removeBookmarkItems(t)}},{permissions:["FolderOptions"],token:"folderOptions",icon:W.yo,label:(0,d.t)("storage.actions.detailsAndOptions"),onClick:function(e){var t=(0,a.Z)(e.selectedItems,1)[0];(0,T.Z)(t,(function(){var e;null==t||null===(e=t.collection)||void 0===e||e.fetch(),t.fetch()}))}},{permissions:["ProtectSecurityAnalytics"],token:"protectSecurityAnalytics",icon:H.OL,label:u.createElement("span",{"data-pendoid":"folder-insights-context-menu-option"},(0,d.t)("storage.actions.folderInsights")),onClick:function(e){var t=e.selectedItems[0],n=t.get("id"),o=t.get("name"),r=t.get("path");(0,Tt.T)({id:n,name:o,path:r}),D.Z.track(Tt.S.FOLDER_INSIGHTS_MODAL_OPENED)}},{permissions:["InactiveFolderOptions"],token:"inactiveFolderOptions",icon:W.yo,label:(0,d.t)("storage.actions.detailsAndOptions"),onClick:function(e){var t=(0,a.Z)(e.selectedItems,1)[0];(0,T.Z)(t,(function(){var e;null==t||null===(e=t.collection)||void 0===e||e.fetch(),t.fetch()}))}},{permissions:["Comments"],token:"comments",icon:J.DM,label:u.createElement("span",{className:Ut},(0,d.t)("storage.actions.comments"),u.createElement("span",{className:Bt},null===(e=ue[0].notes)||void 0===e?void 0:e.count)),onClick:function(e){var t=e.selectedItems;h.ZP.run(t[0],t[0].collection,{panelToOpen:h.ZP.PANELS.COMMENTS,actionSource:A.Z.CONTEXT_MENU})}},{permissions:["Tasks"],token:"tasks",icon:G.kp,label:(0,d.t)("storage.actions.workflows"),onClick:function(e){var t=e.selectedItems;h.ZP.run(t[0],t[0].collection,{panelToOpen:h.ZP.PANELS.TASKS,actionSource:A.Z.CONTEXT_MENU})}},(0,qe.Z)({computedActions:le,folderItems:ue}),{permissions:["CreateShortcut"],token:"createShortcut",icon:x.kY,label:(0,d.t)("storage.actions.createShortcut"),onClick:function(e){var t=e.selectedItems,n=ae.Z.get("workgroup.id"),o=(0,d.t)("storage.labels.shortcut");t.forEach((function(e){var t=e.attributes,i=t.name,a=t.type,c=t.path,s=a===M.dt.FOLDER,l=(0,r.Z)({workgroup_id:n},s?"folder_id":"group_id",e.id),u=s?"".concat(i," - ").concat(o,".").concat(p._L):"".concat(i," - ").concat(o,".").concat(p.JK),d=new File([JSON.stringify(l)],u,{type:"text/plain"});(0,_.c)({file:d,destinationPath:(0,w.XX)(c),uploadAPIAccessor:{}}).then((function(){var t;null===(t=e.collection)||void 0===t||t.fetch(),D.Z.track("".concat(s?"Folder":"File"," Shortcut Created"))}))}))}},{permissions:["MarkAsProject"],token:"markAsProject",render:function(e){var t=e.selectedItems,n=e.selectionInfo,o=e.onClick,r=e.action;return u.createElement(bt,{key:"markAsProject",token:"markAsProject",selectedItems:t,selectionInfo:n,disabledReason:r.disabledReason,onClick:o})}},{permissions:["MigrateToQuality"],token:"migrateToQuality",render:function(e){var t=e.selectedItems,n=e.selectionInfo,o=e.onClick;return u.createElement(Ft,{key:"migrateToQuality",token:"migrateToQuality",selectedItems:t,selectionInfo:n,onClick:o})}},{permissions:["Versions"],token:"versions",icon:K.bd,label:(0,m.Jo)().features.downloadHistoryEnabled?(0,d.t)("storage.actions.versionsAndHistory"):(0,d.t)("storage.actions.versions"),onClick:function(e){var t=e.selectedItems;(0,y.Z)(t[0],{actionSource:A.Z.CONTEXT_MENU})}},{permissions:["FileDetails"],token:"fileDetails",icon:W.yo,label:(0,d.t)("storage.actions.fileDetails"),onClick:function(e){var t=e.selectedItems;h.ZP.run(t[0],t[0].collection,{panelToOpen:h.ZP.PANELS.METADATA,actionSource:A.Z.CONTEXT_MENU})}},{permissions:["Duplicate"],token:"duplicate",icon:z.H,label:(0,d.t)("storage.actions.duplicate"),onClick:(n=(0,o.Z)(l().mark((function e(t){var n,o,r,i,a,c,s,u,m,p,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.selectedItems,o=n[0],r=(0,_e.DW)(o),i=o.get("name"),a=(0,_e.cO)(),c=(0,xe.yT)(),e.prev=6,e.next=9,(0,C.OM)({sourceFilePath:r,documentRoomId:a,workspaceId:c});case 9:s=e.sent,u=c||a?{customAdapter:je.Z,documentRoomId:a,workspaceId:c,parentFolder:o.parentFolder}:{},m=new E.Z(Wt(Wt({},s),{},{isNewItem:!0}),u),(p=o.collection.add(m,{merge:!0,at:0})).trigger("change",p),ie.ZP.trigger(ie.ZP.Events.Storage.NOTIFICATION.SHOW,"success",(0,d.t)("operations.item.duplicateItem",{name:(0,g.q)(i)})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),f=e.t0.data.errors[0].msg,ie.ZP.trigger(ie.ZP.Events.Storage.NOTIFICATION.SHOW,"error",(0,d.t)("operations.item.duplicateItemError",{name:(0,g.q)(i),msg:f}));case 21:case"end":return e.stop()}}),e,null,[[6,17]])}))),function(e){return n.apply(this,arguments)})}].concat((0,c.Z)((0,m.Jo)().features.unifiedCopyAndMoveEnabled?[{permissions:[].concat((0,c.Z)(le.Copy.allowed?["Copy"]:[]),(0,c.Z)(le.Move.allowed?["Move"]:[])),token:"copyMove",icon:V.O,label:(0,d.t)("storage.actions.copyMove"),onClick:function(e){var t=e.selectedItems,n=e.env;function o(){ie.ZP.trigger(ie.ZP.Events.Storage.SHOW_COPY_MOVE_SELECTED,new v.Z(t))}(0,O.gp)(n.user,t)?(0,De.Z)(o):o()}}]:[{permissions:le.Copy.allowed?["Copy"]:[],token:"copy",icon:V.O,label:(0,d.t)("storage.actions.copy"),onClick:function(e){var t=e.selectedItems;ie.ZP.trigger(ie.ZP.Events.Storage.SHOW_COPY_SELECTED,new v.Z(t))}},{permissions:le.Move.allowed?["Move"]:[],token:"move",icon:Y.Ws,label:(0,d.t)("storage.actions.move"),onClick:function(e){var t=e.selectedItems,n=e.env;function o(){ie.ZP.trigger(ie.ZP.Events.Storage.SHOW_MOVE_SELECTED,new v.Z(t))}(0,O.gp)(n.user,t)?(0,De.Z)(o):o()}}]),[{permissions:["CompareDocument"],token:"compareDocument",icon:Q.Bd,label:(0,d.t)("storage.actions.compareDocument"),onClick:function(e){var t=e.selectedItems;(0,It.Z)({closePreview:kt.Z,document:(0,Oe.cX)(t[0])})}},{token:"convertTo",render:function(){return u.createElement(lt,{key:"convertTo",folderItems:ue,computedActions:le})}},{permissions:["Rename"],token:"rename",icon:$.jU,label:(0,d.t)("storage.actions.rename"),onClick:function(e){var t=e.selectedItems,n=e.env;function o(){(0,Z.default)(t[0])}(0,O.gp)(n.user,t)?(0,De.Z)(o):o()}},{permissions:["Lock"],token:"lock",icon:ee.hk,label:(0,d.t)("storage.actions.lock"),onClick:function(e){var t=e.selectedItems;(0,ye.PI)(t)}},{token:"unlock",render:function(e){var t=e.selectionInfo,n=e.selectedItems,o=e.onClick;return u.createElement(he,{key:"unlock",selectionInfo:t,selectedItems:n,onClick:function(){(0,Ne.W)(n)?(0,Ne.n)({items:n,unlockItems:function(){return(0,ye.Ds)(n)}}):(0,ye.Ds)(n),o()},icon:ee.YV,label:(0,d.t)("storage.actions.unlock"),token:"unlock"})}},(0,Ae.tS)(Ae.aD.DELETE,le),{permissions:["RestoreFromSnapshot"],token:"restoreFromSnapshot",icon:te.Z,label:(0,d.t)("storage.actions.restoreFromSnapshot"),tooltipAction:le.RestoreFromSnapshot.showTooltipAction?u.createElement(re.Z,{as:"a",href:St.VO,target:"_blank"},(0,d.t)("restore.tabs.restorationTitle"),u.createElement(re.Z.Icon,{icon:ne.g})):null,onClick:function(e){var t=e.selectedItems;(0,Re.h7)(u.createElement(Me.Z,{items:t}),{size:Re.ZP.sizes.XL,onRequestClose:Re.Mr,withCloseButton:!0})}},{token:"crossDomainFolders",render:function(){return u.createElement(I.Z,{key:"crossDomainFolders",folderItems:ue,computedActions:le})}},{permissions:["DownloadTranscript"],token:"downloadTranscript",icon:j._1,label:(0,d.t)("storage.actions.downloadTranscript"),onClick:(t=(0,o.Z)(l().mark((function e(t){var n,o,r,i,a,c,s,d,m,p,f,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.selectedItems,o=null==n?void 0:n[0],!(r=null==o?void 0:o.attributes.entryId)){e.next=27;break}return e.prev=4,e.next=7,(0,We.VD)(r);case 7:if(D.Z.track("Create transcript button clicked"),a=o.parentFolder,c=Xe.Z.toRawNode(a),s=o.attributes.parentId,a||!s){e.next=15;break}return e.next=14,(0,Je.ZP)(Ge.Z.FSI.ITEM(s));case 14:c=e.sent;case 15:d=(0,Be.zm)(null===(i=c)||void 0===i?void 0:i.permission),m=o.attributes.name,(0,Ue.av)({entryId:r,fileName:m,parentFolder:d?c:null}),e.next=27;break;case 20:if(e.prev=20,e.t0=e.catch(4),null===(p=e.t0.response)||void 0===p||!p.status){e.next=26;break}return f=(0,We.ro)(e.t0.response.status),v=f.message,(0,He.c0)(He.em.error,u.createElement("p",{className:Xt},v)),e.abrupt("return");case 26:(0,He.c0)(He.em.error,u.createElement("p",{className:Xt},e.t0.message));case 27:case"end":return e.stop()}}),e,null,[[4,20]])}))),function(e){return t.apply(this,arguments)})},{permissions:["MoreLikeThisOption"],token:"moreLikeThisOption",icon:oe.Vn,label:(0,d.t)("storage.actions.moreLikeThis"),onClick:function(e){var t,n,o,r,i,a,c,s,l=e.selectedItems,u=(null==l||null===(t=l[0])||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.entryId)||(null==l||null===(o=l[0])||void 0===o||null===(r=o.attributes)||void 0===r?void 0:r.id),d=null==l||null===(i=l[0])||void 0===i||null===(a=i.attributes)||void 0===a?void 0:a.id,m=null==l||null===(c=l[0])||void 0===c||null===(s=c.attributes)||void 0===s?void 0:s.name;u&&we.ZP.getMoreLikeThisSearchResults(u,d,m)}},{permissions:["MoreLikeThisOptionForImages"],token:"moreLikeThisOptionForImages",icon:oe.Vn,label:(0,d.t)("storage.actions.moreLikeThis"),onClick:function(e){var t,n=e.selectedItems,o=null==n?void 0:n[0],r=(null==o?void 0:o.attributes.entryId)||(null==o?void 0:o.attributes.id),i=null===(t=o.attributes)||void 0===t?void 0:t.name,a=null==o?void 0:o.attributes.id;r&&we.ZP.getMoreLikeThisSearchResults(r,a,i,Ke.LV.GALLERY)}}])}},72054:function(e,t,n){n.d(t,{K:function(){return u}});var o=n(487462),r=n(667294),i=n(153672),a=n(347979),c=n(337995),s=n(515917),l=n(594695);function u(e){var t=e.actions,n=e.selectedItems,i=e.selectionInfo,c=e.onAction,s=e.documentRoomId,u=e.env;return t.map((function(e){return e.render?e.render({action:e,selectedItems:n,selectionInfo:i,onClick:(0,a.Z)(e.onClick,c),onAction:c,documentRoomId:s,env:u}):r.createElement(l.Z,(0,o.default)({key:e.token,selectionInfo:i,selectedItems:n},e,{onClick:(0,a.Z)(e.onClick,c),env:u}))}))}function d(e){var t=e.actions,n=e.selectedItems,o=e.selectionInfo,a=e.onAction,l=e.documentRoomId,d=(0,i.ZP)().data;return r.createElement(c.Z,{"data-pendoid":s.e.CONTEXT_MENU.MENU_CONTAINER},u({actions:t,selectedItems:n,selectionInfo:o,onAction:a,documentRoomId:l,env:d}))}t.Z=(0,r.memo)(d)},500947:function(e,t,n){n.d(t,{_:function(){return u},a:function(){return p}});var o=n(529439),r=n(667294),i=n(811279),a=n(14653),c=n(992578),s=n(866405),l=n(823592),u={SCROLLS_WITH_PAGE:["scrolls-with-page","content-wrapper"],SCROLL_AREA:["scroll-area"]},d=Object.values(u).map((function(e){return e.map((function(e){return".".concat(e)})).join(" ")})).join(" , "),m=function(e){return"".concat(e,"px")};function p(e){var t,n,u,p=e.selectedItems,f=e.coordinates,v=e.location,E=e.onClose,g=e.integrationCallbacks,b=e.documentRoomId,I=(0,r.useState)(null),k=(0,o.Z)(I,2),O=k[0],Z=k[1],C=(0,r.useRef)(document.querySelector(d)),h=(0,s.Z)({ref:C}),y=(0,l.xH)(p),P=(0,l.Kp)(p),T=(0,r.useMemo)((function(){var e={top:0,right:0};if(!C.current)return e;var t=C.current.getBoundingClientRect();return e.top=t.top,e.right=t.right,e}),[h]),S=(0,r.useMemo)((function(){if(f){var e,t=(null===(e=C.current)||void 0===e?void 0:e.scrollTop)||0;return{getBoundingClientRect:function(){var e,n=f.x,o=f.y+(t-((null===(e=C.current)||void 0===e?void 0:e.scrollTop)||0));return{top:o,left:n,width:0,height:0,bottom:o,right:n,x:n,y:o,toJSON:function(){return{}}}}}}return null}),[f]),N=(0,i.D)(S,O,{modifiers:[{name:"offset",options:{offset:[0,10]}},{name:"preventOverflow",options:{padding:{top:45,bottom:0},boundary:document.body}}],strategy:"fixed",placement:"right"}),A=N.styles,R=N.attributes,w=(0,r.useMemo)((function(){var e;return{selectedItems:y,location:v,path:null===(e=y[0])||void 0===e?void 0:e.path,coordinates:f,integrationCallbacks:g,documentRoomId:b,selectionInfo:P}}),[y,v,f,g,b,P]);return(0,a.Z)("Escape",E),(0,c.Z)(O,E,{enabled:!!f}),{isOpen:p.length>0,contextData:w,setWrapper:Z,popperStyles:f?A.popper:(t=T,n=t.top,u=t.right,{top:m(n+-70),right:"calc(100% - ".concat(m(u-13),")")}),popperAttributes:f?R.popper:{},isFloating:!!f}}},50759:function(e,t,n){n.d(t,{Z:function(){return w}});var o=n(487462),r=n(204942),i=n(667294),a=n(973935),c=n(776327),s=n(376507),l=n(731264),u=n(445401),d=n(294184),m=n.n(d),p=n(337995),f=n(645816),v=n(491568),E=n(163537),g=n(762074),b=n(517935),I=(0,i.createContext)(null);function k(e){var t=e.children,n=e.value;return i.createElement(I.Provider,{value:n},t)}var O=n(500947),Z=n(799532),C=n(921758),h=n(722610),y=n(579099),P=n(4845),T=n(323063),S=n(799756),N=function(e){var t,n,o=e.onClose,a=function(){var e=(0,i.useContext)(I);if(!e)throw new Error("useContextMenuContext must be used within ContextMenuProvider");return e}().selectionInfo,c=a.name,s=a.length,l=a.type,u=(t={},(0,r.Z)(t,T.bw.SINGLE_FILE,i.createElement(y.Z,{type:"file",name:c})),(0,r.Z)(t,T.bw.SINGLE_FOLDER,i.createElement(y.Z,{type:"folder",name:c})),(0,r.Z)(t,T.bw.MULTIPLE_FOLDERS,i.createElement(y.Z,{type:"folder",name:c})),(0,r.Z)(t,T.bw.MULTIPLE_FILES,i.createElement(Z.Z,{icon:C.fY,size:"20px"})),(0,r.Z)(t,T.bw.FILES_AND_FOLDERS,i.createElement(Z.Z,{icon:C.fY,size:"20px"})),t),d=(n={},(0,r.Z)(n,T.bw.SINGLE_FILE,c),(0,r.Z)(n,T.bw.SINGLE_FOLDER,c),(0,r.Z)(n,T.bw.MULTIPLE_FILES,(0,g.t)("contextMenu.title",{context:"files",count:s})),(0,r.Z)(n,T.bw.MULTIPLE_FOLDERS,(0,g.t)("contextMenu.title",{context:"folders",count:s})),(0,r.Z)(n,T.bw.FILES_AND_FOLDERS,(0,g.t)("contextMenu.title",{context:"items",count:s})),n),m=l?d[l]:"",p=l?u[l]:"";return i.createElement("header",{className:"mw9X3QMc74qJh_HDb4TA"},i.createElement("div",{className:"d8jfmAiPFjJI2JrnbY_l","data-tid":"icon-container"},p),i.createElement("div",{className:"KvPM8wsA91UnZpklu8Rh gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},i.createElement(S.Z,{maxLinesCount:1,trimWhitespace:!0},m)),o&&i.createElement(P.Z,{icon:h.xv,onClick:o,"aria-label":(0,g.t)("button.label.close"),type:P.Z.GHOSTED,size:P.Z.sizes.SMALL,"data-tid":"context-menu--close-button"}))},A=n(353487);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var w=function(e){var t=e.onAction,n=e.onClose,d=e.selectedItems,I=e.coordinates,Z=e.location,C=e.integrationCallbacks,h=e.documentRoomId,y=e.schema,P=e.computedActions,T=(0,s.Z)("context-menu-root"),S=(0,l.Z)(T),w=(0,O.a)({selectedItems:d,coordinates:I,location:Z,onClose:n,integrationCallbacks:C,documentRoomId:h}),D=w.contextData,M=w.setWrapper,_=w.popperStyles,x=w.popperAttributes,L=w.isFloating,j=w.isOpen,F=D.selectedItems,U=D.selectionInfo,B=(0,i.useMemo)((function(){return(0,E.m)(y,P)}),[y,P]);return(0,i.useEffect)((function(){U.singleFile&&c.ZP.trigger(c.ZP.Events.Onboarding.UPLOAD_AND_SHARE.EXPAND_CONTEXT_MENU_SHARE_MENU)}),[U.singleFile]),j?(0,a.createPortal)(i.createElement(k,{value:D},i.createElement("aside",(0,o.default)({ref:M,className:m()("spCVrNI8F94hKvMrRbo6",L?"OAb3WVyTeEERzBHMVWgR":"EM6bKJuAEso_cNSN9RMP",u.D,"context-menu"),onContextMenu:function(e){return e.preventDefault()},"data-tid":"context-menu","data-version":"v2"},L?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:_},x):{style:_}),i.createElement("div",{className:m()("DTf6UQgTc4y3RWn7fxWc",L&&"SOkAetKddhfjxosjUYcA")},i.createElement(N,{onClose:n}),i.createElement("div",{className:"MpVMazMooFKDPck966i1"},i.createElement(f.Z,null)),i.createElement("div",{className:"f4xcuzfSQM0fJJK4N45A"},i.createElement(p.Z,{"data-tid":"context-menu-actions",className:"P5mxJcnAi2DMqFqLLSb3"},B.length?i.createElement(v.S,{tidPrefix:"context-menu",schema:B,onAction:function(e){var n=e.id,o=e.label;b.Z.actionClicked(n.startsWith(A.j)?o:n,F,U,{version:"v2"}),null==t||t()},onClickProps:{selectedItems:d}}):i.createElement("div",{className:"zs_lYnfXcZH6xx9mJ2hq"},(0,g.t)("storage.actions.empty"))))))),S.current):null}}}]);