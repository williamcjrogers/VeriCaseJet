(self.webpackChunkEgnyte_CommonUI=self.webpackChunkEgnyte_CommonUI||[]).push([[8343],{282560:function(e,t,n){"use strict";n.d(t,{D3:function(){return E},Re:function(){return v},VY:function(){return p},nG:function(){return g}});var r=n(529439),o=n(145987),a=n(204942),i=n(667294),l=n(145218),c=n(215499),u=n(211e3),s=["keys"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={preferences:["folder-preferences"],scopedMetadata:function(e){return["fsi",e.entityType,e.entityId]}};function p(e){var t=(0,l.useQueryClient)();return(0,i.useCallback)((function(){return t.invalidateQueries([f.preferences,e])}),[e,t])}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.useQuery)(m({queryKey:[f.preferences,e],queryFn:function(){return(0,u.Ey)({folderId:e})},select:function(e){var t;return null!==(t=null==e?void 0:e.preferences)&&void 0!==t?t:{}},cacheTime:0,refetchOnWindowFocus:!1},t))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,l.useQueryClient)();return(0,l.useMutation)(m({mutationFn:function(e){return(0,u.dh)(e)},onSuccess:function(){n.invalidateQueries([f.preferences,e])}},t))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"folder",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.useQuery)(m({queryKey:f.scopedMetadata({entityType:e,entityId:t}),queryFn:function(){return(0,u.s_)({entityType:e,entityId:t})},select:function(e){return e?e.map((function(e){var t=e.keys;return m(m({},(0,o.Z)(e,s)),{},{properties:Object.entries(t).map((function(e){var t=(0,r.Z)(e,2);return m({name:t[0]},t[1])})).sort(c.m)})})):[]}},n))}},421178:function(e,t,n){"use strict";n.d(t,{A5:function(){return g},Ne:function(){return v},OZ:function(){return p},Qu:function(){return f}});var r=n(204942),o=n(318450),a=n(388767),i=n(221842),l=n.n(i),c=n(731369);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="NEXTGEN_DASHBOARD_LAYOUT_CONFIG",m="NEXTGEN_DASHBOARD_PROJECTS",f=function(e){return(0,o.useQuery)(s({queryKey:[d],queryFn:function(){return(0,c.Hj)()},retry:o.shouldQueryRetry},e))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.useQueryClient)();return(0,a.useMutation)(s({mutationFn:function(e){return(0,c.es)(e)}},l()({onSuccess:function(){t.invalidateQueries([d])}},e)))},v=function(e){return(0,o.useQuery)(s({queryKey:[m],queryFn:c.kL,retry:o.shouldQueryRetry},e))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.useQueryClient)();return(0,a.useMutation)(s({mutationFn:function(e){return(0,c.$J)(e)}},l()({onSuccess:function(){t.invalidateQueries([m])}},e)))}},731369:function(e,t,n){"use strict";n.d(t,{$J:function(){return c},Hj:function(){return i},es:function(){return u},kL:function(){return l}});var r=n(23661),o=n(240701),a=n(154177),i=function(){return(0,r.ZP)(o.Z.NEXTGEN_HOME_DASHBOARD.LAYOUT_CONFIG).catch((0,a.I1)())},l=function(){return(0,r.ZP)(o.Z.NEXTGEN_HOME_DASHBOARD.RECENT_PROJECTS).catch((0,a.I1)())},c=function(e){return(0,r.ZP)(o.Z.NEXTGEN_HOME_DASHBOARD.RECENT_PROJECTS,{method:r.I5.POST,body:e}).catch((0,a.I1)())},u=function(e){return(0,r.ZP)(o.Z.NEXTGEN_HOME_DASHBOARD.LAYOUT_CONFIG,{method:r.I5.POST,body:e}).catch((0,a.I1)())}},336728:function(e,t,n){"use strict";var r=n(667294),o=n(460474),a=n(530472),i=n(50759),l=n(858229),c=n(986619);function u(e){var t=e.coordinates,n=e.location,o=e.onAction,a=e.onClose,u=e.selectedItems,s=e.integrationCallbacks,d=e.documentRoomId,m=n,f=(0,l.ZS)({selectedItems:u,documentRoomId:d,integrationCallbacks:s,location:m}),p=(0,c.A)({selectedItems:u,location:m});return r.createElement(i.Z,{coordinates:t,location:m,onAction:o,onClose:a,selectedItems:u,integrationCallbacks:s,documentRoomId:d,schema:f,computedActions:p})}t.Z=function(e){var t=e.coordinates,n=e.location,i=e.onAction,l=e.onClose,c=e.selectedItems,s=e.integrationCallbacks,d=e.documentRoomId;return(0,o.Z)("contextMenuRedesignEnabled")?r.createElement(u,{coordinates:t,location:n,onAction:i,onClose:l,selectedItems:c,integrationCallbacks:s,documentRoomId:d}):r.createElement(a.Z,{coordinates:t,location:n,onAction:i,onClose:l,selectedItems:c,integrationCallbacks:s,documentRoomId:d})}},465542:function(e,t,n){"use strict";n.d(t,{IC:function(){return r},Lc:function(){return a},P$:function(){return o}});var r={ANY:"any",CUSTOM:"CUSTOM"},o=-864e13,a=0xe677d21fdbff},633094:function(e,t,n){"use strict";n.d(t,{COMMON_DATE_RANGE_FILTER_KEYS:function(){return S.IC},CustomDateRange:function(){return y},DateRangeActions:function(){return O},DateRangeFilter:function(){return C},FixedDate:function(){return p},MAX_TIMESTAMP:function(){return S.Lc},MIN_TIMESTAMP:function(){return S.P$},createCustomRangeFilterValue:function(){return l.k_},createFixedDateFilterValue:function(){return l.eJ}});var r=n(529439),o=n(667294),a=n(779210),i=n(337995),l=n(528466),c="WESQa0QFoiwHIBjQJNtq",u=(0,o.createContext)(null),s=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("DateRangeFilter components must be used within DateRangeFilter");return e},d=n(583025),m=n(330759),f=n(264802);function p(e){var t=e.option,n=e.toggleDropdown,r=s(),a=r.selectedKey,i=r.onFixedDateSelect;return o.createElement(d.Z,{onClick:function(){i(t.value),null==n||n()},className:c,"data-tid":"fixed-date-".concat(t.value)},o.createElement(m.Z,{id:"fixed-date-".concat(t.value),checked:a===t.value,onChange:f.Z,size:m.Z.SIZES.S,label:t.label}))}var v=n(713147),g=n(762074),E=n(861750),b=(0,g.nD)("storage.columnFilter.dateRangeFilter");function y(e){var t=e.fromLabel,n=e.toLabel,r=e.minTimestamp,a=e.maxTimestamp,i=s(),u=i.customFromDate,p=i.customToDate,g=i.onCustomDateSelect,y=i.onCustomDateChange,h=i.isCustomRangeSelected,Z=t||b("fromLabel"),O=n||b("toLabel"),S=(0,o.useCallback)((function(){g()}),[g]),C=(0,o.useCallback)((function(e,t){y(e,t)}),[y]),I=(0,o.useMemo)((function(){return(0,l.gE)(u,p)}),[u,p]);return o.createElement(o.Fragment,null,o.createElement("span",{className:"kEjPfGGQqV9PlF_BJLty"},o.createElement(v.Z,null)),o.createElement(d.Z,{onClick:S,className:c,"data-tid":"custom-date-range"},o.createElement(m.Z,{id:"custom-date-range",checked:h,onChange:f.Z,size:m.Z.SIZES.S,label:b("custom")})),h&&o.createElement("div",{className:"GogtrKBYQaLBZ_HdpynX"},o.createElement("div",{className:"dwGeyh3ZjJXySc_oC_QV"},o.createElement(E.Z,{menuPlacement:"top",onChange:C,startTimestamp:null==u?void 0:u.getTime(),endTimestamp:null==p?void 0:p.getTime(),maxTimestamp:a,minTimestamp:r,hasFooter:!1,insideDropdown:!0,showSeparator:!1,fromLabel:Z,toLabel:O,focusToDateAfterFromChange:!1,classNames:{container:"dvozg4FRWy85aFwjfHcy"}})),I&&o.createElement("div",{className:"NcMxnirjIxBU8hLMlb8N Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},I)))}var h=n(557155),Z=(0,g.nD)("button.label");function O(e){var t=e.toggleDropdown,n=s(),r=n.isCustomRangeSelected,a=n.hasValidCustomRange,i=n.onCustomDateApply,l=n.onCustomDateCancel;return r?o.createElement(o.Fragment,null,o.createElement("div",{className:"_MbRXJywL3UTnegtLpoQ","data-tid":"custom-date-range-actions"},o.createElement(h.Z,{type:h.Z.SECONDARY,onClick:function(){l(),null==t||t()},size:"small"},Z("cancel")),o.createElement(h.Z,{type:h.Z.PRIMARY,onClick:function(){i(),null==t||t()},disabled:!a,size:"small"},Z("apply")))):null}n(899809);var S=n(465542),C=function(e){var t=e.customDateRangeKey,n=void 0===t?"CUSTOM":t,c=e.onChange,s=e.value,d=e.dateItemMappings,m=e.disabled,f=void 0!==m&&m,p=e.children,v=e.trigger,g=e.allowPartialRangeSelection,E=void 0!==g&&g,b=(0,o.useState)((null==s?void 0:s.dateKey)||null),y=(0,r.Z)(b,2),h=y[0],Z=y[1],O=(0,o.useState)((null==s?void 0:s.dateKey)===n&&s.from?new Date(s.from):void 0),S=(0,r.Z)(O,2),C=S[0],I=S[1],N=(0,o.useState)(null!=s&&s.to?new Date(s.to):void 0),w=(0,r.Z)(N,2),P=w[0],D=w[1],k=h===n;(0,o.useEffect)((function(){Z((null==s?void 0:s.dateKey)||null),(null==s?void 0:s.dateKey)===n?(I(s.from?new Date(s.from):void 0),D(s.to?new Date(s.to):void 0)):(I(void 0),D(void 0))}),[s,n]);var T=E?Boolean(C||P):Boolean(C&&P),R=(0,o.useCallback)((function(e){Z(e),I(void 0),D(void 0);var t=d.find((function(t){return t.value===e}));if(t){var n=t.dateResolver();c({dateKey:e,label:t.label,from:n.from,to:n.to})}}),[d,c]),A=(0,o.useCallback)((function(){Z(n)}),[n]),M=(0,o.useCallback)((function(e,t){I(e),D(t)}),[]),L=(0,o.useCallback)((function(){if(C||P){var e=C?C.getTime():void 0,t=P?P.getTime():void 0,r=(0,l.WX)(C,P);c({dateKey:n,label:r,from:e,to:t})}}),[C,P,n,c]),F=(0,o.useCallback)((function(){(null==s?void 0:s.dateKey)===n?(I(s.from?new Date(s.from):void 0),D(s.to?new Date(s.to):void 0)):(I(void 0),D(void 0),Z(null))}),[s,n]),j=(0,o.useMemo)((function(){return{selectedKey:h,customFromDate:C,customToDate:P,dateItemMappings:d,onFixedDateSelect:R,onCustomDateSelect:A,onCustomDateChange:M,onCustomDateApply:L,onCustomDateCancel:F,isCustomRangeSelected:k,hasValidCustomRange:T,allowPartialRangeSelection:E}}),[h,C,P,d,R,A,M,L,F,k,T,E]),_=(0,o.useCallback)((function(e){e||(F(),Z((null==s?void 0:s.dateKey)||null))}),[F,null==s?void 0:s.dateKey]);return o.createElement(u.Provider,{value:j},o.createElement(a.Z,{closeMenuOnClick:!1,trigger:v,disabled:f,onToggle:_},(function(e){var t=e.toggleDropdown;return o.createElement("div",{className:"UXCX_e3u64txHKD59RZN"},o.createElement(i.Z,null,o.Children.map(p,(function(e){return o.isValidElement(e)&&"string"!=typeof e.type?o.cloneElement(e,{toggleDropdown:t}):e}))))})))};C.FixedDate=p,C.CustomDateRange=y,C.DateRangeActions=O},899809:function(){},963214:function(e,t,n){"use strict";n.d(t,{wB:function(){return r.Z}});var r=n(340740);n(535473)},858229:function(e,t,n){"use strict";n.d(t,{_A:function(){return r._},ZS:function(){return Z}});var r=n(500947),o=n(667294),a=n(204942),i=n(604769),l=n(72722),c=n(136988),u=n(491067),s=n(17791),d=n(654777),m=n(26136),f=n(353487),p=n(406306),v=n(358156),g=n(840258),E=n(828800),b=n(652450);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=e.selectedItems,n=e.documentRoomId,r=e.integrationCallbacks,a=e.location,b=(0,u.q9)({selectedItems:t,integrationCallbacks:r}),y=(0,s.TP)({selectedItems:t,documentRoomId:n}),h=(0,v.MP)(),Z=(0,o.useMemo)((function(){return[h,(0,v.sL)({shouldGoToFolderPath:a!==c.GJ.STORAGE})]}),[h,a]),O=(0,d.x5)({selectedItems:t}),S=(0,m.PD)({item:t[0]}),C=(0,f.jC)({selectedItems:t,integrationCallbacks:r}),I=(0,p.uE)({selectedItems:t}),N=(0,E.bd)({selectedItems:t}),w=(0,o.useMemo)((function(){return[I,(0,p.fm)()]}),[I]),P=(0,l.ZP)({selectedItems:t}),D=(0,o.useMemo)((function(){return[(0,g.KY)(),P,(0,g.BM)(),(0,g.Ah)(),(0,g.GQ)(),(0,g._8)()]}),[P]);return(0,o.useMemo)((function(){return[(0,i.sS)({id:"primary-actions",actions:b}),(0,i.sS)({id:"secondary-actions",actions:y}),(0,i.sS)({id:"copilot-actions",actions:Z}),(0,i.sS)({id:"egnyte-actions",actions:w}),(0,i.sS)({id:"folder-actions",actions:D}),(0,i.sS)({id:"more-actions",actions:[N]}),(0,i.sS)({id:"integrations",actions:[C]}),(0,i.sS)({id:"file-properties-actions",actions:[S]}),(0,i.sS)({id:"destructive-actions",actions:O})]}),[b,y,Z,w,D,N,C,S,O])}h(h(h(h(h(h({},b.B),s.tT),v.R$),d.vX),m.MM),{},{INTEGRATIONS_SUBMENU_ID:f.Sc},g.O4)},207175:function(e,t,n){"use strict";n.d(t,{V:function(){return O}});var r=n(115861),o=n(364687),a=n.n(o),i=n(240701),l=n(23661);function c(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.ZP)(i.Z.NAVIGATE.WEBUI.ROOT({url:t}),{method:l.I5.POST});case 2:return n=e.sent,r=n.tempUrl,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s=n(145218),d=n(154177),m=n(96506),f=n(737067),p=n(264928),v=n(163123),g=n(397404),E=n(762074),b=n(289594),y=(0,g.Sh)().showNotification;function h(e){var t=(0,f._T)(v.ZP.location.pathname);return"".concat(t).concat(e)}function Z(){return Z=(0,r.Z)(a().mark((function e(t){var n,r,o,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:p.c4,!(0,m.On)()){e.next=9;break}return r=h(t),e.next=5,c(r);case 5:(o=e.sent)&&v.ZP.open(o,"_blank"),e.next=10;break;case 9:n(t);case 10:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function O(){return(0,s.useMutation)({mutationFn:function(e){var t=e.url,n=e.onWebNavigate;return(0,m.On)()&&(0,b.w)(),function(e){return Z.apply(this,arguments)}(t,n)},onSettled:function(){return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,m.On)()&&(0,b.F)();case 1:case"end":return e.stop()}}),e)})))()},onError:function(e){(0,d.k0)(e)&&403===e.response.status&&"USER_HAS_ACCESS_TO_DESKTOP_APP_ONLY"===e.data.error_code?y(g.em.error,(0,E.t)("error.desktopAppEmbeddedNotAllowedToAccessWebUIFeatures")):y(g.em.error,(0,E.t)("error.serviceUnavailable"))}})}},289594:function(e,t,n){"use strict";n.d(t,{F:function(){return p},w:function(){return f}});var r=n(115861),o=n(364687),a=n.n(o),i=n(667294),l=n(610861),c=n(32570),u=n(762074),s=n(140816),d=n(339282);function m(){return i.createElement(l.ZP.Body,null,i.createElement(s.E,{alignItems:"center",direction:"column",gap:2},i.createElement(c.Z,null),(0,u.t)("nextgenHomeDashboard.openingBrowser")))}function f(){(0,l.h7)(i.createElement(m,null),{"data-tid":"open-browser-loading-modal",withCloseButton:!1,size:l.ZP.sizes.AUTO})}function p(){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d._)(1e3);case 2:(0,l.GZ)();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},222784:function(e,t,n){"use strict";n.d(t,{l:function(){return d}});var r=n(487462),o=n(145987),a=n(667294),i=n(294184),l=n.n(i),c=n(499345),u=n(821442),s=["children","condensed"];function d(e){var t=e.children,n=e.condensed,i=(0,o.Z)(e,s);return a.createElement("div",{className:"Ymphe0Q1l0D1ptyGwhnt"},a.createElement(u.Z,(0,r.default)({variant:u.Z.variants.SUBTLE,className:l()("J30Yc86RYu5OZZhlMEy0",n&&"WPd4vgn6TbjmHc9OQUqu QspI3Sow0uF6jJWV3_4r")},i),a.createElement(c.Z,null,t)))}},739265:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z},c:function(){return O}});var r,o=n(204942),a=n(581502),i=n(986456),l=n.n(i),c=n(727484),u=n.n(c),s=n(266606),d=n(13764),m=n(57324),f=n(582512),p=n(891556);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(r={},(0,o.Z)(r,f.Z.TYPE.KEYS.ALL,"mix"),(0,o.Z)(r,f.Z.TYPE.KEYS.FOLDERS,"folder"),(0,o.Z)(r,f.Z.TYPE.KEYS.FILES,"file"),r);function b(e){var t,n=e.path,r=null!==a.default&&void 0!==a.default&&null!==(t=a.default.Storage)&&void 0!==t&&t.currentFolder?a.default.Storage.currentFolder.get("path"):void 0;return!!r&&!!n&&n.includes(r)}function y(e,t,n){var r=e.lastModifiedTimestamp,o=e.permission,a=e.recentFile,i=e.entryId,l=t.currentPage,c=t.perPage,s=t.models.findIndex((function(e){return e.get("entryId")===i})),f=p.Z.isMetadataUsed(t.metadataProperties),v=g(g({"Result Rank":l*c+s,"Item Type":(0,m.Oq)(e)?"gFile":e.type,"Last Modified":r?u()(r).format("MMM D, YYYY h:mmA"):null,"Location Filter":(t.getFilter("location")||{}).value?"current":"all","Type Filter":E[(t.getFilter("type")||{}).value],"Parent folder clicked":n,search_id:t.searchId,"Metadata Used":f,"Times Next Page Clicked":l,"User at least Editor":(0,d.zm)(o),Permissions:o,"Is Recent":a,"Is In Current Subtree":b(e)},function(e){return(0,m.qR)(e)?{}:{"File Extension":(0,m.RN)(e)}}(e)),function(e,t){return e?{Namespace:p.Z.getNamespace(t.metadataProperties)}:{}}(f,t));return v}function h(e,t){s.Z.track(e,t)}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h("Search: Results Click Open",l().extend(y(e,t,n)))}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h("Metadata Browse: Results Click Open",l().extend(y(e,t,n)))}},731557:function(e,t,n){"use strict";n.d(t,{up:function(){return V},Nv:function(){return B}});var r=n(93433),o=n(529439),a=n(667294),i=n(751581),l=n(887275),c=n(568874),u=n(704899),s=n(204942),d=n(145987),m=n(764063),f=n.n(m),p=n(890851),v=n(671002),g=n(949530),E=n(79145),b=n(563086),y=[p.m2[p.QW.MULTI_VALUE_STRING],p.m2[p.QW.ENUM]],h=function(e,t){if(null==e||!e.length)return[];var n=(0,r.Z)(e);if("string"==typeof n[0])return n.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}));if("object"===(0,v.Z)(n[0])){if(t)return n.sort((function(e,n){var r=String(e[t]).toLowerCase(),o=String(n[t]).toLowerCase();return r.localeCompare(o)}));throw new Error("parameterToSort is required")}throw new Error("Array contains unsupported elements")},Z=function(e){var t=(0,g.Z)(e);return{grouping:(0,a.useMemo)((function(){var e=new Map;return null!=t&&t.size?(t.forEach((function(t,n){var o=t.ui,a=t.displayName,i=t.namespaceDisplayName,l=t.type,c=t.data,u=t.schemaSystemGenerated;if(a){var s={key:n,data:h(c),sortKey:a,displayNames:{namespace:i,property:a,tag:o.modifiedDisplayName},type:l,ui:o},d=E.mk.CUSTOM_TAGS;u&&y.includes(l)&&(d=E.mk.RESTRICTED_TAGS),e.set(d,[].concat((0,r.Z)(e.get(d)||[]),[s]))}})),e.set(E.mk.RESTRICTED_TAGS,h(e.get(E.mk.RESTRICTED_TAGS)||[],"sortKey").filter((function(e){return!!e.data.length}))),e.set(E.mk.CUSTOM_TAGS,h(e.get(E.mk.CUSTOM_TAGS)||[],"sortKey").filter((function(e){var t=e.data,n=e.type;return!(0,b.iP)(n)||!!t.length}))),e):e}),[t]),propertiesMap:t}},O=n(169851),S=function(e){var t=(0,g.Z)(e);return{grouping:(0,a.useMemo)((function(){var n=new Map;return null!=t&&t.size?(null==e||e.forEach((function(e){var o=e.name,a=e.displayName,i=e.schemaSystemGenerated,l=e.properties,c=E.mk.CUSTOM_TAGS;i&&(c=E.mk.RESTRICTED_TAGS);var u={key:o,displayName:a||o,sortKey:a||o,tags:l.map((function(e){var n=(0,b.f9)(o,e.name);return C(n,t.get(n),a||o)})).filter(Boolean)};n.set(c,[].concat((0,r.Z)(n.get(c)||[]),[u]))})),n.set(E.mk.RESTRICTED_TAGS,I(n.get(E.mk.RESTRICTED_TAGS)||[],"sortKey").filter((function(e){return!!e.tags.length}))),n.set(E.mk.CUSTOM_TAGS,I(n.get(E.mk.CUSTOM_TAGS)||[],"sortKey").filter((function(e){return!!e.tags.length}))),n):n}),[t,e]),propertiesMap:t}},C=function(e,t,n){var r=t.ui,o=t.displayName,a=t.type,i=t.data;return o?{key:e,data:I(i),sortKey:o,displayNames:{namespace:n,property:o,tag:r.modifiedDisplayName},type:a,ui:r}:null},I=function(e,t){if(null==e||!e.length)return[];var n=(0,r.Z)(e);if("string"==typeof n[0])return n.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}));if("object"===(0,v.Z)(n[0])){if(t)return n.sort((function(e,n){var r=String(e[t]).toLowerCase(),o=String(n[t]).toLowerCase();return r.localeCompare(o)}));throw new Error("parameterToSort is required")}throw new Error("Array contains unsupported elements")},N=["properties"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=e.appliedFilters,n=e.path,i=e.prevAppliedFilters,l=(0,a.useState)([]),c=(0,o.Z)(l,2),u=c[0],s=c[1],m=(0,p.Ab)(),v=m.data,g=m.isLoading,E=m.mutate,b=(0,p.Ab)(),y=b.data,h=b.isLoading,C=b.mutate;(0,a.useEffect)((function(){n&&E({folderPaths:[n],customMetadata:[]})}),[n,E]);var I=u.length;(0,a.useEffect)((function(){g||f()(t,i)||C({folderPaths:[n],customMetadata:t.map((function(e){var t=e.namespace,n=e.operator;return{namespace:t,key:e.key,operator:n,value:e.value,values:e.values,range:e.range}}))})}),[t,C,i,n,g]),(0,a.useEffect)((function(){if(null!=v&&v.length&&(!I||null!=y&&y.length)){var e=(y||[]).reduce((function(e,t){return[].concat((0,r.Z)(e||[]),(0,r.Z)(t.properties))}),[]);s(v.map((function(t){var n=t.properties;return P(P({},(0,d.Z)(t,N)),{},{properties:n.map((function(t){return P(P({},t),{},{ui:{selectable:!!e.find((function(e){return e.name===t.name}))}})}))})})))}}),[y,v,h,I]);var w=function(e){return((0,O.Z)()?S:Z)(e)}(u);return{grouping:w.grouping,propertiesMap:w.propertiesMap,folderTagsPresenceMap:(0,a.useMemo)((function(){return(null!=v?v:[]).reduce((function(e,t){var n=t.name;return t.properties.forEach((function(t){var r=t.name;e.set("".concat(n,":").concat(r),!0)})),e}),new Map)}),[v]),finalTagList:u,folderContentTagsLoading:g,isNamespacesLoading:h}},k=n(69755),T=n(589698),R=n(752823),A=n(264802),M=[],L=[],F=[],j={},_=new Map,x=(0,a.createContext)({});function V(e){var t=e.children,n=e.folderPath,i=e.folderId,s=e.folderName,d=e.browseModeEnabled,m=e.refreshItems,f=(0,a.useState)((0,u.tu)()),p=(0,o.Z)(f,2),v=p[0],g=p[1],E=(0,a.useState)({}),b=(0,o.Z)(E,2),y=b[0],h=b[1],Z=(0,l.Z)(v),O=(0,a.useState)([]),S=(0,o.Z)(O,2),C=S[0],I=S[1],N=(0,k.Z)().setHideDisabledTags,w=(0,c.AY)(),P=(0,o.Z)(w,2)[1],A=D({appliedFilters:v,prevAppliedFilters:Z,path:n}),M=A.grouping,L=A.propertiesMap,F=A.folderTagsPresenceMap,j=A.folderContentTagsLoading,_=A.isNamespacesLoading,V=(0,l.Z)(d),B=(0,l.Z)(y),G=(0,a.useCallback)((function(e){g(e),e.length||N(!1)}),[N]),W=(0,a.useCallback)((function(){g([]),h({}),P([])}),[P]);(0,a.useEffect)((function(){void 0!==V&&V!==d&&W()}),[d,W,V]),(0,a.useEffect)((function(){var e=!(0,u.zT)(B||{})&&(0,u.zT)(y),t=!(0,u.Yf)(Z||[])&&(0,u.Yf)(v);(e||t)&&!d&&"function"==typeof m&&m()}),[v,y,d,Z,B,m,P]),(0,a.useEffect)((function(){var e=v.filter((function(e){return e.operator===T.H.HAS_KEY})).map((function(e){var t=e.namespace,n=e.key;return"".concat(t,":").concat(n)})),t=v.map((function(e){var t=e.namespace,n=e.key;return"".concat(t,":").concat(n)})),n=(0,r.Z)(e);C.forEach((function(e){t.includes(e)&&!n.includes(e)&&n.push(e)})),I(n)}),[v]);var U=(0,a.useMemo)((function(){return(0,R.P)(y)}),[y]),H=v.length>0||U.length>0,Y=(0,a.useMemo)((function(){return{appliedFilters:v,basicFilters:y,setBasicFilters:h,transformedBasicFilters:U,filtering:w,setAppliedFilters:G,clearAllFilters:W,hasAppliedFilters:H,folderTagsPresenceMap:F,isNamespacesLoading:_,folderContentTagsLoading:j,grouping:M,propertiesMap:L,propertiesWithHasKeyFallback:C,folderItem:{id:i,name:s,path:n}}}),[v,y,U,w,G,W,H,F,_,j,M,L,C,i,s,n]);return a.createElement(x.Provider,{value:Y},t)}function B(){var e=(0,a.useContext)(x);return(0,i.xb)(e)?{appliedFilters:M,basicFilters:j,setAppliedFilters:A.Z,setBasicFilters:A.Z,transformedBasicFilters:L,filtering:[[],function(){}],hasAppliedFilters:!1,namespaces:F,isNamespacesLoading:!1,folderContentTagsLoading:!1,grouping:_,folderTagsPresenceMap:_,propertiesMap:_,folderItem:null,propertiesWithHasKeyFallback:L}:e}},209279:function(e,t,n){"use strict";var r=n(667294);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=(0,r.useRef)(e),o=(0,r.useRef)(0);return(0,r.useEffect)((function(){n.current=e}),[e]),(0,r.useCallback)((function(){var e=Date.now();(0===o.current||e-o.current>=t)&&(o.current=e,n.current.apply(n,arguments))}),[t])}},151825:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var r=n(667294),o=n(136988),a=n(57324),i=n(421178),l=function(e,t,n,l){var c=(0,r.useRef)(!1),u=(0,i.A5)().mutate;(0,r.useEffect)((function(){if(e===o.GJ.STORAGE&&!c.current&&(0,a.fO)(t,n)){c.current=!0;var r=l.find((function(e){return e.rootFolderId===t}));u({recordTimestamp:Date.now(),object:{id:r.id,projectFolderId:t,projectFolderPath:r.path}})}}),[e,n,t,l,u])}},701729:function(e,t,n){"use strict";var r=n(487462),o=n(215671),a=n(143144),i=n(497326),l=n(360136),c=n(182963),u=n(661120),s=n(204942),d=n(667294),m=(n(19309),n(108679)),f=n.n(m),p=n(178820);t.Z=function(e){var t=function(t){(0,l.Z)(p,t);var n,m,f=(n=p,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(n);if(m){var r=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e;(0,o.Z)(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=f.call.apply(f,[this].concat(n)),(0,s.Z)((0,i.Z)(e),"state",{pending:!1}),e}return(0,a.Z)(p,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.autoFetch;t.on({request:this.onRequest,sync:this.onSync,error:this.onError,"reset sort":this.onCollectionChange,"add remove":this.onModelChange},this),n&&t.fetch()}},{key:"componentWillUnmount",value:function(){this.props.collection.off(null,null,this)}},{key:"onRequest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.silent||this.setState({pending:!0})}},{key:"onCollectionChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.silent||this.setState({pending:!1})}},{key:"onModelChange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.silent||this.setState({pending:!1})}},{key:"onSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.silent||this.setState({pending:!1})}},{key:"onError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.silent||this.setState({pending:!1})}},{key:"render",value:function(){var t=this.state.pending;return d.createElement(e,(0,r.default)({},this.props,{pending:t}))}}]),p}(d.Component);return f()(t,e),t.defaultProps={autoFetch:!0},t.displayName="WithBackboneCollection(".concat((0,p.Z)(e),")"),t}},880989:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(204942),o=n(529439),a=n(667294),i=n(294184),l=n.n(i),c=n(914578),u=n(356123),s=n(760866),d=n(379828),m=n(106664),f=n(579621),p=n(563086),v=n(762074),g=n(731557),E=n(407767),b=n(309753),y=n(69755),h=n(75161),Z=n(671002),O=n(307179),S=n(582512),C=n(635398),I=n(687873),N=n(332990),w=n(752823),P=n(704899);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=(0,v.nD)("browseMode.selectedFiltersPanel"),R=function(e){var t=e.folderName,n=e.insideGalleryView,i=void 0!==n&&n,v=(0,g.Nv)(),D=v.appliedFilters,R=v.setAppliedFilters,A=v.propertiesMap,M=v.basicFilters,L=v.filtering,F=(0,h.y6)(),j=F.namespaces,_=F.isFetchingNamespaces,x=(0,o.Z)(L,2),V=x[0],B=x[1],G=(0,b.Z)(D,A),W=G.tags,U=G.totalSelections,H=function(e){var t=e.name,n=e.owner,r=e.last_modified,o=[];if("string"==typeof(null==t?void 0:t.value)&&t.value.trim().length>=w.j&&o.push({key:C.iW.NAME,label:N.ci[C.iW.NAME],value:t.value}),null!=n&&n.value&&"object"===(0,Z.Z)(n.value)&&o.push({key:C.iW.OWNER,label:N.ci[C.iW.OWNER],value:(0,O.v2)(n.value.value)}),null!=r&&r.value&&"object"===(0,Z.Z)(r.value)&&(null==r?void 0:r.value.value)!==S.Z.TIME.KEYS.ANY){var a=r.value,i=(0,I.q6)({value:a.value,rangeStart:a.rangeStart,rangeEnd:a.rangeEnd},I.qL.CUSTOM,(0,I.aZ)());o.push({key:C.iW.LAST_MODIFIED,label:N.ci[C.iW.LAST_MODIFIED],value:(null==i?void 0:i.label)||""})}return{tags:o,totalSelections:o.length}}(M),Y=H.tags,K=H.totalSelections,z=(0,y.Z)().setHideDisabledTags,q=!U,Q=(0,a.useMemo)((function(){return i?null:null!=j&&j.length||_?U?null:a.createElement(m.nv,{color:"grey600"},a.createElement(m.bB,null,T("noTagsSelectedPrimary")),T("noTagsSelectedSecondary")):a.createElement(m.nv,{color:"grey600"},T("noTagsAppliedText",{folderName:t}))}),[j,U,t,_,i]);return i&&K<=0&&U<=0?null:a.createElement(a.Fragment,null,i&&a.createElement("div",{className:"bDY7sCMl7x5C9wdeW8Cl"}),a.createElement("div",{"data-tid":"selected-filters-panel",className:l()("N3_8IjhPC5Mc6mIpkswK",(0,r.Z)({},"UsEyqW3prS_xPFRlD1vK",i))},a.createElement("div",{className:"knRJ_gbAbctIavjNM6NT"},null!=Q?Q:a.createElement(u.Z,{renderViewMoreText:function(e){var t=e.count;return T("viewMoreText",{count:t})},viewLessText:T("viewLessText")},a.createElement(a.Fragment,null,Y.map((function(e){return a.createElement(s.Z,{"data-tid":e.key,key:e.key,label:e.label,options:[{label:e.value}],removeIconAriaLabelInBadge:T("removeIconAriaLabelInBadge"),removeIconAriaLabelInTooltip:T("removeIconAriaLabelInTooltip"),renderOptionsCountText:function(e){var t=e.count;return T("optionsCountText",{count:t})},onRemoveAll:function(){return t=e.key,n=V.map((function(e){return[C.iW.NAME,C.iW.OWNER].includes(t)&&t===e.id?k(k({},e),{},{value:k(k({},e.value),{},{value:null})}):t===C.iW.LAST_MODIFIED&&t===e.id?k(k({},e),{},{value:k(k({},e.value),{},{value:S.Z.TIME.KEYS.ANY})}):e})),void B(n);var t,n}})})),W.map((function(e){return a.createElement(s.Z,{"data-tid":e.ui.modifiedDisplayName,key:e.ui.modifiedDisplayName,label:e.ui.modifiedDisplayName,options:(0,P.e7)(e),removeIconAriaLabelInBadge:T("removeIconAriaLabelInBadge"),removeIconAriaLabelInTooltip:T("removeIconAriaLabelInTooltip"),renderOptionsCountText:function(e){var t=e.count;return T("optionsCountText",{count:t})},onRemoveAll:function(){return t=e.namespace,n=e.key,r=D.filter((function(e){var r=e.namespace,o=e.key;return!(r===t&&n===o)})),R(r),void(r.length||z(!1));var t,n,r},onRemoveSingle:function(t){return n=(0,p.f9)(e.namespace,e.key),r=t.label,o=(0,c.cloneDeep)(D).reduce((function(e,t){var o,a=(0,p.f9)(t.namespace,t.key)===n?t:null;return(0,p.E0)(null==a?void 0:a.operator)||(null!=a&&null!==(o=a.values)&&void 0!==o&&o.length?(a.values=a.values.filter((function(e){return e!==r})),e.push(a)):e.push(t)),e}),[]),void R(o);var n,r,o}})}))))),!i&&a.createElement("div",{className:"OhACKPJHSxQuKn6jPq76"},a.createElement(f.Z,{type:f.Z.TERTIARY,disabled:q,onClick:function(){R([]),(0,P.Tl)(),(0,E.VE)(),z(!1)}},a.createElement(f.Z.Icon,{icon:d.H}),a.createElement(m.nv,{type:"p2"},T("resetBtnCta"))))))}},823296:function(e,t,n){"use strict";n.d(t,{q:function(){return o},j:function(){return l}});var r=n(667294),o=function(e){var t=(0,r.useRef)([]),n=(0,r.useMemo)((function(){var n=null==e?void 0:e.find((function(e){return!t.current.some((function(t){return t.namespace===e.namespace&&t.key===e.key}))}));return n||((null==e?void 0:e.find((function(e){var n=t.current.find((function(t){return t.namespace===e.namespace&&t.key===e.key}));if(!n)return!1;if(e.operator!==n.operator)return!0;if(e.range||n.range){var r=e.range||{start:null,end:null},o=n.range||{start:null,end:null};if(r.start!==o.start||r.end!==o.end)return!0}var a=e.values||[e.value].filter(Boolean),i=n.values||[n.value].filter(Boolean);return JSON.stringify(a.sort())!==JSON.stringify(i.sort())})))||null)}),[e]);return(0,r.useEffect)((function(){t.current=e}),[e]),n},a=n(92242),i=n(704899);function l(){return(0,a.T)().hash.includes("".concat(i.BA,"=true"))}},407767:function(e,t,n){"use strict";n.d(t,{Bg:function(){return d},VE:function(){return c},Wv:function(){return l},cP:function(){return m},eo:function(){return p},fu:function(){return v},gi:function(){return s},pb:function(){return u},xM:function(){return f}});var r=n(266606),o=n(163221),a=n(739265),i=n(322130);function l(e){r.Z.track("Metadata Browse",{event:"Toggled: ".concat(e?"on":"off")})}function c(){r.Z.track("Metadata Browse",{event:"Cleared label selections"})}function u(){r.Z.track("Metadata Browse",{event:"Metadata search clicked"})}function s(e,t){(0,a.c)(e,t)}function d(e){var t=e.metadataLabelType,n=e.isMetadataApplied;r.Z.track("Metadata Browse",{"Metadata Type":t,"Metadata Applied":n})}function m(e){var t=e.collection,n=e.filters;(0,i.Z)(t,n,o.$.BROWSE_METADATA_VIEW)}function f(){r.Z.track("Metadata Browse",{event:"Global search triggered"})}function p(e){r.Z.track("Metadata Inline Edit Used",{metadataType:e})}function v(e){r.Z.track("Metadata Column Search Filter Used",{metadataType:e})}},169851:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(943886);function o(){return(0,r.T0)("newBrowseTaxonomyEnabled")}},69755:function(e,t,n){"use strict";var r=n(529439),o=n(81057);t.Z=function(){var e=(0,o.Z)("browseModeHideDisabledTags"),t=(0,r.Z)(e,2),n=t[0];return{setHideDisabledTags:t[1],hideDisabledTags:!0===n}}},949530:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(93433),o=n(529439),a=n(204942),i=n(667294),l=n(563086),c=n(589698);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t,n,r){if(t.displayName&&e){var a,i=[],c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(e.entries());try{for(c.s();!(a=c.n()).done;){var u=(0,o.Z)(a.value,2),m=u[0];u[1].displayName===t.displayName&&i.push(m)}}catch(e){c.e(e)}finally{c.f()}if(i.forEach((function(n){var o,a=e.get(n);a&&e.set(n,s(s({},a),{},{ui:s(s({},a.ui),{},{modifiedDisplayName:(0,l.RI)((null==r||null===(o=r.get(a.namespace))||void 0===o?void 0:o.displayName)||"",t.displayName||t.name)})}))})),i.length>0)return(0,l.RI)(n,t.displayName||t.name)}return t.displayName||t.name};function f(e){return(0,i.useMemo)((function(){var t=null==e?void 0:e.reduce((function(e,t){var n=t.name,r=t.displayName;return e.set(n,{name:n,displayName:r||n}),e}),new Map);return null==e?void 0:e.reduce((function(e,n){return n.properties.forEach((function(o){var a,i=(0,l.f9)(n.name,o.name),u=(0,r.Z)(o.data||[]);e.set(i,{key:o.name,namespace:n.name,namespaceDisplayName:n.displayName||n.name,name:o.name,displayName:o.displayName||o.name,type:o.type,data:u,ui:{modifiedDisplayName:m(e,o,n.displayName||n.name,t),selectable:null===(a=o.ui)||void 0===a?void 0:a.selectable},operator:(0,c.Z)().operatorsByType[o.type.toUpperCase()][0],schemaSystemGenerated:n.schemaSystemGenerated})})),e}),new Map)}),[e])}},309753:function(e,t,n){"use strict";var r=n(204942),o=n(529439),a=n(667294),i=n(563086);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=(0,a.useState)({tags:[],totalSelections:0}),r=(0,o.Z)(n,2),l=r[0],u=r[1];return(0,a.useEffect)((function(){if(null!=t&&t.size){var n=e.reduce((function(e,n){var r=n.namespace,o=n.key,a=n.values,l=n.value,u=n.range,s=n.operator,d=null==t?void 0:t.get((0,i.f9)(r,o));if(d){var m=null!=a&&a.length?d.data.filter((function(e){return a.includes(e)})):[],f=c(c({},d),{},{data:m,value:l,range:u,operator:s});e.tags.push(f),e.totalSelections+=f.data.length||1}return e}),{tags:[],totalSelections:0});u(n)}}),[e,t]),l}},563086:function(e,t,n){"use strict";n.d(t,{E0:function(){return d},JG:function(){return v},LA:function(){return m},QC:function(){return p},RI:function(){return g},f9:function(){return u},fu:function(){return f},iP:function(){return s},oU:function(){return E}});var r=n(93433),o=n(204942),a=n(79145);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,n(589698).Z)().operator.HAS_KEY,u=function(e,t){return[e,t].join("_")},s=function(e){return a.sS.includes(e)},d=function(e){return e===c},m=function(e){return e.reduce((function(e,t){return e[u(t.namespace,t.key)]=l({},t),e}),{})},f=function(e){return e.reduce((function(e,t){var n=t.id.split(":");return e[n[0]]=[n[1]].concat(e[n[0]]),e}),{})},p=function(e){var t=e.split("/"),n=t.slice(1,t.length-1).join(" / ");return{highlightedPath:t[t.length-1],notHighlightedPath:n}};function v(e){var t=e.key,n=e.value,a=e.checked,i=e.selectedPropertyMap,u=e.propertiesMap,d=null==u?void 0:u.get(t);if(!d)return{};var m,f,p,v,g=l({},i[t]||{namespace:d.namespace,key:d.key,operator:d.operator});s(d.type)?(g.values=a?[].concat((0,r.Z)((null===(m=g)||void 0===m?void 0:m.values)||[]),[n]):null===(f=g)||void 0===f||null===(p=f.values)||void 0===p?void 0:p.filter((function(e){return e!==n})),g=null!==(v=g.values)&&void 0!==v&&v.length?g:null):g=a?l(l({},g),t===n?{operator:c}:{value:n}):null;var E=l(l({},i),{},(0,o.Z)({},t,g));return g||delete E[t],E}var g=function(e,t){return"".concat(e).concat(":"," ").concat(t)},E=function(e){var t=e.namespaceDisplayName,n=e.propertyDisplayName,r=e.isPropertyDisabled,o=e.disabledTagsTooltip,a=g(t,n);return r?{tooltip:"".concat(a,"\n\n").concat(o),forceShowTooltip:!0}:{tooltip:a}}},983344:function(e,t,n){"use strict";n.d(t,{Y:function(){return et},Z:function(){return tt}});var r=n(487462),o=n(529439),a=n(145987),i=n(204942),l=n(667294),c=n(840048),u=n(163123),s=n(776327),d=n(153672),m=n(676447),f=n(57324),p=n(264928),v=n(982925),g=n(223901),E=(n(19309),n(787781)),b=n(369889),y=n(445401),h=n(217707),Z=n(85146),O=n(862045),S=n(805252),C=n(291176);function I(e){return e.models.filter((function(e){return!(0,S.zD)(e.get("path"))}))}var N=n(42594),w=n(347392),P=n(792189),D=n(151825),k=n(833922),T=n(979331),R=n(919),A=n(540810),M=n(96506),L=n(568070),F=n(264802),j=n(336728),_=n(473488),x=n(115861),V=n(364687),B=n.n(V),G=n(415992),W=n(823592),U=n(354111),H=n(460474),Y=n(450672),K=n(266606),z=n(680252),q=n(136988),Q=n(555492),J=n(928330),X=n(294184),$=n.n(X),ee=n(323063),te=n(535801),ne=n(796413),re=n(131093),oe=n(294520),ae=["type","id","className","location"];function ie(e){var t=e.type,n=e.id,i=e.className,c=e.location,u=void 0===c?q.GJ.STORAGE:c,s=(0,a.Z)(e,ae),d=(0,H.Z)("dragAndDrop"),m=(0,re.h)(),f=m.collection,p=m.onContextMenu,v=(0,oe.j)(),E=v.getSelectableItemProps,b=v.getSelectedItemsIds,y=v.deselectAll,h=f.get(n),O=f.findWhere({isNewUpload:!0,type:t})||f.findWhere({type:t}),S=(0,g.Wm)().data,C=void 0===S?[]:S,I=(0,l.useMemo)((function(){return(0,q.ZP)(h,{location:u,documentRooms:C})}),[h,C,u]),N=b(),w=N.includes(n),P=(0,J.T)({model:h,trackSource:"Folder Listing",getSelectedItems:function(){return f.filter((function(e){return N.includes(e.id)}))},begin:function(){f.filter((function(e){return N.includes(e.id)})).includes(h)||y()}}),D=(0,o.Z)(P,2),k=D[0].isDragging,T=D[1],R=(0,J.d)({model:h,trackTarget:"Folder Listing"}),A=(0,o.Z)(R,2),M=A[0],L=M.isOver,F=M.canDrop,j=A[1],_=(0,Q.Z)(),x=_.isHovered,V=_.hoverProps,B=(0,l.useMemo)((function(){return{model:h,isDragging:k,rowHovered:x,computedActions:I,onBoardingItemId:null==O?void 0:O.id}}),[h,k,x,I,null==O?void 0:O.id]),G=(0,l.useCallback)((function(e){p(e,h)}),[h,p]);return l.createElement(ne.Z.Provider,{value:B},l.createElement(te.X2,(0,r.default)({ref:function(e){t===ee.dt.FOLDER&&j(e),d&&T(e)},onContextMenu:G},V,E(n,{className:$()(i,L&&(F?"f5Jo9baMmLPSsHJik0Cg":"MZiAnYQvUrlLs9ZUZ4Fr"),(h.get("isNewItem")||h.get("isNewUpload"))&&"R49CgsEXtxP3TuYrqDcw",w&&Z.Z.selected)}),s)))}var le=(0,l.memo)(ie),ce=n(918233),ue={paginationEmbedded:"GnYSvhaY72VtmjZ28VbT",bodyRowEmbedded:"sIERVuaaWM2cZ7Z6RtxB T8XEek_2tINGYsNSybPn",paginationSpacingFix:"EMBfv9geSAS5juUPBx1E"},se=n(379683);function de(e){var t=e.pageIndex;return e.collection.hasMore||t>0?-1:0}var me=n(578073),fe=n(635398),pe=n(340313),ve=["children"];function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t=e.collection,n=e.name,i=e.viewMode,c=e.onChangePage,u=void 0===c?function(){}:c,s=e.noData,d=e.isLoading,m=e.pageIndex,f=e.pageSize,p=void 0===f?20:f,v=e.manualSortBy,g=void 0===v||v,E=e.columns,b=e.withHeader,h=e.persistState,Z=e.initialSortBy,O=e.list2Lines,S=e.autoResetResize,C=void 0===S||S,I=e.documentRoomId,P=e.useSortPreferences,D=void 0===P?Y.Z:P,k=e.disableCustomMetadataSort,T=void 0!==k&&k,R=e.components,A=(void 0===R?{}:R).FolderItemRowActions,M=e.onLoad,L=e.stickyColumnsEnabled,F=void 0!==L&&L,j=e.appliedFilters,_=e.showFilePath,V=(0,l.useRef)(null),Q=!!(0,H.Z)("isEditViewInFolderListingEnabled"),J=(0,oe.j)().deselectAll,X=(0,N.pL)()||(0,w.GB)(),$=D(),ee=(0,o.Z)($,2),te=ee[0],ne=te.sortField,re=te.sortOrder,ae=ee[1],ie=Z?[{id:Z.sortField,desc:Z.sortOrder===G.B.DESC}]:[{id:ne,desc:re===G.B.DESC}];(0,l.useEffect)((function(){function e(){var e;if(null!=t&&null!==(e=t.requestOverrides)&&void 0!==e&&e.length){var n,r,o=(null!==(n=t.requestOverrides.find((function(e){return"TOO_MANY_METADATA_ENTITIES"===e.reason})))&&void 0!==n?n:{}).sortApplied;o&&(null===(r=V.current)||void 0===r||r.toggleSortBy(o,!1))}}return t.on("sync error",e),e(),function(){t.off("sync error",e)}}));var ge=t.toArray();(0,l.useEffect)((function(){M&&M(V)}),[j,M]);var be=(0,l.useCallback)(function(){var e=(0,x.Z)(B().mark((function e(r){var o,a,i,l,c,u,s,d;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.sortBy,a=r.sortDirection,J(),i=E.find((function(e){return e.id===o}))){e.next=5;break}return e.abrupt("return");case 5:if(l=o!==t.sortField||a!==t.sortDirection,X||!Q||n===ce.af.SEARCH_VIEW){e.next=31;break}if(c="",u=null,s=o.replace(":","."),!i.isMetadataColumn&&!ce.QI.includes(o)){e.next=14;break}c=i.isMetadataColumn?ce.b5:o,e.next=18;break;case 14:return e.next=16,(0,se.fD)(t.path);case 16:u=e.sent,c=u.includes(s)?ce.b5:o;case 18:if(d="custom_metadata"===c&&s!==t.metadataToSortBy,!(c===ce.b5&&T||a===re&&ne===c&&!d||"owner"===c&&T)){e.next=21;break}return e.abrupt("return");case 21:if(u){e.next=25;break}return e.next=24,(0,se.fD)(t.path);case 24:u=e.sent;case 25:ae("sortField",c),ae("sortOrder",a),ae("metadataToSortBy","custom_metadata"===c?s:null),t.setSorting({sortField:c,sortDirection:a,metadataFields:u,metadataToSortBy:"custom_metadata"===c?s:null}),e.next=33;break;case 31:n!==ce.af.SEARCH_VIEW&&(ae("sortField",o),ae("sortOrder",a)),t.setSorting({sortField:o,sortDirection:a});case 33:l&&K.Z.track("Sort in listing view",Ee({sortOrder:o,sortField:a},(0,z.zs)()));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E,J,X,Q,n,t,T,ae,ne,re]),ye=t.totalPages||(void 0!==t.hasMore?de({pageIndex:m,collection:t}):0),he=(0,H.Z)("searchDynamicColumnEnabled"),Ze=(0,l.useCallback)((function(e){var t=e.children,o=(0,a.Z)(e,ve);return l.createElement(le,(0,r.default)({},o,{location:n===ce.af.SEARCH_VIEW?q.GJ.SEARCH:q.GJ.STORAGE}),t,A&&l.createElement(A,{documentRoomId:I}))}),[A,I,n]);return l.createElement(U.Z,{ref:V,className:ue.table,data:(0,W.xH)(ge),isLoading:d,name:n,features:{columnResize:!0,pagination:!0,sort:!0,persistState:!!n&&h,stickyHeader:!0,hideColumns:he,stickyColumns:(null==j?void 0:j.length)>0||F},condensed:i===ce.LV.CONDENSED,list2Lines:O&&he,autoResetResize:C,configuration:{initialState:{pageIndex:m,pageSize:p,sortBy:ie},manualPagination:!0,disableMultiSort:!0,disableSortRemove:!0,autoResetSortBy:!1,autoResetPage:!1,pageCount:ye,withHeader:b,showFilePath:_},Row:Ze,getHeaderProps:function(e){return[fe.iW.TAGS,pe.b2].includes(e.id)&&(e.render=function(){return l.createElement(me.Z,{columnId:e.id})}),{className:y.D}},getRowProps:function(e){var t=e.original;return{id:t.id,type:t.type,key:t.id}},manualSortBy:g,onSort:be,columns:E,onPageChange:u,noData:s,resetPaginationOn:[ne,re],"data-tid":i===ce.LV.CONDENSED?"condensed-list-view":"list-view"})}var ye=n(503560),he=n(601714),Ze=n(701729),Oe=n(906113),Se=n(295918),Ce=n(629825),Ie=n(7153);function Ne(e){var t=e.path;(0,f.qR)(e)?(0,Ie.openFolderInNativeFileBrowser)({path:t}):(0,Ie.openFileInNativeFileBrowser)({path:t})}var we,Pe=n(640655),De=n(576329),ke=n(821442),Te=n(365007),Re=n(261190),Ae=n(762074),Me=n(757440),Le=n(704899),Fe=n(599950),je=n(880989);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xe=(0,Ae.nD)("storage.actions");function Ve(e){var t=e.onClick,n=e.children,r=e.direction,o=e.isSorted,a=void 0===o||o;return l.createElement(ke.Z,{className:"_5Tcdt8lu76Bn5QVfUNfg L1NPGp0OArr9AgHvsxTA C7HhvVmv8inrSQjb607z eugzcnL4uVMlgbRkfTqa",onClick:function(){return t(a?void 0:Te.Q.asc)},"data-tid":"gallery-sort-button",variant:"SUBTLE"},n,l.createElement(Re.Z,{isSortedDesc:r===Te.Q.desc,tabIndex:-1,isSorted:a,"data-tid":"gallery-sort-icon"}))}var Be,Ge,We="owner",Ue=(we={name:"name",last_modified:"date",size:"size"},(0,i.Z)(we,We,"updatedBy"),(0,i.Z)(we,"index","index"),we),He=function(e){var t=e.collection,n=e.useSortPreferences,a=void 0===n?Y.Z:n,c=e.name,u=(0,oe.j)().getCheckboxAllProps,s=(0,Me.Z)(),d=a(),m=(0,o.Z)(d,2),f=m[0],p=m[1],v=c===ce.af.SEARCH_VIEW?t.sortField:f.sortField,g=c===ce.af.SEARCH_VIEW?t.sortDirection:f.sortOrder;"string"!=typeof v&&(v="name"),"string"!=typeof g&&(g=""),(0,l.useEffect)((function(){return t.on("sync change",s),function(){t.off("sync change",s)}}),[t,s]);var E=(0,l.useCallback)((function(e){var n=e||(g===Te.Q.asc?Te.Q.desc:Te.Q.asc);c!==ce.af.SEARCH_VIEW&&p("sortOrder",n),t.setSorting({sortField:v,sortDirection:n,metadataFields:(0,Fe.Jj)()}),K.Z.track("Sort in gallery view",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sortOrder:n,sortField:v},(0,z.zs)()))}),[g,v,p,t,c]),b=(0,Le.TY)(),h=Ue[v]&&!(v===We&&b);return l.createElement("div",{className:$()("Q5jxD8emc3je5IGOP1Yi",y.D)},l.createElement(De.Z,(0,r.default)({},u(),{"data-tid":"gallery-top-bar-checkbox"})),h&&l.createElement(Ve,{onClick:E,direction:g,isSorted:!!g},xe(Ue[v])),!b&&l.createElement(je.Z,{insideGalleryView:!0,folderName:t.path}))},Ye=(0,Ze.Z)((function(e){var t=e.collection,n=e.pageIndex,r=e.onChangePage,o=void 0===r?function(){}:r,a=e.isSelectable,i=e.noData,c=e.onFolderNavigationRequested,u=e.documentRoomId,s=e.useSortPreferences,d=e.topComponent,m=e.isLoading,v=e.name,g=e.onAccess,y=e.isContextMenuAvailable,h=(0,l.useRef)(),Z=(0,re.h)().location,O=(0,oe.j)().getSelectedItemsIds,N=(0,l.useCallback)((function(e){var n=e.model,r=e.ctrlPressed,o=e.openCommentsPanel,a=e.expandNamespaces,i=e.panelToOpen,l=n.get("path"),s=n.get("relativePath");if(null==g||g(n.get("id")),(0,M.hy)())Ne(n.toJSON());else if("folder"===n.get("type"))c({path:l,relativePath:s,ctrlPressed:r});else if((0,S.zD)(l)){var d,m,v;(0,C.Z)({navigateToFolder:p.uj,newTab:r,openPreview:b.ZP.run,shortcutPath:l,targetDownloadUrl:null==n||null===(d=n._self)||void 0===d||null===(m=d.linkedResources)||void 0===m||null===(v=m.itemDownload)||void 0===v?void 0:v.url})}else r?window.open((0,f.bW)(n,he.Z.getRootCfsUrl(),{})):b.ZP.run(n,I(t),{panelToOpen:i||o&&b.ZP.PANELS.COMMENTS,gotoFolderPath:"storage"!==Z?E.ZP.getParentPath(l):void 0,documentRoomId:u,expandNamespaces:a})}),[t,Z,c,u]),w=O().length>0,P=y&&w,D=P?{marginRight:"320px","--numberOfColumns":function(){if(h.current)return window.getComputedStyle(h.current).getPropertyValue("grid-template-columns").split(" ").length}(),"--minGalleryItemSize":"140px","--gridGap":"4px"}:{},k=t.totalPages||(void 0!==t.hasMore?de({pageIndex:n,collection:t}):0);return l.createElement("div",{className:"aoF_jIqhX90h3xWZOa8i"},a&&l.createElement(He,{name:v,useSortPreferences:s,collection:t}),0!==t.length||m?l.createElement(l.Fragment,null,null==d?void 0:d(N),l.createElement(ye.H,{ref:h,style:D,className:$()(P&&"kc01QnV858uaiSo_pgz4"),"data-tid":"gallery-view",isLoading:m},t.map((function(e){return l.createElement(Pe.Z,{key:e.get("id"),model:e,collection:t,access:N,isSelectable:a,documentRoomId:u})}))),(k>1||-1===k)&&l.createElement(Oe.Z,{className:"SR7GimJkYXQb4le6tEpD",totalPages:k,currentPage:n+1,onChange:o,isPaginationDisabled:m,canNextPage:!!t.hasMore||n<k-1})):i)})),Ke=n(249476),ze=n(658434),qe=["useSortPreferences","location","collection","isSelectable","onSelectionChange","parentRef","viewMode","displayPath","pageIndex","integrationCallbacks","persistState","folderNavigate","documentRoomId","showBadgeWithName"];function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=(Be={},(0,i.Z)(Be,ce.LV.GALLERY,Ye),(0,i.Z)(Be,ce.LV.LIST,be),(0,i.Z)(Be,ce.LV.CONDENSED,be),Be),$e=(Ge={},(0,i.Z)(Ge,ce.LV.GALLERY,{classes:{selecting:O.Z.selected,selected:O.Z.selected}}),(0,i.Z)(Ge,ce.LV.LIST,{classes:{selecting:Z.Z.selected,selected:Z.Z.selected}}),(0,i.Z)(Ge,ce.LV.CONDENSED,{classes:{selecting:Z.Z.selected,selected:Z.Z.selected}}),Ge);function et(e){var t,n,i,c,Z=e.useSortPreferences,O=e.location,x=e.collection,V=e.isSelectable,B=void 0===V||V,G=e.onSelectionChange,W=e.parentRef,U=e.viewMode,H=e.displayPath,Y=e.pageIndex,K=e.integrationCallbacks,z=e.persistState,q=e.folderNavigate,Q=e.documentRoomId,J=e.showBadgeWithName,X=(0,a.Z)(e,qe),$=Xe[U],ee=(0,l.useState)(null),te=(0,o.Z)(ee,2),ne=te[0],ae=te[1],ie=(n=(0,Ce.Z)().isSelected,i=(0,_.EN)().openState,c=((0,L.F8)()||{}).isContractsCopilotOpen,!((0,Se.hy)()||n||i||c));(0,m.Z)(x);var le=(0,k.t)(),ce=(0,o.Z)(le,1)[0],ue=(0,T.Z)(),se=ue.canViewKnowledgeBase,de=ue.canViewSmartAppContracts,me=(0,T.X)().updateGlobalCopilotOnSelectionChange,fe=(0,L.F8)(),pe=(null==fe?void 0:fe.handleSelection)||F.Z,ve=(0,y.Z)({containerRef:W,isSelectableEnabled:!!ie&&B&&!ce,onChange:G,options:$e[U]}),ge=ve.getSelectableItemProps,Ee=ve.getCheckboxProps,be=ve.getCheckboxAllProps,ye=ve.selectFunctions.deselectAll,he=ve.getSelectedItemsIds,Ze=ve.updateSelectableItems;(0,l.useEffect)((function(){Ze()}),[Ze,U,Y,x]),(0,l.useEffect)((function(){return s.ZP.on(s.ZP.Events.Storage.SELECTION.DESELECT_ALL,ye),function(){s.ZP.off(s.ZP.Events.Storage.SELECTION.DESELECT_ALL,ye)}}),[ye]),(0,l.useEffect)((function(){function e(){Ze()}return x.on("sync error change",e),function(){x.off("sync error change",e)}}),[x,Ze]);var Oe=he(),Ie=(0,l.useMemo)((function(){return x.filter((function(e){return Oe.includes(e.id)}))}),[Oe,x]),we=(0,P.tz)();(0,l.useEffect)((function(){return O===ze.Lm.STORAGE&&(0,_.TF)({selectedItems:Ie,location:O,integrationCallbacks:K}),function(){(0,_.TF)({selectedItems:[]})}}),[O,Ie,K]),(0,l.useEffect)((function(){we?pe({selections:Ie}):me({selectedItems:Ie})}),[Ie,we,pe,me]),(0,l.useEffect)((function(){return function(){me({selectedItems:[]}),pe({selections:[]})}}),[]);var Pe=(0,l.useCallback)((function(e,t){e.preventDefault(),ye(),ae({items:[t],x:e.clientX,y:e.clientY})}),[ye]),De=(0,v.Z0)().data,ke=(0,l.useMemo)((function(){return new Set(null==De?void 0:De.map((function(e){return e.rootFolderId})))}),[De]);(0,D.C)(O,null===(t=X.model)||void 0===t?void 0:t.get("id"),ke,De);var Te=(0,g.Wm)({options:{select:function(e){return new Set(e.map((function(e){return e.rootFolderId})))}}}).data,Re=(0,d.ZP)().data,Ae=(0,l.useCallback)((function(e){var t=e.path,n=e.relativePath,r=void 0===n?null:n,o=e.ctrlPressed,a=void 0!==o&&o;return q?q({path:r||t}):(0,p.uj)(t,a)}),[q]),Me=X.onAccess,Le=(0,l.useCallback)((function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null==Me||Me(e.id),(0,M.hy)())Ne(e);else{var o=(0,d.RM)(Re.workgroup),a=(0,h.D)(t),i=e.path,l=e.relativePath,c=(null==r?void 0:r.name)===Ke.l.ASK?{panelToOpen:R.$K.ASK,actionSource:A.Z.FILE_ROW}:{};if((0,f.qR)(e))Ae({path:i,relativePath:l,ctrlPressed:a});else if((0,S.zD)(n.get("path"))){var s,m,v;(0,C.Z)({navigateToFolder:p.uj,newTab:a,openPreview:b.ZP.run,shortcutPath:n.get("path"),targetDownloadUrl:null==n||null===(s=n._self)||void 0===s||null===(m=s.linkedResources)||void 0===m||null===(v=m.itemDownload)||void 0===v?void 0:v.url})}else if(a){var g=Je({},c);u.ZP.open((0,f.bW)(e,o,g))}else{var y=Je(Je({gotoFolderPath:"storage"!==O?E.ZP.getParentPath((0,N.DW)(e)):void 0,documentRoomId:Q,disableNavigateTrigger:(0,w.GB)()},c),we&&{navigationReturnUrl:u.ZP.location.hash});b.ZP.run(n,I(n.collection),y)}}}),[Me,Re.workgroup,Ae,O,Q,we]),Fe=(0,l.useMemo)((function(){return{collection:x,parentRef:W,displayPath:H,onContextMenu:Pe,location:O,viewMode:U,projectFolderIds:ke,documentRoomIds:Te,onAccess:Le,showCopilotVisualIndicatorBadge:J&&(se||de)}}),[U,x,W,H,Pe,O,ke,Te,Le,se,de,J]),je=(0,l.useMemo)((function(){return{getSelectableItemProps:ge,getCheckboxProps:Ee,getCheckboxAllProps:be,getSelectedItemsIds:he,deselectAll:ye}}),[ge,Ee,be,he,ye]),_e=(0,l.useCallback)((function(){null!=ne&&ne.items&&(ye(),ae(null))}),[ye,ne]),xe=(0,l.useCallback)((function(){ye(),ae(null)}),[ye]),Ve=(0,l.useMemo)((function(){var e;return null!==(e=null==ne?void 0:ne.items)&&void 0!==e?e:Ie}),[ne,Ie]);return l.createElement(re.Z.Provider,{value:Fe},l.createElement(oe.Z.Provider,{value:je},l.createElement($,(0,r.default)({useSortPreferences:Z,collection:x,isSelectable:B,viewMode:U,persistState:z,pageIndex:Y,onFolderNavigationRequested:Ae,documentRoomId:Q,showBadgeWithName:J,isContextMenuAvailable:ie},X)),!!Ve.length&&ie&&l.createElement(j.Z,{coordinates:ne,location:O,onAction:_e,onClose:xe,selectedItems:Ve,integrationCallbacks:K,documentRoomId:Q})))}function tt(e){return l.createElement(c.WG,null,l.createElement(et,e))}},131093:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(667294),o=(0,r.createContext)();function a(){return(0,r.useContext)(o)}t.Z=o},294520:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(667294),o=(0,r.createContext)();function a(){return(0,r.useContext)(o)}t.Z=o},249476:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r={ASK:"Ask"}},447841:function(e,t,n){"use strict";n.d(t,{$B:function(){return c},ZP:function(){return u}});var r=n(529439),o=n(667294),a=new(n(191472).Z),i="FOLDER_LISTING_COLUMN_NAMES_CHANGE_EVENT",l=[];function c(e){l=e,a.trigger(i,e)}function u(){var e=(0,o.useState)(l),t=(0,r.Z)(e,2),n=t[0],c=t[1];return(0,o.useEffect)((function(){return a.on(i,c),function(){return a.off(i,c)}}),[]),{columnNamesList:n}}},465999:function(e,t,n){"use strict";n.d(t,{N:function(){return c},Z:function(){return u}});var r=n(529439),o=n(667294),a=new(n(191472).Z),i="FOLDER_LISTING_NAMESPACE_PREFERENCE_CHANGE_EVENT",l={};function c(e){l=e,a.trigger(i,e)}function u(){var e=(0,o.useState)(l),t=(0,r.Z)(e,2),n=t[0],c=t[1];return(0,o.useEffect)((function(){return a.on(i,c),function(){return a.off(i,c)}}),[]),{namespacePreference:n}}},246900:function(e,t,n){"use strict";n.d(t,{Q:function(){return u},y:function(){return s}});var r=n(667294),o=n(96506),a=n(787781),i=n(207175),l=n(7153),c=n(867512);function u(e){var t=e.onClick,n=e.path,r=e.type,i=e.documentRoomId;return(0,o.On)()?{as:"button",onClick:function(e){e.stopPropagation(),e.preventDefault(),"folder"===r?(0,l.selectFolderInNativeFileBrowser)({path:n}):(0,l.selectFileInNativeFileBrowser)({path:n}),null==t||t(e)}}:{as:"a",href:(0,c.w)(a.ZP.getParentPath(n),i),onClick:t}}function s(e){var t=e.onOpen,n=e.link,a=(0,i.V)().mutate;return{open:(0,r.useCallback)((function(e){e.preventDefault(),(0,o.On)()?a({url:n}):t()}),[n,t,a])}}},345898:function(e,t,n){"use strict";n.d(t,{dy:function(){return oe},mh:function(){return ae},dh:function(){return re},ok:function(){return s},C6:function(){return m},nK:function(){return g},Ct:function(){return b},pH:function(){return C},rM:function(){return A},V2:function(){return j},hN:function(){return H},qm:function(){return J}});var r=n(667294),o=n(4845),a=n(476839),i=n(698607),l=n(762074),c=n(197545),u=function(e){return e.stopPropagation()};function s(e){var t=e.model,n=e.computedActions.Download.reason,s=(0,c.Z)({model:t,disabled:!!n}).onClick,d=n||(0,l.t)("storage.folder.label.download");return r.createElement(i.Z,{tooltip:d},r.createElement(o.Z,{type:o.Z.OUTLINED,onClick:s,disabled:!!n,onDoubleClick:u,icon:a.V3,"aria-label":(0,l.t)("storage.folder.label.download")}))}n(19309);var d=n(712255);function m(e){var t=e.model,n=e.computedActions.Download.reason,o=(0,c.Z)({model:t,disabled:!!n}).onClick,u=n||(0,l.t)("storage.folder.label.download");return r.createElement(i.Z,{tooltip:u},r.createElement(d.Z,{onClick:o,disabled:!!n,onDoubleClick:function(e){return e.stopPropagation()},icon:a.V3,hoverIcon:a.uQ}))}var f=n(704548),p=n(776327),v=function(e){return e.stopPropagation()};function g(e){var t=e.folderPermissionsAction,n=e.model,a=t.reason,c=(0,l.t)("storage.actionsInfo.folderPermissions"),u=a||c;return r.createElement(i.Z,{tooltip:u},r.createElement(o.Z,{"data-tid":"inline-folder-permissions--iconButton",type:o.Z.OUTLINED,onClick:function(){p.ch.SHOW_FOLDER_PERMISSIONS_SELECTED.trigger({folder:n,analyticsContext:"Inline Actions"})},disabled:!!a,onDoubleClick:v,icon:f.mc,"aria-label":c}))}var E=function(e){return e.stopPropagation()};function b(e){var t=e.folderPermissionsAction,n=e.model,o=t.reason,a=(0,l.t)("storage.actionsInfo.folderPermissions"),c=o||a;return r.createElement(i.Z,{tooltip:c},r.createElement(d.Z,{"data-tid":"inline-folder-permissions--tag",onClick:function(){p.ch.SHOW_FOLDER_PERMISSIONS_SELECTED.trigger({folder:n,analyticsContext:"Inline Actions"})},disabled:!!o,onDoubleClick:E,icon:f.mc,hoverIcon:f.Pn}))}var y=n(690415),h=n(918233),Z=n(921758),O=n(266606),S=n(460474);function C(e){var t=e.file,n=(0,S.Z)("imageSimilaritySearchExtensions");return r.createElement(i.Z,{tooltip:(0,l.t)("storage.actions.moreLikeThis")},r.createElement(o.Z,{type:o.Z.OUTLINED,onClick:function(){var e="file"===t.type&&n.includes(t.extension)?h.LV.GALLERY:"",r=t.name,o=t.id,a="entryId"in t&&t.entryId?t.entryId:t.id;O.Z.track("More Like This Row Action"),y.ZP.getMoreLikeThisSearchResults(a,o,r,e)},icon:Z.Vn,"aria-label":(0,l.t)("storage.actions.moreLikeThis"),"data-tid":"more-like-this-button"}))}var I=n(487462),N=n(145987),w=n(515917),P=n(823592),D=n(954033),k=n(912928),T=["model","trigger"];function R(e){e&&O.Z.track("Inline share open")}function A(e){var t=e.model,n=e.trigger,o=(0,N.Z)(e,T);return r.createElement(k.ZP,(0,I.default)({onToggle:R,trigger:n,folderItems:(0,P.xH)(t),placement:D.Z.INLINE_SHARE,dataPendoId:w.e.CONTEXT_MENU.MENU.INLINE},o))}var M=n(579621);function L(e){var t=e.disabled,n=e.icon,o=e.onClick,a=e.text,l=e.tooltipMsg;return r.createElement(i.Z,{tooltip:l},r.createElement(M.Z,{onClick:o,disabled:t,type:M.Z.SECONDARY},r.createElement(M.Z.Icon,{icon:n}),a))}function F(e){var t=e.disabled,n=e.icon,o=e.onClick,a=e.tooltipMsg,l=e.text;return r.createElement(i.Z,{tooltip:a||l},r.createElement(d.Z,{onClick:o,disabled:t,icon:n}))}function j(e){var t=e.onlyIcon,n=e.computedActions,o=e.documentRoomId,a=e.model,i=(0,k.WK)({computedActions:n,documentRoomId:o||void 0,folderItems:(0,P.xH)(a),placement:D.Z.INLINE_SHARE}).actions,l=(void 0===i?[]:i).find((function(e){if("actionName"in e){var t=e.actionName;return"SendPublicLink"===t||"SendFolderLink"===t}return!1}));if(!l)return null;var c=l.disabledReason,u=void 0===c?"":c,s=l.action,d=l.icon,m=l.text,f=!!u;return t?r.createElement(F,{icon:d,text:m,onClick:s,disabled:f,tooltipMsg:u}):r.createElement(L,{icon:d,text:m,onClick:s,disabled:f,tooltipMsg:u})}var _=n(499039),x=n(528348),V=n(468396),B=n(316461),G=function(e){return function(t){t.stopPropagation(),null==e||e(t)}};function W(e){var t=e.tooltipMsg,n=e.onClick,o=e.disabled,a=e.forwardedRef,c=(0,B.E)();return r.createElement(i.Z,{tooltip:t,placement:"top"},r.createElement(_.Z,{type:_.Z.ACTION,onDoubleClick:G(),onClick:G(n),disabled:o,ref:a,"data-pendoid":w.e.BUTTONS.INLINE_SHARE},r.createElement(M.Z.Icon,{icon:c?x.Z:V.m5}),(0,l.t)("storage.actions.share")))}var U=(0,r.forwardRef)((function(e,t){return r.createElement(W,(0,I.default)({forwardedRef:t},e))}));function H(e){var t=e.reason;return r.createElement(U,{disabled:!!t,tooltipMsg:t||(0,l.t)("storage.actions.share")})}var Y=n(799532),K=n(621465),z=function(e){return e.stopPropagation()};function q(e){var t=e.tooltipMsg,n=e.onClick,o=e.active,a=e.disabled,l=e.forwardedRef,c=(0,B.E)();return r.createElement(i.Z,{tooltip:t,placement:"top"},r.createElement(d.Z,{onDoubleClick:z,onClick:n,disabled:a,ref:l,icon:c?x.Z:V.p4,value:r.createElement(Y.Z,{icon:o?K.m5:K.Dd})}))}var Q=(0,r.forwardRef)((function(e,t){return r.createElement(q,(0,I.default)({forwardedRef:t},e))}));function J(e){var t=e.reason;return r.createElement(Q,{disabled:!!t,tooltipMsg:t||(0,l.t)("storage.actions.share")})}var X=n(567421),$=n(249476),ee=n(131093),te=n(540810),ne=function(e){return e.stopPropagation()};function re(e){var t=e.model,n=(0,ee.h)(),a=(0,r.useCallback)((function(e){e.stopPropagation();var r=(0,P.xH)(t)[0];O.Z.track("".concat($.l.ASK,": ").concat(te.Z.FILE_ROW)),null==n||n.onAccess(r,e,t,{name:$.l.ASK})}),[t,n]),c=(0,l.t)("button.label.ask");return r.createElement(i.Z,{tooltip:c},r.createElement(o.Z,{type:o.Z.OUTLINED,onClick:a,onDoubleClick:ne,icon:X.w2,"aria-label":(0,l.t)("button.label.ask")}))}function oe(e){var t=e.children;return r.createElement("div",{className:"QkYy2FQPMpafdkK2yXUZ"},t)}function ae(e){var t=e.children;return r.createElement("div",{className:"JZ4O2vsnP06iQbrqWOJv"},t)}},197545:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(667294),o=n(986456),a=n.n(o),i=n(318890),l=n(540810);function c(e){var t=e.model,n=e.disabled,o=(0,r.useCallback)((function(){(0,i.Z)(t,{actionSource:l.Z.FILE_ROW})}),[t]),c=(0,r.useMemo)((function(){return a().debounce(o,200,!0)}),[o]);return{onClick:(0,r.useCallback)((function(e){e.stopPropagation(),n||c()}),[c,n])}}},302808:function(e,t,n){"use strict";n.d(t,{InlineActionsGallery:function(){return K},InlineActionsGalleryForDesktop:function(){return z},InlineActionsListing:function(){return F},InlineActionsListingForDesktop:function(){return _}});var r=n(204942),o=n(529439),a=n(667294),i=n(540810),l=n(26346),c=n(19057),u=n(641822),s=n(576415),d=n(42594),m=n(345898),f=n(45697),p=n.n(f),v=n(294184),g=n.n(v);function E(e){var t=e.children,n=e["data-tid"],r=e.flex;return a.createElement("div",{"data-tid":n,className:g()(r&&"VvG5tVKBI91t2BevloNs")},t)}function b(e){var t=e.allowed,n=e.reason;return t||!t&&!!n}function y(e){var t=e.computedActions,n=e.file,r=e.allowedExtensions,o=t.MoreLikeThisOption,a=t.MoreLikeThisOptionForImages;return"folder"===n.type?o:r.includes(n.extension)?a:o}E.propType={children:p().node.isRequired,"data-tid":p().string.isRequired,flex:p().bool},n(722332);var h=n(779210),Z=n(762074),O=n(682832),S=n(871122),C=n(235025),I=n(175468),N=n(920552);function w(e){var t=e.model,n=e.collaboration,r=e.condensed,o=t.get("lock.owner"),i=n.isShown,l=n.isOngoing,c=n.name,u=n.action,s=n.prioritizedApps,d=n.defaultApp,m=n.disabledReason;return i?s.length>1?a.createElement(h.Z,{strategy:"fixed",trigger:r?a.createElement(S.Z,{tooltipMsg:(0,Z.t)("storage.actions.coEdit")}):a.createElement(O.Z,{action:u,name:c,owner:o,isCollaborationOngoing:l,disabledReason:m})},a.createElement(N.Z,{apps:s,defaultApp:d,isCollaborationOngoing:l,highlightDefaultApp:r})):u?r?a.createElement(C.Z,{onClick:u,name:c}):a.createElement(I.Z,{onClick:u,name:c,isCollaborationOngoing:l,owner:o,disabledReason:m}):null:null}var P=n(4845),D=n(704548),k=n(698607),T=n(319783),R=n(729625),A=function(e){return e.stopPropagation()};function M(e){var t=e.folderPermissionsAction,n=e.model,r=e.resource,o=e.portalKey,i=t.reason,l=(0,Z.t)("storage.actions.teamManagement");return a.createElement(k.Z,{tooltip:i||l},a.createElement(P.Z,{"data-tid":"inline-team-management--iconButton",type:P.Z.OUTLINED,onClick:function(){var e=n.attributes;(0,R.Z)({baseFolderId:r.rootFolderId,basePath:(0,T.dX)(r.path,{prependSlash:!0,appendSlash:!1}),folderPath:(0,T.mB)(r.path,(0,d.DW)(n)),name:e.name,resourceId:r.id,portalName:o})},disabled:!!i,onDoubleClick:A,icon:D.mc,"aria-label":l}))}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){var t=e.model,n=e.computedActions,f=e.documentRoomId,p=n.Download,v=n.FolderPermissions,g=(0,s.me)({folderId:t.id.toString(),folderPath:(0,d.DW)(t),permission:t.get("permission")}),h=(0,l.Z)({folderItem:t,placement:i.Z.FILE_ROW,computedActions:n,integrationCallbacks:{reload:function(){t.fetch()}}}),Z=h.isShown,O=(0,c.Z)(["imageSimilaritySearchExtensions","isAskRowActionEnabled"]),S=(0,o.Z)(O,2),C=S[0],I=S[1],N=t.toJSON(),P=I&&t.get("askPossible")&&!(0,u.jl)(),D=y({allowedExtensions:C,computedActions:n,file:N}).allowed,k=null==v?void 0:v.allowed;return a.createElement(m.mh,null,a.createElement(E,{"data-tid":"inline-share",flex:!0},a.createElement(m.rM,{model:t,trigger:m.hN,computedActions:n,documentRoomId:f})),Z&&a.createElement(E,{"data-tid":"inline-edit"},a.createElement(w,{model:t,collaboration:h})),k&&(g.showTeamManagement?a.createElement(E,{"data-tid":"inline-team-management"},a.createElement(M,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({folderPermissionsAction:v,model:t},g))):a.createElement(E,{"data-tid":"inline-folder-permissions"},a.createElement(m.nK,{folderPermissionsAction:v,model:t}))),b(p)&&a.createElement(E,{"data-tid":"inline-download",flex:!0},a.createElement(m.ok,{model:t,computedActions:n})),P&&a.createElement(E,{"data-tid":"inline-ask",flex:!0},a.createElement(m.dh,{model:t})),D&&a.createElement(E,{"data-tid":"inline-more-like-this"},a.createElement(m.pH,{file:N})))}var j=n(460474);function _(e){var t=e.computedActions,n=e.documentRoomId,r=e.model,o=(0,j.Z)("imageSimilaritySearchExtensions"),i=r.toJSON(),l=y({allowedExtensions:o,computedActions:t,file:i}).allowed;return a.createElement(m.mh,null,a.createElement(E,{"data-tid":"inline-share",flex:!0},a.createElement(m.V2,{computedActions:t,documentRoomId:n,model:r,onlyIcon:!1})),l&&a.createElement(E,{"data-tid":"inline-more-like-this",flex:!0},a.createElement(m.pH,{file:i})))}var x=n(889239),V=n(376127),B=n(981548),G=n(964280),W=n(712255),U=function(e){return e.stopPropagation()};function H(e){var t=e.folderPermissionsAction,n=e.model,r=e.resource,o=e.portalKey,i=t.reason,l=(0,Z.t)("storage.actions.teamManagement");return a.createElement(k.Z,{tooltip:i||l},a.createElement(W.Z,{"data-tid":"inline-team-management--tag",disabled:!!i,onClick:function(){var e=n.attributes;(0,R.Z)({baseFolderId:r.rootFolderId,basePath:(0,T.dX)(r.path,{prependSlash:!0,appendSlash:!1}),folderPath:(0,T.mB)(r.path,(0,d.DW)(n)),name:e.name,resourceId:r.id,portalName:o})},onDoubleClick:U,icon:D.mc,hoverIcon:D.Pn,"aria-label":l}))}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){var t=e.model,n=e.computedActions,o=e.documentRoomId,i=e.isLocked,c=e.isCompact,u=e.singleFile,f=e.collection,p=(0,j.Z)("commentsEnabled"),v=(0,j.Z)("folderListingShowInlineVersions"),g=(0,s.me)({folderId:t.id.toString(),folderPath:(0,d.DW)(t),permission:t.get("permission")}),y=(0,l.Z)({folderItem:t,computedActions:n,integrationCallbacks:{reload:function(){t.fetch()}}}),h=n.Download,Z=n.FolderPermissions,O=null==Z?void 0:Z.allowed,S=y.isShown,C=u&&!c&&v,I=u&&!c&&p;return a.createElement(m.dy,null,I&&a.createElement(E,{"data-tid":""},a.createElement(V.Z,{model:t,collection:f,notesCount:t.get("notes.count"),showCount:!1})),C&&a.createElement(E,{"data-tid":""},a.createElement(B.Z,{versionsCount:t.get("revisions.count"),showCount:!1,model:t})),i&&!S&&a.createElement(E,{"data-tid":""},a.createElement(x.Z,{model:t,unlock:function(){(0,G.Ds)([t],t.collection)}})),S&&a.createElement(E,{"data-tid":""},a.createElement(w,{condensed:!0,model:t,collaboration:y})),a.createElement(E,{"data-tid":"inline-share"},a.createElement(m.rM,{model:t,trigger:m.qm,menuPlacement:"bottom-end",computedActions:n,documentRoomId:o})),O&&(g.showTeamManagement?a.createElement(E,{"data-tid":"inline-team-management"},a.createElement(H,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({folderPermissionsAction:Z,model:t},g))):a.createElement(E,{"data-tid":"inline-folder-permissions"},a.createElement(m.Ct,{folderPermissionsAction:Z,model:t}))),b(h)&&a.createElement(E,{"data-tid":"inline-download"},a.createElement(m.C6,{model:t,computedActions:n})))}function z(e){var t=e.model,n=e.computedActions,r=e.documentRoomId,o=e.isCompact,i=e.singleFile,l=e.collection,c=(0,j.Z)("commentsEnabled"),u=(0,j.Z)("folderListingShowInlineVersions"),s=i&&!o&&u,d=i&&!o&&c;return a.createElement(m.dy,null,d&&a.createElement(E,{"data-tid":""},a.createElement(V.Z,{model:t,collection:l,notesCount:t.get("notes.count"),showCount:!1})),s&&a.createElement(E,{"data-tid":""},a.createElement(B.Z,{versionsCount:t.get("revisions.count"),showCount:!1,model:t})),a.createElement(E,{"data-tid":"inline-share"},a.createElement(m.V2,{onlyIcon:!0,model:t,documentRoomId:r,computedActions:n})))}},376127:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(529439),o=n(667294),a=(n(19309),n(450155)),i=n(762074),l=n(698607),c=n(980954),u=n(307179),s=n(369889),d=n(540810),m=n(855204),f=n(712255),p=n(970770),v=n(246900);function g(e,t){var n=(0,i.t)("storage.folder.label.comments",{count:e});return t?o.createElement(o.Fragment,null,n,o.createElement("div",{className:"qh5fJPQVFt1zUl2nZYXT"},(0,i.t)("storage.folder.label.lastComment",{name:t.author.fullName})),o.createElement("div",{className:"CGme4dXeHE9QM9D6sWiZ",dangerouslySetInnerHTML:{__html:t.message}})):n}function E(e){return e>99?"".concat(99,"+"):e}var b=function(e){var t=e.model,n=e.collection,i=e.showCount,b=void 0===i||i,y=e.className,h=void 0===y?"":y,Z=e.notesCount,O=void 0===Z?0:Z,S=(0,o.useState)(null),C=(0,r.Z)(S,2),I=C[0],N=C[1],w=(0,o.useRef)(null),P=(0,v.y)({link:p.Z.STORAGE.COMMENTS(t.get("id")),onOpen:function(){s.ZP.run(t,n,{panelToOpen:s.ZP.PANELS.COMMENTS,actionSource:d.Z.FILE_ROW})}}).open;function D(e){if(e.results.length){var t=(0,r.Z)(e.results,1)[0];t.message=(0,c.oN)(t.message),t.message=(0,c.ln)(t.message,t.mentioned),t.author.fullName=(0,u.v2)(t.author),N(t)}}function k(){clearTimeout(w.current)}return(0,o.useEffect)((function(){return function(){k()}}),[]),o.createElement(l.Z,{tooltip:g(O,I)},o.createElement(f.Z,{onClick:P,className:h,onMouseEnter:function(){w.current=setTimeout((function(){(0,m.sg)({folderItemId:t.id}).then(D)}),400)},onMouseLeave:k,"data-tid":"inline-comments",icon:a.PB,hoverIcon:a.kZ,value:b?E(O):void 0}))}},235025:function(e,t,n){"use strict";var r=n(667294),o=n(704548),a=n(698607),i=n(762074),l=n(712255);t.Z=function(e){var t=e.name,n=e.onClick;return r.createElement(a.Z,{tooltip:(0,i.t)("actions.collaboration.coEditInApp",{name:t})},r.createElement(l.Z,{onClick:n,onDoubleClick:function(e){return e.stopPropagation()},icon:o.Ot}))}},871122:function(e,t,n){"use strict";var r=n(487462),o=n(667294),a=n(704548),i=n(799532),l=n(621465),c=n(698607),u=n(712255);function s(e){var t=e.forwardedRef,n=e.tooltipMsg,r=e.onClick,s=e.active;return o.createElement(c.Z,{tooltip:n,placement:"top"},o.createElement(u.Z,{icon:a.Ck,hoverIcon:a.Ot,value:o.createElement(i.Z,{icon:s?l.m5:l.Dd}),onClick:function(e){null==e||e.stopPropagation(),r()},onDoubleClick:function(e){return e.stopPropagation()},ref:t}))}t.Z=(0,o.forwardRef)((function(e,t){return o.createElement(s,(0,r.default)({forwardedRef:t},e))}))},175468:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(667294),o=n(704548),a=n(579621),i=n(698607),l=n(307179),c=n(762074),u=n(373897);function s(e){var t=e.isCollaborationOngoing,n=e.owner,r=e.actionName;return t?(0,c.t)("actions.collaboration.tooltip.coeditedBy",{fullName:(0,l.v2)(n),email:null==n?void 0:n.email,action:r,context:(0,u.$)(n)?"you":""}):""}function d(e){var t=e.isCollaborationOngoing,n=e.name,l=e.owner,u=e.onClick,d=e.disabledReason,m=void 0===d?"":d;return r.createElement(i.Z,{tooltip:m||s({isCollaborationOngoing:t,owner:l,actionName:n})},r.createElement(a.Z,{type:a.Z.SECONDARY,onClick:u,"data-tid":"collaboration-button",onDoubleClick:function(e){return e.stopPropagation()},disabled:!!m},r.createElement(a.Z.Icon,{icon:o.Ck}),r.createElement("span",null,(0,c.t)("actions.collaboration.coEditInApp",{name:n}))))}},682832:function(e,t,n){"use strict";var r=n(487462),o=n(667294),a=n(704548),i=n(799532),l=n(621465),c=n(579621),u=n(762074),s=n(712255),d=n(175468),m=function(e){return e.stopPropagation()};function f(e){var t=e.forwardedRef,n=e.active,r=e.onClick,f=e.action,p=e.name,v=e.isCollaborationOngoing,g=e.owner,E=e.disabledReason,b=void 0===E?"":E,y=function(e){null==e||e.stopPropagation(),r(e)};return f?o.createElement("div",{ref:t},o.createElement(d.Z,{onClick:function(e){null==e||e.stopPropagation(),n&&r(),f()},name:p,isCollaborationOngoing:v,owner:g,disabledReason:b}),o.createElement(s.Z,{onDoubleClick:m,onClick:y,icon:n?l.m5:l.Dd})):o.createElement(c.Z,{ref:t,type:c.Z.SECONDARY,onClick:y,"data-tid":"collaboration-button",onDoubleClick:m},o.createElement(c.Z.Icon,{icon:a.Ck}),o.createElement("span",null,(0,u.t)("actions.collaboration.openWith")),o.createElement(i.Z,{icon:n?l.m5:l.Dd}))}t.Z=(0,o.forwardRef)((function(e,t){return o.createElement(f,(0,r.default)({forwardedRef:t},e))}))},920552:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(667294),o=n(337995),a=n(583025),i=n(499345),l=n(698607),c=n(762074),u=n(294595);function s(e){var t=e.apps,n=e.defaultApp,s=e.isCollaborationOngoing,d=e.highlightDefaultApp;return r.createElement(o.Z,null,t.map((function(e){var t=e.appId,o=e.name,m=e.iconUrl,f=e.action,p=e.disabledReason,v=e.isAllowed,g=e.entryActionId,E=(0,c.t)("actions.collaboration.coEditInApp",{name:o}),b=(null==n?void 0:n.appId)===t,y=s&&!v;return r.createElement(a.Z,{key:"".concat(t,"-").concat(g),onClick:f,disabled:y||!!p},r.createElement(l.Z,{tooltip:p},r.createElement("span",{className:"TZY_iKHnRMEa5lMKgKaG"},m&&r.createElement(u.Z,{className:"CugVt66SVlVtd2Wpkj4c",iconUrl:m}),r.createElement(i.Z,{tooltip:E,disableTooltip:!!p},r.createElement("span",{className:d&&b?"mS7rRFeBGqs0LnuLHGVz":void 0},E)))))})))}},981548:function(e,t,n){"use strict";var r=n(19309),o=n(667294),a=n(947124),i=n(762074),l=n(970770),c=n(698607),u=n(540810),s=n(302782),d=n(712255),m=n(246900);function f(e){return e>99?"".concat(99,"+"):e}function p(e){return e instanceof r.Z.Model?e.get("id"):e.id}t.Z=function(e){var t=e.versionsCount,n=e.showCount,r=void 0===n||n,v=e.className,g=void 0===v?"":v,E=e.model,b=(0,m.y)({link:l.Z.STORAGE.FILE_VERSION(p(E)),onOpen:function(){(0,s.Z)(E,{actionSource:u.Z.FILE_ROW})}}).open;return o.createElement(c.Z,{tooltip:(0,i.t)("storage.folder.label.versions",{count:t})},o.createElement(d.Z,{className:g,onClick:b,"data-tid":"inline-versions",icon:a.bd,hoverIcon:a.XV,value:r?f(t):null}))}},889239:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(204942),o=(n(19309),n(667294)),a=n(294184),i=n.n(a),l=n(445401),c=n(57324),u=n(704548),s=n(998876),d=n(762074),m=n(307179),f=n(698607),p=n(373897),v=n(136988),g=n(712255),E=function(e){var t=e.model,n=e.unlock,a=t.get("lock.owner"),E=(0,c.Uw)(t),b=!E&&(0,v.ZP)(t).Unlock.allowed,y=(0,p.$)(a)?"you":"",h=a?(0,d.t)("storage.folder.label.lockedBy",{fullName:(0,m.v2)(a),email:a.email,context:y}):"",Z=E?(0,d.t)("storage.folder.label.collaboration"):h;return o.createElement("span",{"data-tid":E?"collaboration-icon":"lock-icon"},o.createElement(f.Z,{tooltip:Z},o.createElement(g.Z,{className:i()(l.D,"ub9PQkeAhiZ7Fye9D7nS",(0,r.Z)({},"ASjD08kc2LLAEGjMcnb5",!(E||b))),disabled:!b,onClick:n,icon:E?u.Ck:s.hk,hoverIcon:E?u.Ot:s.Ml})))}},867512:function(e,t,n){"use strict";n.d(t,{w:function(){return l}});var r=n(601714),o=n(81809),a=n(42594),i=n(741127),l=function(e,t){var n="".concat(o.Z,"?embedded=true");return r.Z.isEmbedded()?"".concat(n,"#").concat(r.Z.getStorageFolderHash(e)):(0,a.pL)()&&t?"".concat(o.Z,"#").concat(i._j.FILES({documentRoomId:t,path:e})):"".concat(o.Z,"#").concat(r.Z.getStorageFolderHash(e))}},942457:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(667294),o=n(294184),a=n.n(o),i=n(762074),l=n(832997),c=n(549154),u=n(243077),s=n(621465),d=n(799532),m=n(698607),f=n(779210),p=n(337995),v=n(583025),g=n(579621),E=n(508589),b=n(460474),y=n(626311),h=n(918233),Z="WI9QJZZ9sST8KZopeVGi";function O(e){switch(e){case h.LV.CONDENSED:return l.m;case h.LV.GALLERY:return c.d;default:return u.pb}}var S=function(e){var t=e.viewModeList,n=void 0===t?[h.LV.LIST,h.LV.CONDENSED,h.LV.GALLERY]:t,o=e.viewMode,l=void 0===o?h.LV.LIST:o,c=e.onViewModeSelect,u=e.isAnySelected,S=e.className,C=void 0===S?"":S,I=(0,h.oP)(n),N=u?(0,i.t)("storage.actions.filesSelected"):(0,i.t)("storage.viewMode.label"),w=(0,b.Z)("fileListingColumnFiltersEnabled");return r.createElement(f.Z,{trigger:w?r.createElement("div",{className:a()(Z,C,E.D)},r.createElement(g.Z,{disabled:u,"data-tid":"view-mode-switcher","aria-label":(0,i.t)("storage.viewMode.label"),type:g.Z.TERTIARY_SUBTLE},r.createElement(m.Z,{tooltip:N},r.createElement("div",{className:Z},r.createElement(g.Z.Icon,{icon:O(l),customSize:"20px"}))),r.createElement(g.Z.Icon,{icon:s.Dd,customSize:d.Z.sizes.S}))):r.createElement(y.ij,{isAnySelected:u,className:Z,tooltipMsg:N,icon:O(l)}),className:E.D},r.createElement(p.Z,null,Object.values(I).map((function(e){return r.createElement(v.Z,{buttonClassName:"mode-".concat(e),checked:l===e,icon:O(e),key:e,onClick:function(t){t.preventDefault(),c(e)},"data-tid":e},(0,i.t)("storage.viewMode.mode",{context:e}))}))))}},626311:function(e,t,n){"use strict";n.d(t,{xZ:function(){return s},sl:function(){return Z},_O:function(){return N},ij:function(){return R}});var r=n(667294),o=n(762074),a=n(38638),i=n(515917),l=n(407767),c=(0,o.nD)("browseMode"),u="browseModeFolderNavigationPanelState";function s(e){var t=e.isExpanded,n=e.setExpanded,o=e.disableToggle,s=e.enableBrowseMode,d=e.onBrowseModeToggle;return r.createElement("div",{className:"lX9hODzySMbyqJIcUIn9"},r.createElement(a.Z,{disabled:o,checked:s,suffix:r.createElement("span",{"data-pendoid":i.e.BROWSE_MODE.BROWSE_BY_TAGS_TEXT},c("toggleSwitchTitle")),"aria-label":c("toggleSwitchTitle"),"data-tid":"browse-mode-toggle","data-pendoid":i.e.BROWSE_MODE.BROWSE_BY_TAGS_TOGGLE_BTN,onChange:function(e){var r=e.target.checked;r?(sessionStorage.setItem(u,t),n(!1)):(n("true"===sessionStorage.getItem(u)),sessionStorage.removeItem(u)),null==d||d(r),(0,l.Wv)(r)}}))}var d=n(487462),m=n(145987),f=n(367283),p=n(698607),v=n(355345),g=n(799532),E=n(957629),b=["searchView","isDefaultView"],y=(0,o.nD)("search.editView");function h(e,t){var n=e.searchView,o=e.isDefaultView,a=(0,m.Z)(e,b);return r.createElement(p.Z,{tooltip:y(o?n?"button.searchTooltip":"button.tooltip":"button.customViewTooltip")},r.createElement(f.Z,(0,d.default)({ref:t},a,{"data-tid":n?"search-edit-view":"folder-edit-view",chevron:!1,className:"vg48i1I17X2mhAes5pXH",icon:v.hI}),r.createElement("span",null,y("button.title")),!o&&r.createElement(g.Z,{icon:E.GP,size:"16px"})))}var Z=r.forwardRef(h),O=n(730824),S=["disabled","dataTid"],C=(0,o.nD)("storage.actions");function I(e,t){var n=e.disabled,o=e.dataTid,a=(0,m.Z)(e,S);return r.createElement(f.Z,(0,d.default)({disabled:n,icon:O.d7,"data-tid":o,ref:t},a),C("sort"))}var N=r.forwardRef(I),w=n(294184),P=n.n(w),D=n(508589),k=["isAnySelected","className","tooltipMsg","icon"];function T(e,t){var n=e.isAnySelected,o=e.className,a=e.tooltipMsg,i=e.icon,l=(0,m.Z)(e,k);return r.createElement(f.Z,(0,d.default)({disabled:n,className:P()(o,D.D),ref:t,"data-tid":"view-mode-switcher"},l),r.createElement(p.Z,{tooltip:a},r.createElement(g.Z,{icon:i,tabIndex:-1})))}var R=r.forwardRef(T)},635398:function(e,t,n){"use strict";n.d(t,{TD:function(){return c},iW:function(){return u},ib:function(){return s}});var r,o=n(204942),a=n(568874),i=n(125624),l=n(918233),c=(r={},(0,o.Z)(r,l.LV.LIST,i.iY.LIST),(0,o.Z)(r,l.LV.CONDENSED,i.iY.CONDENSED_LIST),r),u={SELECT:a.sH,NAME:"name",STATUS:"status",SIZE:"size",LAST_MODIFIED:"last_modified",OWNER:"owner",TAGS:"tagsCount"},s=[u.SELECT,u.NAME]},769783:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(805252);function o(e){var t=e.isDragging,n=e.folderItemName;return!t&&!(0,r.zD)(n)}},640655:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r=n(487462),o=n(204942),a=n(529439),i=n(667294),l=(n(19309),n(162134)),c=n(503560),u=n(323063),s=n(223901),d=n(928330),m=n(136988),f=n(57324),p=n(301245),v=n(460474),g=n(294184),E=n.n(g),b=n(369889),y=n(599950),h=n(294520),Z=n(131093),O=n(769783),S=n(392348),C=n(986456),I=n.n(C),N=n(217707),w=n(727484),P=n.n(w),D=n(663089);function k(e){e.stopPropagation()}var T=n(652421),R=n(621465),A=n(579621),M=n(445401),L=n(762074),F="Sb_uKEUhuYkmXKHI6ZMN",j=(0,L.nD)("storage.taggedLabels"),_=function(e){var t=e.labels,n=e.initialVisibleLabelsCount,r=(0,i.useState)(!1),o=(0,a.Z)(r,2),l=o[0],c=o[1],u=t.length-n;return i.createElement("section",{className:E()("oJdz1tEtbKrQlvbnBR4y",M.D)},i.createElement("div",{className:l?E()(F,"s9dSac5KleXBo3IPoeBR"):F},t.map((function(e){return i.createElement(T.Z,{type:T.Z.types.FILLED,size:T.Z.sizes.MEDIUM,uppercase:!1,className:"C2b02IUg4beb53o53ApA",key:e},e)}))),u>0&&i.createElement(A.Z,{type:A.Z.TERTIARY,onClick:function(){return c(!l)},className:"szUpOeKw24WAdc_a3jer"},i.createElement(A.Z.Icon,{icon:l?R.m5:R.XX}),j(l?"close":"showMore",{noOfLabelsRemaining:u})))},x=n(690415),V=n(79145),B=n(96506),G=n(302808);function W(e){var t=e.model,n=e.computedActions,r=e.documentRoomId,o=e.collection,a=e.isCompact,l=e.isLocked,c=e.singleFile;return(0,B.hy)()?i.createElement(G.InlineActionsGalleryForDesktop,{model:t,isCompact:a,singleFile:c,collection:o,documentRoomId:r,computedActions:n}):i.createElement(G.InlineActionsGallery,{model:t,isLocked:l,isCompact:a,singleFile:c,collection:o,documentRoomId:r,computedActions:n})}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={w:520,h:380},K=function(e){var t=e.model,n=e.collection,o=e.access,g=e.documentRoomId,C=e.className,w=void 0===C?"":C,T=e.isSelectable,R=e.style,A=void 0===R?{}:R,M=e.defaultLabelCount,L=void 0===M?2:M,F=(0,v.Z)("dragAndDrop"),j=(0,Z.h)(),B=j.onContextMenu,G=j.projectFolderIds,U=j.documentRoomIds,K=(0,h.j)(),z=K.getSelectableItemProps,q=K.getCheckboxProps,Q=K.getSelectedItemsIds,J=K.deselectAll,X=(0,d.d)({model:t}),$=(0,a.Z)(X,2),ee=$[0],te=ee.isOver,ne=ee.canDrop,re=$[1],oe=(0,v.Z)("documentRoomIndexingEnabled"),ae=(0,v.Z)("crossDomainFolderFeatureEnabled"),ie=(0,v.Z)("isClientPortalEnabled"),le=t.get("visualIndicators"),ce=ae&&(null==le?void 0:le.crossDomainFolder),ue=ie&&(null==le?void 0:le.documentPortalWorkspaceFolder),se=oe?t.get("index")||"-":"",de=Q(),me=(0,d.T)({model:t,getSelectedItems:function(){return n.filter((function(e){return de.includes(e.id)}))},begin:function(){n.filter((function(e){return de.includes(e.id)})).includes(t)||J()}}),fe=(0,a.Z)(me,2),pe=fe[0].isDragging,ve=fe[1],ge=function(e){var t=(0,s.Wm)().data,n=void 0===t?[]:t;return(0,i.useMemo)((function(){return(0,m.ZP)(e,{location:"storage",documentRooms:n})}),[e,n])}(t),Ee=function(e){var t,n=x.ZP.getFilters().showImageLabels,r=(0,v.Z)("imageClassificationEnabled"),o="images"===e.attributes.mimeType,a=window.location.href;if(!(o&&r&&n&&x.ZP.isSearchPath(a)))return[];var i=null===(t=e.get("customProperties"))||void 0===t?void 0:t.find((function(e){return e.id.namespace===V.ah&&e.id.key===V.fI}));return"string"==typeof(null==i?void 0:i.value)?i.value.split(","):(null==i?void 0:i.value)||[]}(t),be=(0,i.useCallback)((function(e){var t=(null==Ee?void 0:Ee.length)>0,n=t?b.ZP.PANELS.METADATA:null;o(H(H({},e),{},{expandNamespaces:t,panelToOpen:n}))}),[o,Ee]),ye=function(e,t,n){var r=(0,D.Z)(),o=(0,i.useState)(!1),l=(0,a.Z)(o,2),c=l[0],u=l[1],s=e.get("type"),d=e.get("lock.isLocked"),m=!!n.width&&n.width<175;(0,i.useEffect)((function(){return e.on("change",r),function(){e.off("change",r)}}),[e,r]);var f=(0,i.useCallback)((function(n){n.stopPropagation();var r=(0,N.D)(n);t({model:e,ctrlPressed:r})}),[t,e]),p=I().memoize((function(e){return P()(e).format(S.Jn.date)})),v=e.getInfo().singleFile;return{forceUpdate:r,isHovered:c,setIsHovered:u,type:s,isLocked:d,isCompact:m,singleFile:v,onAccess:f,getLastModifiedValue:p,handleMouseEnter:function(){u(!0)},handleMouseLeave:function(){u(!1)}}}(t,be,A),he=ye.type,Ze=ye.isLocked,Oe=ye.isCompact,Se=ye.singleFile,Ce=ye.onAccess,Ie=ye.getLastModifiedValue,Ne=ye.handleMouseEnter,we=ye.handleMouseLeave,Pe=(0,f.fO)(t.id,G),De=(0,p.gX)(t.id,U);return i.createElement(c.L,(0,r.default)({ref:function(e){he===u.dt.FOLDER&&re(e),F&&ve(e)}},z(t.id,{className:E()(w,te&&(ne?"xG3t42KiR39A06AC7ogG":"G_RtpfCFOXHCThZewQUQ"))}),{includeCheckbox:T,onAccess:Ce,onContextMenu:function(e){B(e,t)},onMouseEnter:Ne,onMouseLeave:we,style:A,"data-folder-item-type":he,name:t.get("name"),index:se,nameBadgeElement:i.createElement(y.PT,{items:[t.toJSON()]}),metadata:Ie(t.get("lastModifiedTimestamp")),isProcessing:t.get("processing"),isSelected:de.includes(t.id),isHighlighted:t.get("isNewItem")||t.get("isNewUpload"),getCheckboxProps:function(e){return q(t.id,e)},itemIcon:i.createElement(l.Z,{thumbnailUrl:t.get("thumbnailUrl")&&t.getThumbnailUrl(H(H({},Y),{},{type:"proportional"})),name:t.get("name"),type:t.get("type"),showProjectIcon:Pe,showDocumentRoomIcon:De,showCrossDomainFolderCheck:ce,showDocumentPortalWorkspaceIcon:ue}),inlineElements:(0,O.V)({isDragging:pe,folderItemName:t.get("name")})?i.createElement(i.Fragment,null,i.createElement("span",{onClick:k,onMouseUp:k},i.createElement(W,{model:t,computedActions:ge,isLocked:Ze,isCompact:Oe,singleFile:Se,collection:n,documentRoomId:g}))):void 0,labelsContent:null!=Ee&&Ee.length?i.createElement(_,{initialVisibleLabelsCount:L,labels:Ee}):null}))}},578073:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(204942),o=n(667294),a=n(294184),i=n.n(a),l=n(698607),c=n(474824),u=n(635398),s=n(340313),d=n(918233);function m(e){var t=e.columnId,n=e.size,a=(0,o.useMemo)((function(){var e;return(e={},(0,r.Z)(e,u.iW.TAGS,{name:(0,c.t)("storage.folder.label.tagsCount"),tooltip:(0,c.t)("storage.folder.label.tagsCountHeaderTooltip")}),(0,r.Z)(e,s.b2,{name:s._J.propertyDisplayName,tooltip:"".concat(s._J.namespaceDisplayName,": ").concat(s._J.propertyDisplayName)}),e)[t]}),[t]);return o.createElement(l.Z,{tooltip:a.tooltip},o.createElement("div",{className:i()("y7w5otbBGvXdbir6AH3T eugzcnL4uVMlgbRkfTqa",(0,r.Z)({},"U9EznCmM8SMnhIEw2SJa Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6",n===d.LV.CONDENSED))},a.name))}},627872:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r=n(487462),o=n(667294),a=n(762074),i=n(153672),l=n(294184),c=n.n(l),u=n(173297),s=n(698607),d=n(162134),m=n(722332),f=n(787781),p=n(222784),v=n(499345),g=n(599950),E=n(368354),b=n(761739),y=n(246900);function h(e){var t=e.name,n=e.disableTooltip,i=void 0!==n&&n,l=e.className,u=e.displayPath,s=e.path,d=void 0===s?"":s,m=e.onClick,h=e.onPathClick,Z=e.folderDescription,O=e.condensed,S=e.previewInaccessible,C=void 0!==S&&S,I=e.documentRoomId,N=void 0===I?"":I,w=e.showCopilotIndicatorBadge,P=e.customProperties,D=e.entryId,k=e.type,T=e.id,R=f.ZP.getParentPath(d);return o.createElement("div",{className:c()("name",l)},o.createElement("button",{type:"button",onClick:m,className:b.Z.nameButton},o.createElement("span",{className:b.Z.nameWrapper},o.createElement(v.Z,{className:"item-name",disableTooltip:i,onMouseUp:function(e){return e.stopPropagation()}},(0,E.q)(t)),o.createElement(g.PT,{items:[{customProperties:P,entryId:D,id:T,name:t,path:d}]}),w)),u&&o.createElement(p.l,(0,r.default)({condensed:O},(0,y.Q)({path:d,onClick:h,type:k,documentRoomId:N})),R),!u&&Z&&o.createElement(v.Z,{className:b.Z.description,disableTooltip:i},Z),C&&o.createElement(v.Z,{className:b.Z.description},(0,a.t)("storage.inaccessibleFile.message")))}var Z=n(351910),O=n(508589),S=n(301245),C=n(57324),I=n(13764),N=n(42594),w=n(69727),P=n(460474),D=n(836096),k=n(796413),T=n(131093),R=n(918233),A=n(767714),M=n(652421),L=n(69330),F=n(821442),j=n(264802),_="LZXscbY6kv3kJYooS64w",x="zYSOzG7EgC5KEGUZU2j2",V=(0,a.nD)("knowledgeBaseAssistant"),B=(0,a.nD)("smartAppContract");function G(e){var t=e.showKnowledgeBaseIndicatorBadge,n=e.showSmartAppIndicatorBadge,r=e.enableButton,i=void 0!==r&&r;return o.createElement("div",null,o.createElement("ul",{className:"u2hqfnwRIFnURc6zWTBJ"},t&&o.createElement("li",{className:_},o.createElement("span",{className:x},V("folderListing.visualIndicator")),i&&o.createElement(F.Z,{onClick:j.Z},(0,a.t)("button.label.open"))),n&&o.createElement("li",{className:_},o.createElement("span",{className:x},B("folderListing.visualIndicator")),i&&o.createElement(F.Z,{onClick:j.Z},(0,a.t)("button.label.open")))))}var W=n(451545),U=n(619755),H=(0,a.nD)("smartAppContract");function Y(){return o.createElement(F.Z,{as:"a",href:"https://egnyte.egnyte.com/dl/TkngTkgwaP",onClick:U.noop,target:"_blank"},H("badge.learnMore"),o.createElement(F.Z.Icon,{icon:W.g}))}var K=(0,a.nD)("knowledgeBaseAssistant"),z=(0,a.nD)("smartAppContract");function q(e){var t=e.testId,n=e.text;return o.createElement(M.Z,{icon:L.Lk,color:M.Z.COOL_GRAY,uppercase:!1,size:M.Z.sizes.MEDIUM,"data-tid":t},o.createElement(v.Z,{disableTooltip:!0},n))}var Q=function(e){var t=e.showSmartAppIndicatorBadge,n=e.showKnowledgeBaseIndicatorBadge,r=function(e){var t=e.showKnowledgeBaseIndicatorBadge;return t&&e.showSmartAppIndicatorBadge?"".concat(K("folderListing.visualIndicator")," +1"):t?K("folderListing.visualIndicator"):z("folderListing.visualIndicator")}({showKnowledgeBaseIndicatorBadge:n,showSmartAppIndicatorBadge:t});return n&&!t?o.createElement("div",{className:"IdkcEhO39qHHW1Wc5e5y"},o.createElement(q,{text:r,testId:"knowledge-base-badge"})):t&&!n?o.createElement(s.Z,{tooltip:z("badge.toolTip"),actions:o.createElement(Y,null)},o.createElement("span",null,o.createElement(q,{text:r,testId:"smart-app-badge"}))):o.createElement(s.Z,{actions:o.createElement(G,{showSmartAppIndicatorBadge:!0,showKnowledgeBaseIndicatorBadge:!0}),tooltip:z("badge.listTitle")},o.createElement("span",null,o.createElement(q,{text:r,testId:"multiple-smart-apps-badge"})))};function J(e){var t,n=e.onBoardingItemId,r=e.projectFolder,o=e.model,a=o.get("type"),i=null===(t=o.get("mimeType"))||void 0===t?void 0:t.toLowerCase(),l=(0,D.Z)((0,C.p5)(o));if(n===o.id&&a===m.Z.FOLDER)return"[createSharedFolder.goToFolder]";if(a===m.Z.FOLDER&&r)return"[aecProjectCollaborationAECSpecific.init]";if(a===m.Z.FILE&&l===w.ox.SAMPLE_PROJECT_FOLDER){if(i===w.LO.DWG)return"[aecFileUnification.selectDwgFile]";if(i===w.LO.PDF)return"[pdfFilePreview.init]"}return null}function X(e){return(0,N.pL)()&&e.relativePath||e.path}function $(e){var t,n,l,m,f,p,v,g=e.value,E=e.column,b=e.showFilePath,y=void 0===b||b,N=(0,i.ZP)().data,w=(0,T.h)(),D=w.displayPath,M=w.viewMode,L=w.documentRoomIds,F=w.projectFolderIds,j=w.onAccess,_=w.showCopilotVisualIndicatorBadge,x=(0,k.o)(),V=x.isDragging,B=x.model,G=x.onBoardingItemId,W=(0,P.Z)("isDocumentsDraftModeEnabled"),U=g.previewRestriction,H=g.permission,Y=g.entryType,K=g.id,z="collab_graph"===Y,q=z?u.N:null,$=H===I.vk.ViewerOnly&&!1===(null==U?void 0:U.previewable),ee=W&&(0,C.qR)(g)&&g.path===(0,Z.hF)(N.user),te=(0,o.useCallback)((function(e){var t;e.stopPropagation(),null===(t=E.onAccess)||void 0===t||t.call(E,{folderItem:g,defaultAction:function(){return j(g,e,B)}})}),[g,B,E,j]),ne=null===(t=g.visualIndicators)||void 0===t?void 0:t.crossDomainFolder,re=(0,C.fO)(K,F),oe=(0,S.gX)(K,L),ae=null===(n=g.visualIndicators)||void 0===n?void 0:n.documentPortalWorkspaceFolder,ie=((null===(l=g.visualIndicators)||void 0===l?void 0:l.knowledgeBaseFolder)||(null===(m=g.visualIndicators)||void 0===m?void 0:m.smartAppContractsFolder))&&_;return o.createElement("div",(0,r.default)({className:A.Z.item,"data-onboarding":J({onBoardingItemId:G,projectFolder:re,model:B})},ee&&{"data-pendoid":"create-document-drafts-folder-name-wrapper"}),o.createElement(s.Z,{tooltip:(0,a.t)(ne?"storage.folder.label.crossDomainFolder":"storage.recentItems.recommendedFileTip"),disabled:!z&&!ne},o.createElement("button",{type:"button",className:c()(O.D,A.Z.icon),"data-onboarding":g.onBoardingIcon,onClick:te,"aria-label":"Thumbnail"},o.createElement(d.Z,{thumbnailUrl:g.thumbnailUrl,name:g.name,key:g.name,type:g.type,overlayIcon:q,overlayIconColor:"blue",showStdUserAccessCheck:null===(f=g.visualIndicators)||void 0===f?void 0:f.standardUserAccess,showCrossDomainFolderCheck:ne,showProjectIcon:re,showDocumentRoomIcon:oe,showDocumentPortalWorkspaceIcon:ae}))),o.createElement("div",{className:c()(O.D,A.Z.name)},o.createElement(h,{className:A.Z.name,name:g.name,path:X(g),documentRoomId:null==g?void 0:g.documentRoomId,folderDescription:g.folderDescription,onClick:te,onPathClick:function(e){var t;e.stopPropagation(),null===(t=E.onPathClick)||void 0===t||t.call(E,e)},disableTooltip:V||ie,displayPath:D&&y,condensed:M===R.LV.CONDENSED,previewInaccessible:$,showCopilotIndicatorBadge:ie&&o.createElement(Q,{showKnowledgeBaseIndicatorBadge:(null===(p=g.visualIndicators)||void 0===p?void 0:p.knowledgeBaseFolder)&&_,showSmartAppIndicatorBadge:(null===(v=g.visualIndicators)||void 0===v?void 0:v.smartAppContractsFolder)&&_}),customProperties:g.customProperties,entryId:g.entryId,id:g.id,type:g.type})))}var ee=(0,o.memo)($)},178644:function(e,t,n){"use strict";var r=n(667294),o=n(753470),a=n(172643),i=n(307179);t.Z=function(e){var t=e.value;return r.createElement(o.Z,{value:(0,a.Z)((0,i.v2)(t))})}},974868:function(e,t,n){"use strict";var r=n(667294),o=n(753470),a=n(172643),i=n(57324),l=n(787781);t.Z=function(e){var t=e.value;return r.createElement(o.Z,{maxLength:6,value:(0,a.Z)((0,i.Oq)(t)?null:l.ZP.dataSize(t.size))})}},422825:function(e,t,n){"use strict";n.d(t,{Z:function(){return le}});var r=n(667294),o=n(57324),a=n(460474),i=n(445401),l=n(964280),c=n(805252),u=n(529439),s=n(204942),d=n(294184),m=n.n(d),f=n(227654),p=n(955010),v=n(495238),g=n(355345),E=n(799532),b=n(652421),y=n(762074),h=n(698607),Z=n(499345),O=n(487462),S=n(973935),C=n(376507),I=n(731264),N=n(4845),w=n(722610),P=n(532144),D=n(559090),k=[{name:"offset",options:{offset:function(e){return[0,-e.reference.width]}}},{name:"flip",options:{fallbackPlacements:[P.Z.placements.STATIC.TOP,P.Z.placements.STATIC.BOTTOM]}}],T={strategy:"fixed",placement:P.Z.placements.STATIC.BOTTOM,modifiers:k};function R(e){var t=e.referenceElement,n=e.onClose,o=e.children,a=e.popoverTitle,i=(0,C.Z)("cross-domain-folder-popover-portal"),l=(0,I.Z)(i);return(0,S.createPortal)(r.createElement("div",{className:"jaclivxnYU7IUHzF2kDi"},r.createElement(P.Z,{referenceElement:t,onClose:n,popperOptions:T},r.createElement("div",(0,O.default)({className:"TLFpC_1hVsIv_GuouGtF"},D.Z),r.createElement("div",{className:"BfZ7S56eMb6n_v91Y4v9"},r.createElement("div",{className:"yeNpfL3oGfMGnR1XTiXC di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR","data-tid":"popover-title"},a),r.createElement(N.Z,{"data-tid":"popover-icon",icon:w.xv,onClick:n,"aria-label":(0,y.t)("button.label.close")})),r.createElement("div",{className:"nV63G7N2gyxhKHzSuLNj"},o)))),l.current)}var A,M=n(918233),L=(A={},(0,s.Z)(A,M.Rs.CONNECTED,f.Z),(0,s.Z)(A,M.Rs.INITIAL_SYNC,p.V),(0,s.Z)(A,M.Rs.ERROR,v.O),(0,s.Z)(A,M.Rs.CONNECTED_WITH_ERROR,f.Z),(0,s.Z)(A,M.Rs.REQUESTED,v.O),(0,s.Z)(A,M.Rs.PENDING,v.O),(0,s.Z)(A,M.Rs.EXPIRED,v.O),(0,s.Z)(A,M.Rs.INTERNAL_REVIEW,g.hI),A);function F(e){var t=e.className,n=e.crossDomainInfo,o=(0,r.useState)(!1),a=(0,u.Z)(o,2),i=a[0],l=a[1],c=(0,r.useRef)(null),s=function(e){var t={},n=e.some((function(e){return e.status===M.Rs.ERROR})),r=e.some((function(e){return e.status===M.Rs.CONNECTED_WITH_ERROR})),o=e.some((function(e){return e.status===M.Rs.INITIAL_SYNC})),a=e.some((function(e){return e.status===M.Rs.CONNECTED})),i=e.some((function(e){var t=e.status;return t===M.Rs.REQUESTED||t===M.Rs.PENDING})),l=e.some((function(e){return e.status===M.Rs.EXPIRED})),c=e.some((function(e){return e.status===M.Rs.INTERNAL_REVIEW}));if(e.length>1){var u=e.every((function(e){var t=e.status;return[M.Rs.CONNECTED,M.Rs.INITIAL_SYNC].includes(t)}));t={badgeColor:n?b.Z.RED:u?b.Z.COOL_GRAY:b.Z.YELLOW,tooltip:u?(0,y.t)("storage.status.crossDomainFolderStatusMultipleHealthy"):(0,y.t)("storage.status.crossDomainFolderStatusMultipleUnhealthy"),testId:"multiple"}}else n?t={badgeColor:b.Z.RED,tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:M.Rs.ERROR}),testId:"error"}:r?t={badgeColor:b.Z.YELLOW,tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:M.Rs.CONNECTED_WITH_ERROR,fileSkippedCount:e[0].fileSkippedCount}),testId:"connection-error"}:l?t={badgeColor:b.Z.YELLOW,tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:M.Rs.EXPIRED}),testId:"expired"}:c?t={badgeColor:b.Z.YELLOW,tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:M.Rs.INTERNAL_REVIEW}),testId:"internal-review"}:i?t={badgeColor:b.Z.YELLOW,tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:M.Rs.REQUESTED,count:e.length}),testId:"pending"}:o?t={badgeColor:b.Z.COOL_GRAY,tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:M.Rs.INITIAL_SYNC}),testId:"initial-sync"}:a&&(t={badgeColor:b.Z.COOL_GRAY,tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:M.Rs.CONNECTED}),testId:"connected"});return t}(n),d=s.badgeColor,p=s.tooltip,v=s.testId,g=n[0],O=g.connectionType,S=g.status,C=g.fileSkippedCount,I=n.some((function(e){return e.linkedWorkgroupUrl}));return r.createElement("div",{className:"r4T3d7f5VIAVYcw8LNrR"},v&&r.createElement(h.Z,{tooltip:I?p:(0,y.t)("storage.status.crossDomainFolderStatus",{context:S,fileSkippedCount:C})},r.createElement(b.Z,{ref:c,"data-tid":v,icon:f.Z,color:d,className:m()(t),onClick:function(){return I&&void l(!0)}},n.length)),i&&r.createElement(R,{referenceElement:c.current,onClose:function(){l(!1)},popoverTitle:(0,y.t)("storage.status.crossDomainFolder",{context:O})},r.createElement("div",null,n.map((function(e){return r.createElement(h.Z,{tooltip:(0,y.t)("storage.status.crossDomainFolderStatus",{context:e.status,fileSkippedCount:e.fileSkippedCount}),placement:"left",key:e.connectionId},r.createElement("div",{className:"vUIMHmjlF4VJmMhY35le"},r.createElement(E.Z,{icon:L[e.status],size:E.Z.sizes.M,spin:e.status===M.Rs.INITIAL_SYNC}),r.createElement("a",{href:e.linkedWorkgroupUrl,className:"qnJWfXezlNIftKyb_Ovo C7HhvVmv8inrSQjb607z","data-tid":"linked-workgroup-url"},r.createElement(Z.Z,null,e.linkedWorkgroupUrl))))})))))}F.defaultProps={className:""};var j=F,_=n(704548),x=n(887302),V=n(680087),B=n(266606),G=n(808753),W=(0,y.nD)("protectAnalytics.analyticsBadge"),U=function(e){var t=e.name,n=e.percentage;return r.createElement(r.Fragment,null,r.createElement("span",{className:"ldsQqkqHmr9v3ZVoyBnp eugzcnL4uVMlgbRkfTqa"},"".concat(W("tooltipTitle",{context:t}))),W("tooltipDesc",{context:t,percentage:n}))};function H(e){var t,n,o=e.model,a=e.folderInsightTags,l=a.length;return r.createElement(h.Z,{tooltip:(t=a,n=t.length>1?function(e){return r.createElement("ul",{className:"hdXUoda8CzrwBFdlkhGr"},e.map((function(e){return r.createElement("li",{key:e.name},U(e))})))}(t):U(t[0]),r.createElement("div",{className:"Vl_TGiV9wEAf7prD24A1"},r.createElement("span",{className:"iA3RXLyU7G9UPaQd1L0K"},n),r.createElement("div",null,W("learnMore"))))},r.createElement(b.Z,{className:i.D,icon:x.oU,onClick:function(){var e=o.attributes,t=e.name,n=e.path,r=e.id;t&&n&&r&&((0,V.T)({name:t,path:n,id:r}),B.Z.track(V.S.FOLDER_INSIGHTS_MODAL_OPENED_VIA_BADGE))},color:b.Z.YELLOW},l))}var Y=n(796413),K=n(131093),z=n(376127),q=n(981548),Q=n(145987),J=n(468396),X=n(963214),$=n(712255),ee=n(515917),te=n(970770),ne=n(246900),re=["activeLinks","itemName"];function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ae=function(e){var t,n=e.activeLinks,o=e.itemName,a=(0,Q.Z)(e,re),l=(0,ne.y)({onOpen:function(){return(0,X.wB)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({activeLinks:n,itemName:o},a))},link:te.Z.STORAGE.ACTIVE_LINKS(a.id)}),c=l.open;return r.createElement(h.Z,{tooltip:(0,y.t)("storage.folder.label.activeLinks",{count:n})},r.createElement($.Z,{className:i.D,icon:J.Sq,hoverIcon:J.Hj,value:(t=n,t>99?"".concat(99,"+"):t),onClick:c,"data-pendoid":ee.e.ACTIVE_LINK.INLINE_ACTIVE_LINKS}))},ie=n(889239),le=function(e){var t,n=e.value,u=(0,a.Z)("activeLinksIndicatorEnabled"),s=(0,a.Z)("commentsEnabled"),d=(0,a.Z)("folderListingShowInlineVersions"),m=(0,a.Z)("protectSecurityAnalyticsEnabled"),f=(0,a.Z)("protectSecurityAnalyticsBadgeEnabled"),p=m&&f,v=(0,a.Z)("crossDomainFolderFeatureEnabled"),g=(0,a.Z)("visualIndicatorForStdUserAccessCheck"),E=(null==n?void 0:n.crossDomainInfo)||[],Z=v&&E.length>0,O=function(e){var t,n=e.customProperties,r=null==n?void 0:n.find((function(e){return"folder_insight_tags"===e.id.key})),o=(null==r||null===(t=r.typedValue)||void 0===t?void 0:t.value)||(null==r?void 0:r.value);if(o)try{return o.map((function(e){return JSON.parse(e)}))}catch(e){return void G.ZP.error("Failed to parse folder insight tags",e,r)}}(n),S=(0,K.h)().collection,C=(0,Y.o)().model,I=(null==C?void 0:C.backboneModelRef)||C;return(0,c.zD)(n.name)?null:r.createElement("div",{className:"G15kw66_YasjGWYQrmEm"},Z&&r.createElement(j,{className:i.D,crossDomainInfo:E}),g&&(null===(t=n.visualIndicators)||void 0===t?void 0:t.standardUserAccess)&&r.createElement(h.Z,{tooltip:(0,y.t)("storage.folder.label.standardUser")},r.createElement(b.Z,{"data-tid":"std-icon",className:i.D,icon:_.Fs})),u&&(null==n?void 0:n.activeLinks)>0&&r.createElement(ae,{activeLinks:n.activeLinks,itemName:n.name,id:n.id,itemType:n.type}),s&&n.notes&&r.createElement(z.Z,{model:I,collection:S,className:i.D,notesCount:n.notes.count}),d&&n.revisions&&r.createElement(q.Z,{model:I,versionsCount:n.revisions.count,className:i.D}),p&&O&&r.createElement(H,{model:I,folderInsightTags:O}),(0,o.p1)(n)&&r.createElement(ie.Z,{model:I,unlock:function(e){e.stopPropagation(),(0,l.Ds)([I],I.collection)}}))}},406788:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var r=n(529439),o=n(667294),a=n(652421),i=n(638859),l=n(714023),c=n(445401),u=n(487462),s=n(973935),d=n(731264),m=n(757440),f=n(106664),p=n(762074),v=n(579621),g=n(532144),E=n(734474),b=n(323063),y=n(346027),h=n(57324),Z=n(756698),O=n(776327),S=n(796413),C=n(397404),I=n(356123),N=n(760866),w=n(307143),P=n(490144),D=n(29644),k=n(890851),T=n(610861),R=(0,p.nD)("appliedTags.namespaceSection");function A(e){var t=e.namespace,n=e.sectionTitle,r=e.tagList,a=e.controller,i=e.isInactiveItem,l=e.onSave,c=e.onCancel,u=e.editModalOpenedRef,s=(0,w.Ql)(t),d=(0,w.mg)(t),m=!s&&!d,f=(0,w.Wm)(t),p=(0,w.fy)(t),v=(0,w.Az)(t),g=(0,w.Hl)(t),E=(0,o.useCallback)((function(){var e=function(e){u.current=e};e(!0),(0,T.Ll)(o.createElement(D.Z,{conflicts:f,showVersionLevelForm:g,namespace:t,onSave:function(t){return e(!1),l(t)},onCancel:function(t){return e(!1),c(t)}}),{size:g?T.ZP.sizes.XXL:T.ZP.sizes.M,withCloseButton:!0,onRequestClose:function(){(0,T.GZ)(),e(!1)},type:T.ZP.types.DIALOG})}),[u,f,g,t,l,c]);return o.createElement("div",{className:"sniuqFzXN6MJkz_qsQbJ"},o.createElement(P.Z,{isInactiveItem:i,editable:m,onEdit:m?E:void 0,conflicts:f,numConflicts:p,isProtected:s,title:R("sectionTitle",{sectionTitle:n}),namespace:t,metadataScopeType:v,controller:a,updateNamespaces:a.updateNamespaces,isFolderAssociated:!1}),r.length?o.createElement(I.Z,{renderViewMoreText:function(e){var t=e.count;return R("viewMoreText",{count:t})},viewLessText:R("viewLessText")},r.map((function(e){var t=e.label,n=e.id,r=e.value,a=e.type;return o.createElement(N.Z,{key:"".concat(n,"-").concat(t),label:t,options:a===k.m2[k.QW.MULTI_VALUE_STRING]?r[0].split(",").map((function(e){return{label:e}})):r.map((function(e){return{label:e}})),renderOptionsCountText:function(e){var t=e.count;return R("optionsCountText",{count:t})}})}))):null)}var M=n(204942),L=n(93433),F=n(563086);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,M.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var V=function(e){return Object.values(e).map((function(e){return{id:e.namespace,sectionTitle:e.namespaceDisplayName,tagList:Object.values(e.properties).map((function(e){return{id:e.propertyName,label:e.propertyDisplayName,value:e.value,type:e.type}})).sort((function(e,t){var n;return null==e||null===(n=e.label)||void 0===n?void 0:n.localeCompare(t.label)}))}})).sort((function(e,t){var n;return null==e||null===(n=e.sectionTitle)||void 0===n?void 0:n.localeCompare(t.sectionTitle)}))},B=function(e){var t,n=e.property,r=e.updatedNamespaceProperties,o=e.updatedNamespacePropertyValue,a=n.id.key,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,M.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),l=o||null;return(null===(t=r.find((function(e){return e.name===a})))||void 0===t?void 0:t.type)===k.m2[k.QW.MULTI_VALUE_STRING]?i.value=l?JSON.parse(l):null:i.value=l,i},G=function(e,t){return t.find((function(t){return t.get("name")===e}))},W=(0,p.nD)("appliedTags"),U={strategy:"fixed",placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["top"]}},g.Z.modifiers.arrow]},H=function(e){var t,n,a=e.count,i=e.target,l=e.onBlur,c=e.onHover,u=e.folderItemModel,p=e.onPropertiesUpdate,S=(0,o.useState)(!0),I=(0,r.Z)(S,2),N=I[0],P=I[1],D=(0,o.useRef)(!1),k=(0,o.useRef)(document.body),T=(0,d.Z)(k,{class:"RXDYr_gubn3RZEx5TZg_"}),R=(0,m.Z)(),j=(0,o.useMemo)((function(){return u.toJSON()}),[u]),x=j.id,H=(0,h.dQ)(j)||(0,h.rJ)(j),Y=(0,o.useMemo)((function(){var e={entityId:x,entityType:b.dt.FILE};return new Z.Z({folderItem:u,namespaceDetails:e,isInactiveItem:H,expandNamespaces:!1})}),[x,H,u]),K=(0,o.useCallback)((function(){P(!1),R()}),[R]);(0,o.useEffect)((function(){var e=function(){return Y.refreshProperties()};return e(),Y.properties.on(Y.properties.constructor.READY,K),O.ZP.on(O.ZP.Events.Namespace.REFRESH_PROPERTIES,e),function(){Y.properties.off(Y.properties.constructor.READY,K),O.ZP.off(O.ZP.Events.Namespace.REFRESH_PROPERTIES,e)}}),[Y,K]);var z,q,Q,J,X=(z=null===(t=Y.namespaces)||void 0===t?void 0:t.toJSON(),q=null===(n=Y.properties)||void 0===n?void 0:n.toJSON(),Q=(0,o.useMemo)((function(){return z?z.reduce((function(e,t){return t.properties.forEach((function(n){var r=n.name,o=n.displayName,a=n.type,i=(0,F.f9)(t.name,n.name);e.set(i,{namespace:t.name,namespaceDisplayName:t.displayName||t.name,propertyName:r,propertyDisplayName:o||r,type:a,schemaSystemGenerated:!!t.schemaSystemGenerated})})),e}),new Map):new Map}),[z]),J=function(e){return Object.values(e||{}).flatMap((function(e){return Object.values(e)}))},(0,o.useMemo)((function(){var e={systemTags:{},customTags:{}},t=J(null==q?void 0:q.file),n=J(null==q?void 0:q.version);return Q&&(t.length||n.length)?[].concat((0,L.Z)(t),(0,L.Z)(n)).reduce((function(e,t){var n,r,o,a,i,l=Q.get((0,F.f9)(t.namespace,t.key))||{},c=l.schemaSystemGenerated?"systemTags":"customTags";if(!l.namespace||!l.propertyName||null!==(n=e[c])&&void 0!==n&&null!==(r=n[l.namespace])&&void 0!==r&&null!==(o=r.properties)&&void 0!==o&&o[l.propertyName])return e;var u=(null===(a=e[c])||void 0===a?void 0:a[l.namespace])||{},s=(null===(i=u.properties)||void 0===i?void 0:i[l.propertyName])||{};return e[c]=_(_({},e[c]),{},(0,M.Z)({},l.namespace,_(_({},u),{},{namespace:l.namespace,namespaceDisplayName:l.namespaceDisplayName,properties:_(_({},u.properties),{},(0,M.Z)({},l.propertyName,_(_({},s),{},{propertyName:l.propertyName,propertyDisplayName:l.propertyDisplayName,value:[].concat((0,L.Z)((null==s?void 0:s.value)||[]),[(0,w.hT)(t.value,l.type)]),type:l.type})))}))),e}),e):e}),[Q,q])),$=(0,o.useMemo)((function(){return V(X.systemTags)}),[X.systemTags]),ee=(0,o.useMemo)((function(){return V(X.customTags)}),[X.customTags]),te=(0,C.Sh)({showExclusively:!0}).showNotification,ne=(0,o.useCallback)((function(e){var t=function(e){var t=e.currentProperties,n=e.updatedNamespace,r=e.updatedNamespaceValues,o=(0,L.Z)(t||[]),a=n.properties;return Object.keys(r).forEach((function(e){var t=r[e],i=o.findIndex((function(t){var n=t.id;return e===n.key}));if(i>=0)o[i]=B({property:o[i],updatedNamespaceProperties:a,updatedNamespacePropertyValue:t});else{var l={id:{namespace:n.name,key:e}};o.push(B({property:l,updatedNamespaceProperties:a,updatedNamespacePropertyValue:t}))}})),o}({currentProperties:u.get("customProperties"),updatedNamespace:e.toJSON(),updatedNamespaceValues:e.valuesModel.toJSON()});u.set("customProperties",t),p(),te("success",W("editSuccessMessage"))}),[u,p,te]),re=(0,y.$)({controller:Y,itemId:x}),oe=re.onCancel,ae=re.onSave,ie=function(e){return ae(e,ne)};return(0,s.createPortal)(o.createElement(g.Z,{referenceElement:i,onClose:function(){return!D.current&&l()},popperOptions:U},o.createElement(g.Z.Arrow,null),o.createElement("div",{className:"_1LAHUpULS9n0Kuc4Jce","data-tid":"popoverContainer",onMouseEnter:c},o.createElement("div",{className:"kyw_if8LeN2hvhDOn0Q0","data-tid":"appliedTagsPopoverHeader"},o.createElement(f.h4,{type:"h4"},W("title"),o.createElement(f.h4,{type:"h4",color:"grey600","data-tid":"appliedTagsPopoverTagCount"},"(",a,")"))),o.createElement("div",{className:"uL312LtQI1x0b2QZZbt0","data-tid":"appliedTagsPopoverContent"},N?o.createElement(E.Z,null):o.createElement(o.Fragment,null,$.filter((function(e){var t=e.tagList;return null==t?void 0:t.length})).map((function(e){return o.createElement(A,{key:e.id,sectionTitle:e.sectionTitle,namespace:G(e.id,Y.namespaces),isInactiveItem:H,tagList:e.tagList,controller:Y,onSave:ie,onCancel:oe,editModalOpenedRef:D})})),ee.filter((function(e){var t=e.tagList;return null==t?void 0:t.length})).map((function(e){return o.createElement(A,{key:e.id,sectionTitle:e.sectionTitle,namespace:G(e.id,Y.namespaces),isInactiveItem:H,tagList:e.tagList,controller:Y,onSave:ie,onCancel:oe,editModalOpenedRef:D})})))),o.createElement("div",{className:"iwiNRDC_7Baf8WxssLAy","data-tid":"appliedTagsPopoverFooter"},o.createElement(v.Z,{type:v.Z.SECONDARY,onClick:l},W("closeCta"))))),T.current)},Y=(0,o.memo)(H);function K(e){var t=(0,S.o)().model;return o.createElement(Y,(0,u.default)({},e,{folderItemModel:t}))}var z=n(294184),q=n.n(z),Q=(0,p.nD)("storage.metadata.tagsColumn");function J(){return o.createElement("div",{"data-tid":"tagCountEmptyState"},"-")}function X(e){var t=e.folderItem,n=e.updatedCount,u=e.fetchLatestTagCount,s=(0,i.Z)(),d=(0,o.useRef)(null),m=(0,o.useState)(!1),f=(0,r.Z)(m,2),p=f[0],v=f[1],g=t.fsiCustomMetadataTags,E=(void 0===g?{count:0}:g).count,b=null!=n?n:E,y=(0,l.Z)((function(e){s()&&v(e)}),200),h=(0,o.useCallback)((function(){return y(!0)}),[y]),Z=(0,o.useCallback)((function(){return y(!1)}),[y]);return(0,o.useEffect)((function(){0===n&&Z()}),[n,Z]),0===n?o.createElement(J,null):o.createElement(o.Fragment,null,o.createElement(a.Z,{className:q()(c.D,"O5BEnGwLKR9SiBaK8uth"),color:a.Z.CYAN,ref:d,onClick:h},b>99?Q("maxCountToDisplay"):b),p&&d.current&&u&&o.createElement(K,{count:b,target:d.current,onHover:h,onBlur:Z,onPropertiesUpdate:u}))}function $(e){var t,n=e.folderItem,r=e.updatedCount,a=e.fetchLatestTagCount,i=(0,o.useMemo)((function(){return n}),[n.id]);return i&&(0,h.qR)(i)||(null==i||null===(t=i.fsiCustomMetadataTags)||void 0===t||!t.count)&&!r?o.createElement(J,null):o.createElement(X,{folderItem:i,updatedCount:r,fetchLatestTagCount:a})}},293388:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(667294),o=n(535801),a=n(445401),i=n(769783),l=n(796413),c=n(96506),u=n(302808);function s(e){var t=e.model,n=e.computedActions,o=e.documentRoomId;return(0,c.hy)()?r.createElement(u.InlineActionsListingForDesktop,{model:t,computedActions:n,documentRoomId:o}):r.createElement(u.InlineActionsListing,{model:t,computedActions:n,documentRoomId:o})}function d(e){var t=e.documentRoomId,n=(0,l.o)(),c=n.isDragging,u=n.rowHovered,d=n.computedActions,m=n.model;return u&&(0,i.V)({isDragging:c,folderItemName:m.get("name")})?r.createElement(o.FK,null,r.createElement("div",{className:a.D},r.createElement(s,{model:m,computedActions:d,documentRoomId:t}))):null}},796413:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(667294),o=(0,r.createContext)(void 0);function a(){return(0,r.useContext)(o)}t.Z=o},732028:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(460474),o=n(796413),a=n(667294),i=n(627872),l=n(704899),c=n(407767);function u(e){var t=(0,e.getValue)(),n=(0,r.Z)("dragAndDrop"),u=(0,o.o)().dragRef,s=(0,a.useCallback)((function(e){e&&n&&u(e)}),[u,n]),d=(0,a.useMemo)((function(){return{onAccess:function(e){var n;(0,e.defaultAction)(),(0,l.TY)()&&(0,c.gi)(t,null===(n=t.backboneModelRef)||void 0===n?void 0:n.collection)}}}),[t]);return a.createElement("div",{className:"DjyUOSZsvrKowhTQdTgi",ref:s},a.createElement(i.Z,{value:t,column:d}))}},658434:function(e,t,n){"use strict";n.d(t,{Lm:function(){return r},SF:function(){return o},cZ:function(){return a},jM:function(){return i}});var r={STORAGE:"storage",SEARCH:"search"},o="name",a=1,i=a+3},961575:function(e,t,n){"use strict";n.d(t,{Qk:function(){return a},Sv:function(){return r},hO:function(){return o}});var r=function(e){var t=e.storageKey,n=e.defaultValue,r=void 0===n?null:n,o=e.parseJSON,a=void 0!==o&&o,i=localStorage.getItem(t);try{return i&&"undefined"!==i?a?JSON.parse(i):i:r}catch(e){return r}};function o(){Object.keys(localStorage).filter((function(e){return e.startsWith("metadataBrowseMode")})).forEach((function(e){localStorage.removeItem(e)}))}var a=function(e){!function(e){localStorage.setItem("metadataBrowseModeViewMode_".concat(e.folderId),e.savedViewData.storageViewMode)}(e),function(e){localStorage.setItem("metadataBrowseModeSortPreferences_".concat(e.folderId),JSON.stringify({sortField:e.savedViewData.filters.sortField,sortOrder:e.savedViewData.filters.sortOrder}))}(e),function(e){localStorage.setItem("metadataBrowseModeFolderPreferences_".concat(e.folderId),JSON.stringify(e.savedViewData.folderPreferences))}(e)}},75161:function(e,t,n){"use strict";n.d(t,{iQ:function(){return I},y6:function(){return O}});var r=n(204942),o=n(529439),a=n(667294),i=n(465999),l=n(865485),c=n(447841),u=n(379683),s=n(19309),d=n(282560),m=n(8786),f=n(961575),p=n(460474),v=n(42594),g=n(347392),E=n(977771),b=n(509090),y=n(601714),h=n(264802),Z=(0,a.createContext)({namespaces:[],folderPreferences:{},isFetchingNamespaces:!1,isFetchingFolderPreferences:!1,mutateFolderPreferences:h.Z}),O=function(){return(0,a.useContext)(Z)};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=e.folderId,n=e.browseModeEnabled,r=e.children,h="metadataBrowseModeFolderPreferences_".concat(t),O=(0,m.Z)(h,(0,f.Sv)({storageKey:h,parseJSON:!0,defaultValue:{}})),S=(0,o.Z)(O,2),I=S[0],N=S[1],w=(0,c.ZP)().columnNamesList,P=function(e){var t=(0,v.pL)(),n=(0,g.GB)(),r=(0,E.e)(),o=!(!(0,p.Z)("isEditViewInFolderListingEnabled")||t||r||n),a=(0,b.Z)(e,!(t||r||n||y.Z.isSnapshotPreview())),i=a.namespacesDefinition,l=a.isLoading,c=(0,d.Re)(e,{enabled:o&&!y.Z.isSnapshotPreview()});return{namespaces:i,isFetchingNamespaces:l,folderPreferences:c.data,isFetchingFolderPreferences:c.isLoading}}(t),D=P.namespaces,k=P.isFetchingNamespaces,T=P.folderPreferences,R=P.isFetchingFolderPreferences,A=(0,d.nG)(t).mutate,M=(0,d.VY)(),L=(0,a.useCallback)((function(e,t,r,o){if(e)if(n){var a;if((0,i.N)((0,l.sU)(D,null!==(a=null==t?void 0:t.customColumns)&&void 0!==a?a:{})),!t){var d=w.map((function(e){return e.enabled?e:C(C({},e),{},{enabled:!0})}));(0,c.$B)(d)}null==r||r(!1),n||(o.setMetadataFields((0,u.$j)(t,!0)),o.fetch())}else s.Z.history.fragment=null,s.Z.history.loadUrl()}),[n,w,D]),F=(0,a.useCallback)((function(e,r,o,a){n?(N(e),L(r,e,o,a)):A({folderId:t,preferences:e},{onSuccess:function(){return L(r,e,o,a)}})}),[n,t,A,L,N]),j=(0,a.useMemo)((function(){return{namespaces:D,isFetchingNamespaces:k,folderPreferences:n?I:T,isFetchingFolderPreferences:R,mutateFolderPreferences:F}}),[D,k,n,I,T,R,F]);return(0,a.useEffect)((function(){T&&!n&&N(T)}),[n,T,N]),(0,a.useEffect)((function(){n||M()}),[n,M]),a.createElement(Z.Provider,{value:j},r)}},776743:function(e,t,n){"use strict";n.d(t,{E2:function(){return a},Ms:function(){return i}});var r=n(667294),o=(0,r.createContext)({rows:[[],function(){}],columns:[[],function(){}],cells:[[],function(){}]});function a(e){var t=e.children,n=(0,r.useState)([]),a=(0,r.useState)([]),i=(0,r.useState)([]),l=(0,r.useMemo)((function(){return{rows:n,columns:a,cells:i}}),[n,a,i]);return r.createElement(o.Provider,{value:l},t)}var i=function(){return(0,r.useContext)(o)}},752823:function(e,t,n){"use strict";n.d(t,{P:function(){return l},j:function(){return i}});var r=n(671002),o=n(307179),a=n(582512),i=3;function l(e){var t=[],n=e.name,l=e.owner,c=e.last_modified;if("string"==typeof(null==n?void 0:n.value)&&n.value.trim().length>=i&&(t.push({name:"fileQueryFields",value:["FILENAME"]}),t.push({name:"query",value:n.value}),t.push({name:"folderQueryFields",value:["FOLDERNAME"]})),null!=l&&l.value&&"object"===(0,r.Z)(l.value)&&t.push({name:"username",value:(0,o.RX)(l.value.value)}),null!=c&&c.value&&"object"===(0,r.Z)(c.value)&&(null==c?void 0:c.value.value)!==a.Z.TIME.KEYS.ANY){var u=c.value;u.rangeStart||u.rangeEnd?(u.rangeStart&&t.push({name:"modifiedAfter",value:u.rangeStart}),u.rangeEnd&&t.push({name:"modifiedBefore",value:u.rangeEnd})):t.push({name:"modifiedInLast",value:u.value})}return t}},687873:function(e,t,n){"use strict";n.d(t,{aZ:function(){return c},q6:function(){return u},qL:function(){return l}});var r=n(727484),o=n.n(r),a=n(762074),i=n(633094),l={ANY:i.COMMON_DATE_RANGE_FILTER_KEYS.ANY,CUSTOM:i.COMMON_DATE_RANGE_FILTER_KEYS.CUSTOM,LAST_24H:"LAST_24H",LAST_WEEK:"LAST_WEEK",LAST_MONTH:"LAST_MONTH",LAST_3_MONTHS:"LAST_3_MONTHS"},c=function(){var e=(0,a.nD)("storage.columnFilter.dateRangeFilter");return[{label:e("anyTime"),value:l.ANY,dateResolver:function(){return{from:i.MIN_TIMESTAMP,to:i.MAX_TIMESTAMP}}},{dateResolver:function(){var e=o()();return{from:e.startOf("day").valueOf(),to:e.endOf("day").valueOf()}},label:e("last24Hours"),value:l.LAST_24H},{dateResolver:function(){var e=o()();return{from:e.subtract(7,"days").startOf("day").valueOf(),to:e.endOf("day").valueOf()}},label:e("last7Days"),value:l.LAST_WEEK},{dateResolver:function(){var e=o()();return{from:e.subtract(30,"days").startOf("day").valueOf(),to:e.endOf("day").valueOf()}},label:e("last30Days"),value:l.LAST_MONTH},{dateResolver:function(){var e=o()();return{from:e.subtract(90,"days").startOf("day").valueOf(),to:e.endOf("day").valueOf()}},label:e("last90Days"),value:l.LAST_3_MONTHS}]},u=function(e,t,n){if(e){if(e.rangeStart||e.rangeEnd)return(0,i.createCustomRangeFilterValue)(e.rangeStart,e.rangeEnd,t);var r=e.value||l.ANY,o=n.find((function(e){return e.value===r}));return o&&"label"in o?(0,i.createFixedDateFilterValue)(r,o):void 0}}},701162:function(e,t,n){"use strict";n.d(t,{wr:function(){return Oe},VL:function(){return pe},tr:function(){return Ee},ZP:function(){return Se}});var r=n(204942),o=n(890851),a=n(93433),i=n(667294),l=n(589698),c=n(407767),u=n(529439),s=n(499345),d=n(669846),m=n(779210),f=n(962284),p=n(576329),v=n(681680),g=n(583025),E=n(337995),b=n(713147),y=n(762074),h=n(264802),Z=n(460474),O=n(487462),S=n(145987),C=n(698607),I=n(78338),N=["disabled"],w=(0,y.nD)("storage.columnFilter");function P(e,t){var n=e.disabled,r=(0,S.Z)(e,N);return i.createElement(C.Z,{tooltip:w("disabledFilterTooltip"),"data-tid":"disabled-filter-tooltip",disabled:!n},i.createElement(I.Y,(0,O.default)({},r,{disabled:n,ref:t})))}var D=(0,i.forwardRef)(P),k=n(557155),T=(0,y.nD)("button.label");function R(e){var t=e.applyDisabled,n=e.onApply,r=e.onCancel,o=e.onReset;return i.createElement("div",{className:"danetkJuyzuaGwOT2vfA"},i.createElement("div",{className:"cEKCfSAmyqCYY4xsivf2"},i.createElement(k.Z,{type:k.Z.TEXT,onClick:o,className:"dFyShDzeLKbLmRU9DOM6 gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},T("reset"))),i.createElement("div",{className:"GFmW5yEavhjaJraremC0"},i.createElement(k.Z,{type:k.Z.SECONDARY,onClick:r},T("cancel")),i.createElement(C.Z,{disabled:!t,tooltip:(0,y.t)("storage.columnFilter.selectOneOption")},i.createElement(k.Z,{type:k.Z.PRIMARY,disabled:t,onClick:n},T("apply")))))}var A=(0,y.nD)("storage.columnFilter");function M(){return i.createElement(C.Z,{tooltip:A("disabledFilterTooltip")},i.createElement("div",{"data-tid":"disabled-filter-tooltip"},A("title")))}var L={dropdownContainer:"SNHd8wwh6ERPzTuuj6wd",dropdown:"rx_W7Hxvm3iQPxI6EUQQ",trigger:"xvDMaVssFoXQ2PnuX2UR",dropdownMenu:"TvMYEUKGFtLovdQE6Ndm",counter:"lVEicYpjPS15197PboG8 qqGfbuN2RooWpKmkockU",resetAction:"fkAm30Ul0bMl_HG7A3cp gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa",optionText:"QE7rGNsN88pSOJ6q1HcB"},F=new Set,j=(0,y.nD)("storage.columnFilter");function _(e){var t=e.initialSelections,n=e.options,r=e.onSubmit,o=e.disabled,a=i.useState(""),l=(0,u.Z)(a,2),c=l[0],y=l[1],O=i.useState((function(){return new Set(t||[])})),S=(0,u.Z)(O,2),C=S[0],I=S[1],N=(0,Z.Z)("fileListingColumnFiltersEnabled");(0,i.useEffect)((function(){I(new Set(t||[]))}),[t]);var w=(0,i.useCallback)((function(e){I((function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))}),[]),P=(0,i.useCallback)((function(e){y(e.target.value)}),[]),k=(0,i.useCallback)((function(){I(F),r(F)}),[r]),T=(0,i.useCallback)((function(e){e(!1),r(C)}),[r,C]),A=(0,i.useCallback)((function(e){e(!1),I(new Set(t||[]))}),[t]),_=(0,i.useCallback)((function(){I(F)}),[]),x=(0,i.useMemo)((function(){if(!c)return n;var e=c.toLowerCase();return n.filter((function(t){return t.toLowerCase().includes(e)}))}),[n,c]),V=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.returnNullIfEmpty,n=void 0!==t&&t,r=C.values().next().value;return 0===C.size?n?null:j("title"):i.createElement(f.Z,null,i.createElement(s.Z,{maxLength:10},r),C.size>1&&j("additionalItemsSelected",{count:C.size-1}))}),[C]),B=(0,i.useCallback)((function(e){return i.createElement(g.Z,{onClick:function(){return w(e)},key:e},i.createElement(p.Z,{checked:C.has(e),onChange:h.Z}),i.createElement(s.Z,{className:L.optionText},e))}),[w,C]),G=(0,i.useCallback)((function(e){var t=e.toggleDropdown;return i.createElement("div",{className:L.dropdown},i.createElement(v.Z,{value:c,className:L.searchInput,placeholder:j("searchPlaceholder"),onChange:P,"aria-label":"Search",onClear:function(){return y("")}}),i.createElement(E.Z,{className:L.dropdownMenu},x.map(B)),i.createElement(b.Z,null),i.createElement("div",null,i.createElement("p",{className:L.counter,"data-tid":"counter"},j("itemsSelected",{count:C.size})),i.createElement(R,{applyDisabled:!1,onApply:function(){return T(t)},onReset:_,onCancel:function(){return A(t)}})))}),[c,P,x,B,C.size,T,_,A]),W=(0,i.useMemo)((function(){var e=V({returnNullIfEmpty:!0});return N?i.createElement(D,{disabled:o,label:j("title"),value:e,onClear:e?k:void 0}):i.createElement(d.Z,{chevron:!0,onClear:C.size?k:void 0,clearButtonTooltip:j("clearFilter"),"aria-label":"Filter",disabled:o,className:L.trigger},o?i.createElement(M,null):V({returnNullIfEmpty:!1}))}),[o,N,k,V,C.size]);return i.createElement("div",{className:L.dropdownContainer},i.createElement(m.Z,{closeMenuOnClick:!1,maxSizeEnabled:!1,onToggle:function(e){e||I(new Set(t||[]))},trigger:W},G))}var x=n(6587),V=n(125624),B="rY42T_erj9vk1iCMB1o_",G=(0,y.nD)("storage.columnFilter");function W(e){var t=e.column,n=e.propDefinition,r=e.namespaceDefinition,o=e.disabled,a=e.hasAddedColumnViaFilter,s=(0,V.Ok)(),d=s.focusedColumnId,m=s.setFocusedColumnId,f=(0,Z.Z)("fileListingColumnFiltersEnabled"),p=t.getFilterValue(),g=(0,i.useRef)(null);(0,i.useEffect)((function(){var e;d===t.id&&g.current&&(null===(e=g.current)||void 0===e||e.focus())}),[d,t.id]);var E=(0,i.useState)((null==p?void 0:p.value)||""),b=(0,u.Z)(E,2),y=b[0],h=b[1],O=(0,i.useCallback)((function(e){var o=e.target.value;h(o),t.setFilterValue({namespace:r.name,key:n.name,value:o,operator:""===o&&a?l.H.HAS_KEY:l.H.CONTAINS}),(0,c.fu)(n.type)}),[t,a,r.name,n.name,n.type]),S=(0,i.useCallback)((function(){O({target:{value:""}})}),[O]);return i.createElement(C.Z,{disabled:!o,tooltip:G("disabledFilterTooltip")},i.createElement("span",{className:B},i.createElement(v.Z,{inputRef:g,key:t.id,value:y,disabled:o,onChange:O,size:f?x.Z.SIZES.SMALL:x.Z.SIZES.MEDIUM,placeholder:G("stringFilterPlaceholder"),onFocus:function(){m(t.id)},onBlur:function(){m(null)},onClear:S})))}var U=(0,i.memo)(W),H=n(633094),Y=n(528466),K=n(564280),z=n(858264);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q=(0,y.nD)("storage.columnFilter"),J=/^-?\d*\.?\d*$/,X=/^-?\d*$/;function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.useState)((null==e?void 0:e.toString())||""),r=(0,u.Z)(n,2),o=r[0],a=r[1],l=function(e){var n=e.target.value.trim();""!==n?(t?J:X).test(n)&&(a(n),t&&["-",".","-.","."].includes(n)||n.endsWith(".")||!t&&"-"===n||Number.isNaN(Number(n))||a(n)):a("")};return[o,l,function(e){return a((null==e?void 0:e.toString())||"")}]}var ee="quDTj2uegSkslB2Vf88J",te=(0,y.nD)("storage.columnFilter.numberRange"),ne=(0,y.nD)("button.label"),re=function(e){var t=e["data-tid"],n=void 0===t?"number-range":t,r=e.initialStartValue,o=e.initialEndValue,a=e.onApply,l=e.onCancel,c=e.disabled,s=void 0!==c&&c,d=e.isApplyDisabled,m=void 0!==d&&d,f=e.header,p=void 0===f?te("range"):f,v=e.fromText,g=void 0===v?te("from"):v,E=e.toText,y=void 0===E?te("to"):E,h=e.cancelCtaText,Z=void 0===h?ne("cancel"):h,O=e.applyCtaText,S=void 0===O?ne("apply"):O,C=e.inputPlaceholder,I=void 0===C?te("placeholder"):C,N=e.supportDecimal,w=void 0!==N&&N,P=$(r,w),D=(0,u.Z)(P,3),T=D[0],R=D[1],A=D[2],M=$(o,w),L=(0,u.Z)(M,3),F=L[0],j=L[1],_=L[2],V=null===r&&null===o,B=""!==T||""!==F,G=""!==T&&""!==F&&Number(T)>Number(F),W=Number(r)===Number(T)&&Number(o)===Number(F),U=m||s||G||W||V&&!B;return i.createElement("div",{className:"_69uWaVo4H6JrPSk0MYg","data-tid":n},i.createElement("div",{className:"VCx3LFD6vhQcIP0POT12"},"function"==typeof p?null==p?void 0:p():i.createElement("span",null,p),i.createElement("div",{className:"YP0fXxnn3ca4T3tJJYvR"},i.createElement("div",{className:ee},i.createElement("span",{"aria-label":g},g),i.createElement(x.Z,{"data-tid":"".concat(n,"-start"),type:"text",value:T,onChange:R,placeholder:I,disabled:s})),i.createElement("div",{className:ee},i.createElement("span",{"aria-label":y},y),i.createElement(x.Z,{"data-tid":"".concat(n,"-end"),type:"text",value:F,onChange:j,placeholder:I,disabled:s})))),i.createElement("div",{className:"VlKbcd7ijRc4oTNILu0e"},i.createElement(b.Z,null),i.createElement("p",{className:"IYaOu_u7svLQCtgRmtIA qqGfbuN2RooWpKmkockU"},(0,K.R)(T,F,!0)),i.createElement("div",{className:"Tl_5LwVVkK9xoGWlGHgR"},i.createElement(k.Z,{type:k.Z.SECONDARY,onClick:function(){A(r),_(o),l()}},Z),i.createElement(k.Z,{type:k.Z.PRIMARY,disabled:U,onClick:function(){return a({start:T,end:F})}},S))))},oe={trigger:"KY2zOFbGL3qh7AlUXlbU"};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ie=(0,y.nD)("storage.columnFilter");function le(e){var t=e.column,n=e.propDefinition,o=e.namespaceDefinition,a=e.supportDecimal,f=void 0!==a&&a,p=e.disabled,v=(0,Z.Z)("fileListingColumnFiltersEnabled"),g=t.getFilterValue(),E=(0,i.useState)((function(){return r=(e=g||{}).operator,o=e.value,a=e.range,{start:r===l.H.GREATER_THAN||r===l.H.EQUALS?null!=o?o:null:null!==(t=null==a?void 0:a.start)&&void 0!==t?t:null,end:r===l.H.LESS_THAN||r===l.H.EQUALS?null!=o?o:null:null!==(n=null==a?void 0:a.end)&&void 0!==n?n:null};var e,t,n,r,o,a})),b=(0,u.Z)(E,2),y=b[0],h=b[1],O=(0,i.useCallback)((function(){t.setFilterValue({namespace:o.name,key:n.name,value:""})}),[t,o.name,n.name]),S=(0,i.useCallback)((function(e){var a=(0,K.i)(e.start,e.end);a?(t.setFilterValue(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({namespace:o.name,key:n.name},a)),(0,c.fu)(n.type)):O(),h(e)}),[O,t,o.name,n.name,n.type]),C=(0,i.useCallback)((function(){O(),h({start:null,end:null})}),[O]),I=(0,i.useMemo)((function(){return e=y,(t=(0,K.R)(e.start,e.end))?i.createElement(s.Z,{maxLength:14},t):ie("title");var e,t}),[y]),N=(0,i.useCallback)((function(e){var t=e.toggleDropdown;return i.createElement(re,{initialStartValue:y.start,initialEndValue:y.end,onApply:function(e){t(!1),S(e)},onCancel:function(){t(!1)},supportDecimal:f})}),[S,y,f]),w=y.start||y.end,P=(0,i.useMemo)((function(){if(v){var e=(0,K.R)(y.start,y.end);return i.createElement(D,{disabled:p,label:ie("title"),value:e,onClear:w?C:void 0})}return i.createElement(d.Z,{chevron:!0,"aria-label":"Filter",className:oe.trigger,disabled:p,onClear:w?C:void 0,clearButtonTooltip:ie("clearFilter")},p?i.createElement(M,null):I)}),[y.end,y.start,p,v,C,w,I]);return i.createElement("div",{className:oe.dropdownContainer},i.createElement(m.Z,{closeMenuOnClick:!1,trigger:P},N))}var ce=n(121988),ue=n(209279),se=n(627826),de=n(752823),me=(0,y.nD)("storage.columnFilter");function fe(e){var t=e.column,n=e.disabled,r=t.getFilterValue(),o=(0,ce.Z)(null==r?void 0:r.value,1e3),a=(0,V.Ok)(),l=a.focusedColumnId,c=a.setFocusedColumnId,u=(0,ue.Z)(se.yO,1e3),s=(0,i.useRef)(null);(0,i.useEffect)((function(){var e;l===t.id&&s.current&&(null===(e=s.current)||void 0===e||e.focus())}),[l,t.id]);var d=(0,i.useCallback)((function(e){var n=e.target.value;u(),t.setFilterValue({key:t.id,value:n,basicFilter:!0})}),[t,u]),m=(0,i.useCallback)((function(){d({target:{value:""}})}),[d]),f=o?o.trim().length:0;return i.createElement(C.Z,{tooltip:me("enterMinCharacters"),visible:f<de.j&&f>0},i.createElement("span",{className:B},i.createElement(v.Z,{inputRef:s,key:t.id,value:(null==r?void 0:r.value)||"",disabled:n,onChange:d,size:x.Z.SIZES.SMALL,placeholder:me("itemNameFilterPlaceholder"),onFocus:function(){c(t.id)},onBlur:function(){c(null)},onClear:m})))}var pe=(0,i.memo)(fe),ve=n(758542),ge=(0,y.nD)("storage.columnFilter");function Ee(e){var t=e.column,n=t.getFilterValue(),r=(0,i.useCallback)((function(){t.setFilterValue({key:t.id,value:null,basicFilter:!0})}),[t]),o=(0,i.useMemo)((function(){var e;return i.createElement(I.Y,{label:ge("title"),value:null==n||null===(e=n.value)||void 0===e?void 0:e.label,onClear:null!=n&&n.value?r:void 0})}),[null==n?void 0:n.value,r]);return i.createElement("div",{className:"XbtaeHmIqzVIPk0MzDEd"},i.createElement(m.Z,{closeMenuOnClick:!1,maxSizeEnabled:!1,trigger:o},(function(e){var o=e.toggleDropdown;return i.createElement(E.Z,{className:"q7fakJsGfZ56f58MUdJ_"},i.createElement(g.Z,{checked:!1},i.createElement(ve.Z,{className:"wZ8JbH01fVNjZfX41VjA",canCurrentUserBeChosen:!0,queryGroups:!1,value:(null==n?void 0:n.value)||null,onChange:function(e){return function(e,n){n?((0,se.hK)(),t.setFilterValue({key:t.id,value:n,basicFilter:!0}),e(!1)):r()}(o,e)}})))})))}var be,ye=n(582512),he=n(687873),Ze=(0,y.nD)("storage.columnFilter");function Oe(e){var t=e.column,n=he.qL.CUSTOM,r=(0,i.useMemo)((function(){return(new Date).getTime()}),[]),o=(0,Z.Z)("fileListingColumnFiltersEnabled"),a=(0,i.useMemo)((function(){return{key:t.id,value:{value:ye.Z.TIME.KEYS.ANY},basicFilter:!0}}),[t.id]),l=t.getFilterValue()||a,c=(0,i.useMemo)((function(){return(0,he.aZ)()}),[]),u=(0,i.useCallback)((function(){t.setFilterValue(a)}),[t,a]),m=(0,i.useMemo)((function(){return(0,he.q6)(null==l?void 0:l.value,n,c)}),[null==l?void 0:l.value,n,c]),f=(0,i.useCallback)((function(e){if(e.dateKey===he.qL.CUSTOM)return(0,se.Wr)(),void t.setFilterValue({key:t.id,value:{rangeStart:e.from,rangeEnd:e.to},basicFilter:!0});(0,se.vW)(),t.setFilterValue({key:t.id,value:{value:e.dateKey},basicFilter:!0})}),[t]),p=(0,i.useMemo)((function(){var e=!m||m.dateKey===he.qL.ANY,t=Ze("title");return!e&&m&&(t=m.label),i.createElement(d.Z,{chevron:!0,disabled:!1,"data-tid":"modified-time-filter",onClear:e?void 0:u,clearButtonTooltip:Ze("clearFilter"),"aria-label":"Filter",className:"I_Atfp9dmQsJYuRMvOn5"},i.createElement("div",{className:"T_Wsg65jqhIoG940bFnN"},i.createElement(s.Z,null,i.createElement("span",{className:e?"CKSVNviGu3eLxl6GkBiu":"XO7X1aWPRvDw6cd8HH6j"},t))))}),[m,u]),v=(0,i.useMemo)((function(){var e=!m||m.dateKey===he.qL.ANY;return i.createElement(D,{label:Ze("title"),value:e||null==m?void 0:m.label,onClear:e?void 0:u})}),[m,u]);return i.createElement("div",{className:"jCNU7tpxgfIAeaRtIjqA"},i.createElement(H.DateRangeFilter,{allowPartialRangeSelection:!0,value:m,onChange:f,dateItemMappings:c,disabled:!1,trigger:o?v:p,customDateRangeKey:n},c.map((function(e){return i.createElement(H.FixedDate,{key:e.value,option:e})})),i.createElement(H.CustomDateRange,{maxTimestamp:r}),i.createElement(H.DateRangeActions,null)))}var Se=(be={},(0,r.Z)(be,o.QW.MULTI_VALUE_STRING,(function(e){var t=e.column,n=e.propDefinition,r=e.namespaceDefinition,o=e.disabled,u=t.getFilterValue();return i.createElement(_,{disabled:o,initialSelections:null==u?void 0:u.values,options:n.data,onSubmit:function(e){t.setFilterValue({namespace:r.name,key:n.name,operator:l.H.SUB_SET,values:(0,a.Z)(e)}),(0,c.fu)(n.type)}})})),(0,r.Z)(be,o.QW.STRING,U),(0,r.Z)(be,o.QW.ENUM,(function(e){var t=e.column,n=e.propDefinition,r=e.namespaceDefinition,o=e.disabled,u=t.getFilterValue();return i.createElement(_,{initialSelections:null==u?void 0:u.values,options:n.data,onSubmit:function(e){(0,c.fu)(n.type),t.setFilterValue({namespace:r.name,key:n.name,operator:l.H.IN,values:(0,a.Z)(e)})},disabled:o})})),(0,r.Z)(be,o.QW.DATE,(function(e){var t=e.column,n=e.propDefinition,o=e.namespaceDefinition,a=e.disabled,u=z.gW.CUSTOM,m=(0,i.useMemo)((function(){return(0,z.Oy)()}),[]),f=(0,Z.Z)("fileListingColumnFiltersEnabled"),p=(0,i.useMemo)((function(){return{namespace:o.name,key:n.name,operator:l.H.BETWEEN,range:{start:0,end:0}}}),[o.name,n.name]),v=t.getFilterValue()||p,g=(0,i.useCallback)((function(){t.setFilterValue(p)}),[t,p]),E=(0,i.useMemo)((function(){var e,t,n,r,o,a;if(!v||!(null!==(e=v.range)&&void 0!==e&&e.start||null!==(t=v.range)&&void 0!==t&&t.end||v.value)){var i=m.find((function(e){return e.value===z.gW.ANY}));return i&&"dateResolver"in i?(0,Y.eJ)(z.gW.ANY,i):void 0}if(v.value&&v.value!==z.gW.ANY&&(Number.isNaN(Number(v.value))||!v.operator)){var l=v.value.toString(),c=m.find((function(e){return e.value===l}));if(c&&"label"in c)return(0,Y.eJ)(l,c)}if(null!==(n=v.range)&&void 0!==n&&n.start||null!==(r=v.range)&&void 0!==r&&r.end)return(0,Y.k_)(null===(o=v.range)||void 0===o?void 0:o.start,null===(a=v.range)||void 0===a?void 0:a.end,u);if(v.value){var s=(0,z.LR)(v.operator,v.value),d=s.from,f=s.to;return(0,Y.k_)(d,f,u)}var p=m.find((function(e){return e.value===z.gW.ANY}));return p&&"dateResolver"in p?(0,Y.eJ)(z.gW.ANY,p):void 0}),[v,m,u]),b=(0,i.useCallback)((function(e){if(e.dateKey!==z.gW.ANY){if(e.dateKey===u){var a=(0,K.i)(e.from,e.to);a?t.setFilterValue(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({namespace:o.name,key:n.name},a)):t.setFilterValue(p)}else t.setFilterValue({namespace:o.name,key:n.name,operator:l.H.BETWEEN,range:{start:e.from,end:e.to},value:e.dateKey});(0,c.fu)(n.type)}else t.setFilterValue({namespace:o.name,key:n.name,operator:l.H.BETWEEN,range:{start:0,end:0}})}),[t,o.name,n.name,n.type,u,p]),y=(0,i.useMemo)((function(){var e=!E||E.dateKey===z.gW.ANY,t=Q("title");return!e&&E&&(t=E.label),i.createElement(d.Z,{chevron:!0,className:"KTIUZiXEzjEZ_9q8vyZV",onClear:e?void 0:g,clearButtonTooltip:Q("clearFilter"),"aria-label":Q("title"),disabled:a},a?i.createElement(M,null):i.createElement(s.Z,null,i.createElement("span",{className:e?"qBrpwmNIlDO0VwwN21bg":"HDk6Khe_gKHZqm1c_xJ4"},t)))}),[E,a,g]),h=(0,i.useMemo)((function(){var e=!E||E.dateKey===z.gW.ANY;return i.createElement(D,{label:Q("title"),value:e||null==E?void 0:E.label,onClear:e?void 0:g,disabled:a})}),[E,a,g]);return i.createElement("div",{className:"a24aNb9f_NdrIuZpILhM"},i.createElement(H.DateRangeFilter,{allowPartialRangeSelection:!0,value:E,onChange:b,dateItemMappings:m,disabled:a,trigger:f?h:y,customDateRangeKey:u},m.map((function(e){return i.createElement(H.FixedDate,{key:e.value,option:e})})),i.createElement(H.CustomDateRange,null),i.createElement(H.DateRangeActions,null)))})),(0,r.Z)(be,o.QW.INTEGER,le),(0,r.Z)(be,o.QW.DECIMAL,(function(e){return i.createElement(le,(0,O.default)({},e,{supportDecimal:!0}))})),be)},332990:function(e,t,n){"use strict";n.d(t,{ci:function(){return pe},OR:function(){return ge},bx:function(){return Ee},K3:function(){return ve}});var r=n(529439),o=n(204942),a=n(667294),i=n(727484),l=n.n(i),c=n(762074),u=n(787781),s=n(422825),d=n(568874),m=n(172643),f=n(57324),p=n(307179),v=n(19057),g=n(392348),E=n(447841),b=n(635398),y=n(796413),h=n(823296),Z=n(406788),O=n(578073),S=n(441043),C=n(701162),I=n(731557),N=n(13764),w=n(238701),P=n(658434),D=n(153672),k=n(125624),T=n(732028),R=n(418661),A=n(218443),M=n(93433),L=n(115861),F=n(364687),j=n.n(F),_=n(610861),x=n(180695),V=n(247953),B=n(776743),G=n(80373),W=n(323063),U=(0,c.nD)("storage.rename.merge.folders"),H=(0,c.nD)("storage.rename.merge.files");function Y(e){var t=e.folderItem,n=e.onConfirm,r=e.onCancel,o=(0,a.useMemo)((function(){var e=t.type===W.dt.FOLDER?U:H;return{title:e("title"),body:e("content"),confirm:e("confirmAction"),processing:(0,c.t)("button.label.sending"),cancel:(0,c.t)("button.label.cancel")}}),[t.type]);return(0,a.useEffect)((function(){return(0,_.h7)(a.createElement(G.Z,{messages:o,onConfirm:n,onCancel:r})),function(){(0,_.GZ)()}}),[o,t,r,n]),null}var K=n(6587),z=n(301245),q=n(162134),Q=n(173297),J=n(767714);function X(e){var t=e.folderItem,n=e.showProjectIcon,r=e.showDocumentRoomIcon,o=t.name,i=t.type,l=t.thumbnailUrl,c=t.visualIndicators,u="collab_graph"===t.entryType?Q.N:null,s=null==c?void 0:c.crossDomainFolder,d=null==c?void 0:c.documentPortalWorkspaceFolder,m=null==c?void 0:c.standardUserAccess;return a.createElement("div",{className:J.Z.icon},a.createElement(q.Z,{thumbnailUrl:l,name:o,type:i,key:o,overlayIcon:u,overlayIconColor:"blue",showStdUserAccessCheck:m,showCrossDomainFolderCheck:s,showProjectIcon:n,showDocumentRoomIcon:r,showDocumentPortalWorkspaceIcon:d}))}var $=n(131093);function ee(e,t){var n=e.value,r=e.onChange,o=e.onKeyDown,i=e.inputRef,l=e.disabled,u=e.hasError,s=e.errorMessage,d=e.folderItem,m=(0,$.h)(),p=m.projectFolderIds,v=m.documentRoomIds;return a.createElement("div",{ref:t,className:"H7DPc_sRscmwPnssQ_pe"},a.createElement(X,{folderItem:d,showProjectIcon:(0,f.fO)(d.id,p),showDocumentRoomIcon:(0,z.gX)(d.id,v)}),a.createElement("div",{className:"MOmcZX5S_uGnX8A4RuQy"},a.createElement(K.Z,{autoFocus:!0,required:!0,onChange:r,onKeyDown:o,value:n,inputRef:i,placeholder:(0,c.t)("storage.folder.label.itemName"),disabled:l,hasError:u}),s&&a.createElement("div",{className:"OhaSSgIC3JXlbG_YN44p Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},s)))}var te,ne=(0,a.forwardRef)(ee),re=n(984481),oe=n(87554),ae=n(397404),ie=n(776327),le=n(990912),ce=n(627826);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=e.value,n=e.onSave,o=function(e){var t=(0,a.useState)(e),n=(0,r.Z)(t,2),o=n[0],i=n[1],l=(0,a.useRef)(null);(0,a.useEffect)((function(){var t;null===(t=l.current)||void 0===t||t.setSelectionRange(0,(0,re.Z)(e).length)}),[e]);var c=(0,a.useCallback)((function(){i(e)}),[e]);return{editValue:o,setEditValue:i,inputRef:l,reset:c}}(t.name),i=o.editValue,l=o.setEditValue,u=o.inputRef,s=o.reset,m=(0,B.Ms)(),f=(0,r.Z)(m.rows,2)[1],p=function(e){var t=e.item,n=e.onSave,o=e.onAsyncResponse,i=(0,oe.Ep)(),l=i.mutateAsync,u=i.isLoading,s=(0,a.useState)(""),d=(0,r.Z)(s,2),m=d[0],f=d[1],p=(0,$.h)().setShouldClearSelections,v=(0,le.Z)(),g=(0,a.useCallback)(function(){var e=(0,L.Z)(j().mark((function e(r,a){var i,u,s,d,m,g,E,b,y,h,Z,O,S,C;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r!==t.name){e.next=3;break}return n(t.name),e.abrupt("return",{success:!0});case 3:return f(""),e.prev=4,e.next=7,l(se({id:t.id,name:r,path:t.path},a&&{overwrite:!0}));case 7:if(i=e.sent,v()){e.next=10;break}return e.abrupt("return",{success:!1});case 10:if(202!==i.status){e.next=13;break}return o(),e.abrupt("return",{success:!0,async:!0});case 13:return(0,ce.HH)(),a?(0,_.GZ)():((0,ae.c0)("success",(0,c.t)("storage.folder.label.renameSuccessMessage",{context:t.type})),n(r)),p(!1),u=t.name,t.backboneModelRef.set(i),ie.ch.FOLDER.REFRESH.trigger(),ie.ZP.trigger(ie.ZP.Events.Storage.FOLDER.RENAME,t.backboneModelRef,u),e.abrupt("return",{success:!0});case 23:if(e.prev=23,e.t0=e.catch(4),Z=e.t0,O=null===(s=Z.data)||void 0===s||null===(d=s.errors)||void 0===d?void 0:d[0],S=t.type===(null==O||null===(m=O.resource)||void 0===m?void 0:m.type),409!==(null===(g=Z.response)||void 0===g?void 0:g.status)||a||!S||t.isGoogleDoc){e.next=30;break}return e.abrupt("return",{showConflict:!0,success:!1});case 30:return C=null===(E=Z.data)||void 0===E||null===(b=E.inputErrors)||void 0===b||null===(y=b.name)||void 0===y||null===(h=y[0])||void 0===h?void 0:h.msg,v()&&f(C||Z.message||(0,c.t)("error.unexpected")),(0,_.GZ)(),e.abrupt("return",{success:!1});case 34:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t,n){return e.apply(this,arguments)}}(),[v,t,l,o,n,p]);return{handleRename:g,errorMessage:m,setErrorMessage:f,isLoading:u}}({item:t,onSave:n,onAsyncResponse:x.Z}),v=p.handleRename,g=p.errorMessage,E=p.setErrorMessage,b=p.isLoading,y=(0,a.useState)(!1),h=(0,r.Z)(y,2),Z=h[0],O=h[1],S=(0,a.useCallback)((0,L.Z)(j().mark((function e(){var n,r,o,a=arguments;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{overwrite:!1},r=n.overwrite,e.next=3,v(i,r);case 3:(o=e.sent).showConflict?O(!0):o.success&&!o.async&&((0,_.GZ)(),f((function(e){return[].concat((0,M.Z)(e),[t.id])})));case 5:case"end":return e.stop()}}),e)}))),[i,v,f,t.id]),C=(0,a.useCallback)((function(){s(),n(t.name),(0,_.GZ)()}),[s,n,t.name]),I=(0,a.useCallback)((function(e){e.key===V.U.ENTER?(e.stopPropagation(),S()):e.key===V.U.ESC&&C()}),[C,S]),N=(0,a.useCallback)((function(){O(!1),S({overwrite:!0})}),[S]),w=(0,a.useCallback)((function(){O(!1),C()}),[C]),D=(0,a.useCallback)((function(e){l(e.target.value),E("")}),[l,E]),k=!!g||!i||!(null!=i&&i.trim());return a.createElement(a.Fragment,null,a.createElement(A.Z,null,a.createElement(d.ZP.Table.Cell.EditCell.PopoveredActions,{disabled:k||b,onSave:function(){return S()},onCancel:C,zIndex:P.cZ},a.createElement(ne,{value:i,folderItem:t,onChange:D,onKeyDown:I,inputRef:u,disabled:b,hasError:k,errorMessage:g}))),Z&&a.createElement(Y,{folderItem:t,onConfirm:N,onCancel:w}))}var me=(0,d.Cl)(),fe=(0,c.nD)("storage.folder.label"),pe=(te={},(0,o.Z)(te,b.iW.NAME,fe("itemName")),(0,o.Z)(te,b.iW.STATUS,fe("status")),(0,o.Z)(te,b.iW.SIZE,fe("size")),(0,o.Z)(te,b.iW.LAST_MODIFIED,fe("modifiedDate")),(0,o.Z)(te,b.iW.OWNER,fe("updatedBy")),(0,o.Z)(te,b.iW.TAGS,fe("tagsCount")),te),ve=function(){var e=(0,v.Z)(["folderListingShowUpdatedBy","isGoogleV3Enabled","showMetadataTagColumnsInListing","fileListingColumnFiltersEnabled"]),t=(0,r.Z)(e,4),n=t[0],o=t[1],i=t[2],c=t[3],E=(0,D.ZP)().data,S=c&&!(0,w.Xn)(E),M=(0,h.j)(),L=(0,I.Nv)().hasAppliedFilters,F=S&&!M;return(0,a.useMemo)((function(){return[me.checkbox({label:"Select",id:b.iW.SELECT,cell:function(e){var t=e.row,n=(0,y.o)().onBoardingItemId;return a.createElement(d.ZP.Table.Cell.Checkbox,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),onChange:function(){return t.toggleSelected()},dataOnBoarding:(0,R.t)({onBoardingItemId:n,type:t.original.type,id:t.original.id})})},header:(0,d.s4)(),meta:{alwaysVisible:!0}}),{id:b.iW.NAME,label:pe[b.iW.NAME],accessorFn:function(e){return e},enableResizing:!0,enableSorting:!0,minSize:210,size:280,maxSize:Number.MAX_SAFE_INTEGER,meta:{alwaysVisible:!0},cell:T.Z,filter:F&&C.VL,enableEditing:S&&function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.location,r=void 0===n?P.Lm.STORAGE:n,o=t.env,a=(0,f.rJ)(e)||(0,f.dQ)(e),i=!!o&&(0,w.Xn)(o);return!(a||i||r!==P.Lm.STORAGE||!(0,N.zm)(e.permission)||(0,f.qR)(e)&&((0,f.ax)(e)||(0,f.qe)(e)||(0,f.Lb)(e)))}(e,{location:P.Lm.STORAGE,env:E})},edit:de},{id:b.iW.STATUS,label:pe[b.iW.STATUS],accessorFn:function(e){return e},enableResizing:!0,size:150,minSize:100,maxSize:Number.MAX_SAFE_INTEGER,cell:function(e){var t=e.getValue;return a.createElement(A.Z,null,a.createElement(s.Z,{value:t()}))}},{id:b.iW.SIZE,label:pe[b.iW.SIZE],accessorFn:function(e){return e},minSize:70,size:80,maxSize:100,enableResizing:!0,enableSorting:!0,cell:(0,d.Op)({getLabel:function(e){return(0,m.Z)((0,f.Oq)(e)?null:u.ZP.dataSize(e.size))}})},{id:b.iW.LAST_MODIFIED,label:pe[b.iW.LAST_MODIFIED],accessorFn:function(e){return e},enableResizing:!0,enableSorting:!0,minSize:150,size:150,maxSize:250,filter:F&&C.wr,cell:(0,d.Op)({getLabel:function(e){return(0,m.Z)((0,f.Oq)(e)&&!o||!e.lastModifiedTimestamp?null:l()(e.lastModifiedTimestamp).format(g.Jn.dateTime))}})},n&&{id:b.iW.OWNER,label:pe[b.iW.OWNER],accessorFn:function(e){return e.owner},enableResizing:!0,enableSorting:!M&&!L,minSize:120,size:150,maxSize:400,cell:(0,d.Op)({getLabel:function(e){return(0,m.Z)((0,p.v2)(e))}}),filter:F&&C.tr},i&&{id:b.iW.TAGS,label:pe[b.iW.TAGS],header:function(){var e=(0,k.$H)().size;return a.createElement(O.Z,{columnId:b.iW.TAGS,size:e})},accessorFn:function(e){return e},enableSorting:!1,size:80,cell:function(e){var t=(0,e.getValue)(),n=(0,y.o)(),r=n.tagCount,o=n.fetchLatestTagCount;return a.createElement(A.Z,null,a.createElement(Z.Z,{folderItem:t,updatedCount:r,fetchLatestTagCount:o}))}}].filter(Boolean)}),[E,S,n,L,o,M,F,i])},ge=function(e,t,n){return(null==e?void 0:e.length)>0?e.includes(n):!(t.length>0)||t.includes(n)};function Ee(e){var t=e.defaultColumns,n=e.visibleColumnsList,r=(0,E.ZP)().columnNamesList;return(0,a.useMemo)((function(){if(S.Z.isDocumentRoomPortalOrClientPortal())return t;var e=r.filter((function(e){return e.enabled})).map((function(e){return e.label}));return t.filter((function(t){var r=t.label,o=t.meta;return ge(n,e,r)||(null==o?void 0:o.alwaysVisible)}))}),[r,t,n])}},218443:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(487462),o=n(145987),a=n(667294),i=n(418661),l=["children"];function c(e){var t=e.children,n=(0,o.Z)(e,l);return a.createElement("div",(0,r.default)({onClick:(0,i.U)()},n),t)}},418661:function(e,t,n){"use strict";function r(e){var t=e.onBoardingItemId,n=e.type;return t===e.id&&"file"===n?"[uploadAndShare.selectListItemCheckbox]":null}function o(e){return function(t){t.stopPropagation(),null==e||e(t)}}n.d(t,{U:function(){return o},t:function(){return r}})},627826:function(e,t,n){"use strict";n.d(t,{Cx:function(){return d},HH:function(){return u},Wr:function(){return l},hK:function(){return c},q4:function(){return s},vW:function(){return i},yO:function(){return a}});var r=n(266606),o="Folder Listing Column Filter : Date Modified";function a(){r.Z.track("Folder Listing Column Filter : Item Name")}function i(){r.Z.track(o)}function l(){r.Z.track(o,{customDate:!0})}function c(){r.Z.track("Folder Listing Column Filter : Updated By")}function u(){r.Z.track("Folder Listing : Item Name Rename")}function s(){r.Z.track("Folder Listing Row Actions : Context Menu")}function d(e){var t=e.actionName,n=e.fileType,o=e.dropdownAction;r.Z.track("Folder Listing Row Actions : Action clicked",{actionName:t,fileType:n,dropdownAction:o})}},125624:function(e,t,n){"use strict";n.d(t,{$H:function(){return a.$H},Ok:function(){return a.Ok},QS:function(){return o.QS},iY:function(){return r.iY},q9:function(){return r.q9}});var r=n(126581),o=n(712646),a=n(341802)},509090:function(e,t,n){"use strict";n.d(t,{Z:function(){return d},w:function(){return s}});var r=n(667294),o=n(191472),a=n(890851),i=n(460474),l=n(282560),c=new o.Z,u="NAMESPACES_DEFINITION_CHANGE_EVENT";function s(){c.trigger(u)}function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!!(0,i.Z)("isEditViewInFolderListingEnabled"),o=(0,i.Z)("folderScopeMetadataEnabled"),s=(0,a.JR)({enabled:n&&!o&&t,refetchOnWindowFocus:!1}),d=s.data,m=s.isLoading,f=s.refetch,p=(0,l.D3)("folder",e,{enabled:n&&o&&t,refetchOnWindowFocus:!1}),v=p.data,g=p.isLoading,E=p.refetch,b=o?v:d,y=o?g:m,h=o?E:f;return(0,r.useEffect)((function(){return c.on(u,(function(){h()})),function(){return c.off(u,(function(){h()}))}}),[]),{namespacesDefinition:b,isLoading:y}}},761739:function(e,t){"use strict";t.Z={nameButton:"IYha5B_Tf9ZcFLLUNW0V",nameWrapper:"eN738mZe5vGgUcfI8qI5",description:"Kd7anzbpqm2qEuC3iMOz"}},767714:function(e,t){"use strict";t.Z={item:"Hw1x5xrQSyCMcjlX7EDr",name:"gjQwlc5M9oJlqpiYM4z0",icon:"B5TVoVhwgfDa8vjdZ7SS"}}}]);