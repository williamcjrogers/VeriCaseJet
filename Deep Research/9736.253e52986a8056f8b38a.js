"use strict";(self.webpackChunkEgnyte_CommonUI=self.webpackChunkEgnyte_CommonUI||[]).push([[9736],{725935:function(e,t,n){n.d(t,{y:function(){return s}});var a=n(204942),r=n(145218),o=n(23661),l=n(240701);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,r.useQuery)(c({queryKey:["".concat(e,"-").concat(t)],queryFn:function(){return(0,o.ZP)(l.Z.METADATA.TAG_COUNT({entityType:e,entityId:t}))}},n))}},605152:function(e,t,n){n.d(t,{V8:function(){return y},oR:function(){return h},vD:function(){return v},dM:function(){return E}});var a=n(204942),r=n(221842),o=n.n(r),l=n(145218),i=n(23661),c=n(240701),s=n(42594);function u(e){var t=e.searchUserPreferences,n=c.Z.SEARCH.USER_PREFERENCES;return(0,s.pL)()&&(n=c.Z.DOCUMENT_ROOM.PORTAL.USER_SEARCH_PREFERENCES({documentRoomId:(0,s.cO)()})),(0,i.ZP)(n,{method:"POST",body:t})}function d(){var e=c.Z.SEARCH.USER_PREFERENCES;return(0,s.pL)()&&(e=c.Z.DOCUMENT_ROOM.PORTAL.USER_SEARCH_PREFERENCES({documentRoomId:(0,s.cO)()})),(0,i.ZP)(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="searchUserPreferences";function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useQuery)(f({queryKey:[p],queryFn:d,select:function(e){return(null==e?void 0:e.filters)||{}}},e))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useQuery)(f({queryKey:[p],queryFn:d,select:function(e){return null!=e&&e.columns?f(f({},null==e?void 0:e.columns),{},{rowSize:null==e?void 0:e.rowSize}):{}}},e))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,a=(0,l.useQueryClient)();return(0,l.useMutation)(f({mutationFn:function(e){return u({searchUserPreferences:{filters:e}})}},o()({onSuccess:function(){a.invalidateQueries([p])}},n)))}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,a=(0,l.useQueryClient)();return(0,l.useMutation)(f({mutationFn:function(e){return u({searchUserPreferences:{columns:e.columns,rowSize:e.rowSize}})}},o()({onSuccess:function(){a.invalidateQueries([p])}},n)))}},300864:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(667294),r=n(762074),o=n(397404),l=n(359541),i=n(154177),c=(0,r.nD)("reviewFiles");function s(e){var t=(0,l.eA)(e,{enabled:!!e,refetchOnWindowFocus:!1}).data,n=(0,l.$3)(),r=n.mutate,s=n.data,u=(0,l.bp)().mutate;(0,a.useEffect)((function(){var n;e&&null!=t&&null!==(n=t.paths)&&void 0!==n&&n.length&&r({contractId:e,paths:t.paths.map((function(e){return e.path}))})}),[e,t,r]);var d=(0,a.useCallback)((function(){var n;e&&null!=t&&null!==(n=t.paths)&&void 0!==n&&n.length&&u({contractId:e,paths:t.paths.map((function(e){return e.path}))},{onSuccess:function(){(0,o.c0)(o.em.information,c("export.success"),{persist:!1})},onError:function(e){(0,i.k0)(e)&&(0,o.c0)(o.em.error,(0,i.e$)(e,c("export.error")),{persist:!1})}})}),[e,t,u]);return{filesCountBlockedByInsufficientCredits:(null==s?void 0:s.count)||0,downloadInsufficientCreditsContracts:d}}},201535:function(e,t,n){n.d(t,{Z:function(){return b}});var a=n(204942),r=n(667294),o=n(294184),l=n.n(o),i=n(779210),c=n(367283),s=n(337995),u=n(762074),d=n(319783),m=n(583025),f=n(576329),p=n(471449),E=n(579621),v=n(451545),h=n(264928),y=n(331022),g=function(e){var t=e.lastPathPart,n=e.id,a=e.path,o=e.selected,l=e.folderId,i=e.onFolderSelection;return r.createElement(m.Z,null,r.createElement("div",{className:"kXXNreXNGSwe7jZdGr3T"},r.createElement("div",{className:"XNvsmNlaI0hSYCyCJdRj"},r.createElement(f.Z,{id:n,name:a,onChange:function(){return i(l)},checked:o}),r.createElement("label",{htmlFor:n,className:"C_0YSDGPfcG_YEfS5qGQ L1NPGp0OArr9AgHvsxTA C7HhvVmv8inrSQjb607z eugzcnL4uVMlgbRkfTqa"},(0,p.f)(t,y.no))),r.createElement(E.Z,{as:"a",href:(0,h.do)(a),type:E.Z.TERTIARY,"aria-label":"link for ".concat(t," folder")},r.createElement(E.Z.Icon,{icon:v.g}))))},Z=(0,u.nD)("copilotHub");function b(e){var t=e.foldersList,n=e.onFolderSelection,o=t.filter((function(e){return e.selected})).length,u=t.length===o,m=Z(u?"smartAppsContracts.dashboard.filters.allSelected":"smartAppsContracts.dashboard.filters.foldersSelected",{count:o});return r.createElement("div",{className:l()("KwPNZe4Zabx0XXpz6IYR Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",(0,a.Z)({},"Ay5A3u8oGvZ13KaCA0Ca",u))},r.createElement(i.Z,{closeMenuOnClick:!1,trigger:r.createElement(c.Z,{"data-tid":"selected-folders-filter"},r.createElement("span",null,Z("folders"),o>0&&r.createElement(r.Fragment,null,": ",r.createElement("strong",null,m)))),"data-tid":"filter-folders-dropdown"},r.createElement(s.Z,{className:"g5AEU6HxQxqSZuv0DgKf"},t.map((function(e){var t=e.path,a=e.id,o=e.selected,l=e.folderId,i=(0,d.dX)(t,{appendSlash:!1});return r.createElement(g,{key:a,lastPathPart:i,id:a,path:t,selected:o,folderId:l,onFolderSelection:n})})))))}},113790:function(e,t,n){n.d(t,{A:function(){return i},s:function(){return l}});var a=n(667294),r=n(887275),o=(0,a.createContext)(null);function l(e){var t=e.children,n=e.currentSearchQuery,l=(0,r.Z)(n),i=(0,a.useMemo)((function(){return{previousSearchQuery:l,currentSearchQuery:n}}),[n,l]);return a.createElement(o.Provider,{value:i},t)}function i(){var e=(0,a.useContext)(o);if(!e)throw new Error("useSearchQuery must be used within SearchQueryProvider");return e}},646788:function(e,t,n){n.d(t,{W:function(){return r},Z:function(){return o}});var a=n(667294),r=(0,a.createContext)(null);function o(){var e=(0,a.useContext)(r);if(!e)throw new Error("useSmartContractFoldersContext must be used within SmartContractFoldersProvider");return e}},894451:function(e,t,n){n.d(t,{G:function(){return l},c:function(){return o}});var a=n(667294),r=(0,a.createContext)(null);function o(e){var t=e.children,n=e.filtersState;return a.createElement(r.Provider,{value:n},t)}function l(){var e=(0,a.useContext)(r);if(!e)throw new Error("useSmartContractsFiltersContext must be used within SmartContractsFiltersProvider");return e}},156607:function(e,t,n){n.d(t,{Z:function(){return j}});var a=n(93433),r=n(204942),o=n(986456),l=n.n(o),i=n(19309),c=n(601714),s=n(776327),u=n(413290),d=n(927875),m=n(690415),f=n(365007),p=n(599950),E=n(792189),v=n(340313),h=n(582512),y=n(215671),g=n(143144),Z=n(415992),b=n(213770);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var O=function(){function e(t){(0,y.Z)(this,e),this.collection=t}return(0,g.Z)(e,[{key:"read",value:function(e,t,n){var o;n.type="POST";var i=t.searchQuery,c=t.metadataProperties,s=t.fileQueryFields,u=t.folderQueryFields,d=t.latitude,m=t.longitude,f=t.radius,p=t.streetAddress,E=t.mlt,v=t.nlQuery,h=t.allowViewerOnly,y=t.allowEmptyQuery,g=t.documentTypeMap,O=t.locations,S=t.anyCustomMetadata,N=t.type,P=t.anyInnerCustomMetadata,T=t.anyOuterCustomMetadata,A=t.multiLevelCustomMetadata;l().defaults(n.data,{query:i,customMetadata:c,fileQueryFields:s,folderQueryFields:u,latitude:d,longitude:m,radius:f,streetAddress:p,mlt:E,nlQuery:v,allowViewerOnly:h,allowEmptyQuery:y,documentTypeMap:g,locations:O,anyCustomMetadata:S,type:N,anyInnerCustomMetadata:P,anyOuterCustomMetadata:T,multiLevelCustomMetadata:A}),n.data.type&&(n.data.type=n.data.type.toUpperCase()),"string"==typeof n.data.nlQuery&&(n.data.nlQuery=JSON.parse(n.data.nlQuery));var D,w,M=(D=n.data,w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},D),D.sortDirection===Z.B.ASC&&(w.sortDirection="ascending"),D.sortDirection===Z.B.DESC&&(w.sortDirection="descending"),w);return(null===(o=M.locations)||void 0===o?void 0:o.length)>0&&delete M.location,l().pick.apply(l(),[M,"uploadedInLast","modifiedInLast","createdAfter","createdBefore","modifiedAfter","modifiedBefore","customMetadata","fileQueryFields","folderQueryFields","latitude","longitude","radius","streetAddress","extensionsCategory","limit","location","locations","offset","query","type","username","sortBy","sortDirection","savedSearchQuery","savedSearchQueryId","queryOperator","mlt","nlQuery","namespaces","anyCustomMetadata","allowViewerOnly","allowEmptyQuery","documentTypeMap","explicitFolderToQueryExcludingChildFolders","anyInnerCustomMetadata","anyOuterCustomMetadata","multiLevelCustomMetadata"].concat((0,a.Z)(Object.keys((0,b.SY)()))))}}]),e}(),S=function(){function e(t){(0,y.Z)(this,e),this.collection=t}return(0,g.Z)(e,[{key:"url",value:function(){return"".concat(c.Z.getSearchUrl(),"/").concat(this.collection.domain)}},{key:"read",value:function(e,t,n){return n.type="POST",l().defaults(n.data,{query:t.searchQuery}),n.data.type&&(n.data.type=n.data.type.toUpperCase()),l().pick(n.data,"uploadedInLast","modifiedInLast","createdAfter","createdBefore","modifiedAfter","modifiedBefore","customMetadata","extensionsCategory","limit","location","offset","query","type","username")}}]),e}(),N=n(42594),P=n(722332),T=P.Z.extend({get:function(e){return"path"===e?(0,N.DW)(this):P.Z.prototype.get.call(this,e)}}),A=n(611752),D=n(360136),w=n(182963),M=n(661120);var k=function(e){(0,D.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,M.Z)(t);if(n){var r=(0,M.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,w.Z)(this,e)});function r(e){var t;return(0,y.Z)(this,r),(t=a.call(this,e)).collection=e,t}return(0,g.Z)(r,[{key:"read",value:function(e,t,n){n.type="POST";var a,o=(0,A.Z)((0,M.Z)(r.prototype),"read",this).call(this,e,t,n);return o.knnDocId||(o.knnDocId=null===(a=t.filters.find((function(e){return"mlt"===e.name})))||void 0===a?void 0:a.value),o.query&&delete o.query,o.mlt&&delete o.mlt,o}}]),r}(O),I=n(459829);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=u.Z.extend({model:T,sortField:void 0,sortDirection:void 0,namespaces:[],adapter:O,server_api:l().extend({},u.Z.prototype.server_api,{offset:function(){return this.realOffset}}),url:function(){var e=this.domain?"/".concat(this.domain):"";return c.Z.getSearchUrl()+e},initialize:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l().extend(this,{filters:[],metadataProperties:[],fileQueryFields:[],folderQueryFields:[],latitude:void 0,longitude:void 0,radius:void 0,streetAddress:void 0,domain:void 0,mlt:void 0,fileExtension:void 0,allowViewerOnly:!0,documentTypeMap:{},locations:void 0,anyInnerCustomMetadata:void 0,anyOuterCustomMetadata:void 0,multiLevelCustomMetadata:void 0},n),this.fileExtension?this.adapter=new k(this):this.adapter=this.domain?new S(this):new O(this),this.clearOffset(),this.perPage=20,this.bindEvents();for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];return(t=i.Z.PaginatedCollection.prototype.initialize).call.apply(t,[this,e,n].concat(r))},deinitialize:function(){this.unbindEvents()},bindEvents:function(){this.listenToCreatedLinksToIncreaseIndicators()},unbindEvents:function(){this.off(null,null,this),s.ZP.off(null,null,this)},hasPrev:function(){return this.offsets.length>1},hasNext:function(){return this.hasMore},parse:function(e){var t;this.hasMore=e.hasMore,this.realOffset=e.realOffset,this.searchId=e.searchId;for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(t=u.Z.prototype.parse).call.apply(t,[this,e].concat(a))},requestCurrentPage:function(){this.realOffset=this.offsets[this.offsets.length-1];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.Z.prototype.fetch.apply(this,t)},requestNextPage:function(){this.offsets.push(this.realOffset);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.Z.prototype.requestNextPage.apply(this,t)},requestPreviousPage:function(){this.offsets.pop(),this.realOffset=this.offsets[this.offsets.length-1];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.Z.prototype.requestPreviousPage.apply(this,t)},fetch:function(e){var t,n,r,o,l=R(R({},e),{},{browseMode:!!this.browseMode});this.fetchStart=new Date;var i,c=(0,p.Jj)({onlyNamespace:!0}),s=[].concat((0,a.Z)(this.namespaces||[]),(0,a.Z)(null!==(t=null===(n=l)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.namespaces)&&void 0!==t?t:[]));if(c.length&&null!==(o=this.metadataNamespaces)&&void 0!==o&&o.length){var d,m=this.metadataNamespaces.map((function(e){return e.name}));c.every((function(e){return m.includes(e)}))&&(d=s).push.apply(d,(0,a.Z)(c))}return(s=(0,v.Aw)(s)).length>0&&(l=R(R({},l),{},{data:R(R({},null===(i=l)||void 0===i?void 0:i.data),{},{namespaces:s})})),u.Z.prototype.fetch.call(this,l)},setSorting:function(e){var t=e.sortField,n=e.sortDirection;this.sortDirection===n&&this.sortField===t||this.clearOffset();for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];u.Z.prototype.setSorting.apply(this,[{sortField:t,sortDirection:n}].concat(r))},clearSorting:function(){this.clearOffset(),u.Z.prototype.clearSorting.apply(this)},clearOffset:function(){this.offsets=[0],this.realOffset=0},isSearchWithoutQueryValid:function(){return 0!==this.metadataProperties.length||!!this.latitude&&!!this.longitude&&!!this.radius||this.fileExtension},isSearchQueryValid:function(){return!this.getSearchQueryValidationMessage()&&(!!this.searchQuery||this.isSearchWithoutQueryValid())},isFetching:function(){return(this.fetchStart||0)>(this.loadingEndDate||0)},getSearchQueryValidationMessage:function(){return this.searchQuery?(0,I.Z)(this.searchQuery):""},setProperty:function(e,t){this[e]=t,this.trigger("change")}},{FILTERS:h.Z,query:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],s=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:{},m=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],f=t;null!=r&&r.queryId&&f.push({name:"savedSearchQuery",value:!0},{name:"savedSearchQueryId",value:r.queryId});var p=new F([],R(R(R(R({searchQuery:e,fileExtension:l,filters:f,metadataProperties:n,nlQuery:c,allowViewerOnly:s},a),o),i),{},{namespaces:m,documentTypeMap:u}));return p.isSearchQueryValid()&&(p.setProperty("loadingStartDate",Date.now()),d.Z.fetchResults(p,R(R({},i),{data:R({},(0,E.tz)()?{allowViewerOnly:!0}:{})}))),p},createBrowseCollection:function(e){var t=e.basicFilters,n=e.metadata,r=e.path,o=e.onSuccess,l=e.requestRef,i=e.sortField,c=e.sortOrder,s=e.namespaces,u=e.disableSubfolderSearch,p=e.shouldDebounceRequest,E=e.debounceCallback,v=[{name:h.Z.LOCATION.NAME,value:r}].concat((0,a.Z)(t)),y=m.ZP.getContentParams(),g={};u&&(v.push({name:"explicitFolderToQueryExcludingChildFolders",value:r}),g.allowEmptyQuery=!0);var Z=new F([],R(R({searchQuery:"",filters:v,metadataProperties:n,browseMode:!0,path:r,namespaces:s},g),y));i&&!["custom_metadata","owner"].includes(i)&&(Z.sortField=i,c&&(Z.sortDirection=c===f.Q.asc?f.Q.asc:f.Q.desc));var b=function(){Z.setProperty("loadingEndDate",Date.now()),o(l)};Z.setProperty("loadingStartDate",Date.now());var C=function(){d.Z.fetchResults(Z,{browseMode:!0},b)};p||C();var O=setTimeout((function(){p&&C(),E()}),500);return{collection:Z,fetchResultsTimer:O}}}),j=F},962045:function(e,t,n){n.d(t,{$W:function(){return f},NC:function(){return m},aC:function(){return p}});var a=n(204942),r=n(96506),o=n(369889),l=n(40513),i=n(7153),c=n(867512),s=n(264928),u=n(787781);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e,t){var n=e.path,l=e.id;(0,r.hy)()?(0,i.openFileInNativeFileBrowser)({groupId:l,path:n}):o.ZP.run(n,[],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fetchMethod:o.ZP.FETCH_METHOD.byPath},t))}function f(e){(0,r.hy)()?(0,i.openFolderInNativeFileBrowser)({path:e}):(0,s.uj)(e)}function p(e){var t=e.id,n=e.type,a=e.path,o=e.clickHandler;if((0,r.hy)())return{href:void 0,as:"a",onClick:function(e){e.stopPropagation(),e.preventDefault(),n===l.dt.FILE?(0,i.selectFileInNativeFileBrowser)({path:a,groupId:t}):(0,i.selectFolderInNativeFileBrowser)({path:a,id:t}),o(e)}};var s=u.ZP.getParentPath(a);return{href:(0,c.w)(s),as:"a",onClick:function(e){o(e)}}}},927875:function(e,t,n){n.d(t,{Z:function(){return P}});var a=n(204942),r=n(986456),o=n.n(r),l=n(653712),i=n(690415),c=n(601714),s=n(776327),u=n(81809),d=n(115861),m=n(364687),f=n.n(m),p=n(23661),E=n(240701),v=n(474824);function h(e){return y.apply(this,arguments)}function y(){return(y=(0,d.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.ZP)(E.Z.SEARCH.INDEXER_STATUS(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=e.esContentVectorAvailable,n=e.failureReason,a=e.ageInDays;if(!t){if("FAILED_EMBEDDINGS_GET"===n||"FAILED_EMBEDDINGS_PIXEL_SIZE"===n)return null;if(n&&a<7)return{title:(0,v.t)("error.indexerStatus.processingTitle"),description:(0,v.t)("error.indexerStatus.processingDescriptionShort")};if(!n&&a<7)return{title:(0,v.t)("error.indexerStatus.processingTitle"),description:(0,v.t)("error.indexerStatus.processingDescription")};if(a>=7)return{title:(0,v.t)("error.indexerStatus.notAvailableTitle"),description:(0,v.t)("error.indexerStatus.notAvailableDescription")}}return null}var Z=n(582512);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=[],S=0;function N(e){return e.id=S+1,e.then((function(){return O.splice(O.indexOf(o().findWhere(O,{id:e.id})),1)})),O.push(e),e}var P={fetchResults:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=function(e){return null==n||n(),e};return e.once("error",(function(e,t){if("abort"!==t.statusText){var n,a=null===(n=i.ZP.getSearchOptionsFromHash(window.location.hash))||void 0===n?void 0:n.mlt;404===t.status?"string"==typeof a&&a&&h(a).then((function(e){var t=g(e);t&&s.ZP.trigger(s.ZP.Events.Common.DEFAULT_ERROR,JSON.stringify({errors:[{msg:t.description,title:t.title}]}))})).catch((function(){s.ZP.trigger(s.ZP.Events.Common.DEFAULT_ERROR,t)})):s.ZP.trigger(s.ZP.Events.Common.DEFAULT_ERROR,t)}})),N(e.fetch(C({success:a,error:a},t)))},abortAllRequests:function(){O.forEach((function(e){return e.abort()})),O=[],S=0},getXhrStack:function(){return O},getCrossDomainRedirectionURL:function(e,t){var n=e.getFilter(Z.Z.TYPE.NAME);return l.Z.addQueryParams(c.Z.getSwitchDomainUrl(),{id:t,redirectUrl:"".concat(u.Z,"#").concat(i.ZP.getSearchHash(e.searchQuery,{type:(null==n?void 0:n.value)||Z.Z.TYPE.KEYS.ALL}))})}}},459829:function(e,t,n){var a=n(762074),r=n(690415),o=n(735691),l=(0,a.nD)("search.query.validation.message"),i=o.Z_().trim().required(l("no_query")).min(r.cc,l("too_short",{min:r.cc}));t.Z=function(e){var t=(0,r.tD)(),n=i.max(t,l("too_long",{max:t}));try{return n.validateSync(e),""}catch(e){return e.message}}},413976:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(487462),r=n(204942),o=n(667294),l=n(294184),i=n.n(l),c=n(799532),s=n(51505),u=n(698607),d=n(762074),m=n(499345),f=n(918233),p=function(e){var t=e.namespace,n=e.property,l=e.manualEllipsis,p=void 0===l||l,E=e.autoAdded,v=void 0!==E&&E,h=e.metadataKey,y=e.size;return o.createElement("div",{className:i()("kaMwDrk4CR0Nfu82wWBa eugzcnL4uVMlgbRkfTqa",(0,r.Z)({},"vGhwCdXUal8JPci_jdNV Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6",y===f.LV.CONDENSED)),"data-metadata-cell-id":h},v&&o.createElement(u.Z,{tooltip:t?(0,d.t)("search.metadata.addedMetadataHeaderTip",{namespaceName:t,propertyName:n}):(0,d.t)("search.metadata.addedMetadataHeaderTipNoNamespace",{propertyName:n})},o.createElement(c.Z,{icon:s.hd})),n&&o.createElement(m.Z,(0,a.default)({forceShowTooltip:!0,tooltip:t?"".concat(t,": ").concat(n):n},p?{maxLength:15}:{}),n))}},13642:function(e,t,n){n.d(t,{B:function(){return O},c:function(){return C}});var a=n(93433),r=n(529439),o=n(667294),l=n(986456),i=n.n(l),c=n(460474),s=n(920517),u=n(639155),d=n(589698),m=n(120865),f=n(19057),p=n(138796),E=n(865485),v=n(153672),h=n(413976),y=[],g={},Z={id:"contract type",accessor:function(e){return(0,E.nY)(e,"contract analyst","contract type")},Cell:s.Z,Header:(0,h.Z)({namespace:"Contract Analyst",property:"Contract Type",autoAdded:!0,metadataKey:"contract analyst:contract type"}),minWidth:130,disableSortBy:!0,alwaysVisible:!0};function b(e){var t=[];return Object.entries(e).map((function(e){var t=(0,r.Z)(e,2);return{namespace:t[0],properties:t[1]}})).forEach((function(e){e.properties.forEach((function(n){t.push({namespace:e.namespace,key:n})}))})),t}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.collection,n=e.customColumns,l=void 0===n?g:n,c=e.namespaces,C=e.privateNamespaceList,O=void 0===C?y:C,S=e.showAutoAddedMetadataColumns,N=void 0===S||S,P=e.highlightAutoAddedMetadataColumns,T=void 0!==P&&P,A=e.contractDocTypesColumns,D=void 0===A?y:A,w=e.smartContractSearch,M=void 0!==w&&w,k=e.generateDataGridV2CompatibleColumns,I=void 0!==k&&k,L=e.propertiesWithHasKeyFallback,R=void 0===L?y:L,F=(0,f.Z)(["searchDynamicColumnEnabled","searchResultsCustomColumnPreferencesEnabled","maxCustomMetadataColumnsLimit","isContractsMultiNamespaceEnabled"]),j=(0,r.Z)(F,4),_=j[0],V=j[1],U=j[2],Q=j[3],Y=(0,v.ZP)(),x=Y.data,B=(0,o.useMemo)((function(){var e;return(null==c?void 0:c.length)>0?c:null!==(e=u.ZP.getMetadataNamespaces())&&void 0!==e?e:[]}),[c]),z=(0,o.useMemo)((function(){return b(l)}),[l]);return(0,o.useMemo)((function(){var e;if(Q&&M){var n;if(0===B.length)return{showLegacyMetadata:!1,filteredMetadataColumns:[Z]};var r=((null===(n=t.multiLevelCustomMetadata)||void 0===n?void 0:n.flat())||[]).map((function(e){var t=e.namespace,n=e.key,a=i().find(B,(function(e){return e.id===n}));if(!a)return null;var r={name:a.name,type:a.name,displayName:a.name||"-"};return{id:"".concat(t,":").concat(n),accessor:function(e){return(0,E.nY)(e,t,n)},Cell:s.Z,Header:(0,h.Z)({namespace:"",property:null==r?void 0:r.displayName,autoAdded:!0,metadataKey:"".concat(t,":").concat(n)}),minWidth:130,disableSortBy:!0,alwaysVisible:!0,isMetadataColumn:!0,isHighlighted:!0}})).filter(Boolean);return{showLegacyMetadata:!1,filteredMetadataColumns:r=[Z].concat((0,a.Z)(r))}}var o=!(null==t||null===(e=t.metadataProperties)||void 0===e||!e.length);if(!o||!(_&&V&&U))return{showLegacyMetadata:o,filteredMetadataColumns:[]};var l=t.metadataProperties,c=t.metadataProperties.filter((function(e){var t=e.operator,n=e.key;return!(t&&t===(0,d.Z)().operator.HAS_KEY&&n===m.ci.CONTRACT_TYPE)}));M&&(l=D.length?c.concat(D):c);var u=l.map((function(e){var t,n,a,r=e.namespace,o=e.key,l=(0,E.A4)({namespacesDefinition:B,namespace:r}),i=(0,E.wP)({namespacesDefinition:B,namespace:r,key:o});(!l||!i)&&Array.isArray(O)&&O.length>0&&(l||(l=(0,E.A4)({namespacesDefinition:O,namespace:r})),i||(i=(0,E.wP)({namespacesDefinition:O,namespace:r,key:o})));var c=!z.find((function(e){return e.namespace===r&&e.key===o}));return c&&!N?null:I?l&&i?(0,p.C)({propDefinition:i,namespaceDefinition:l,property:e,autoAdded:c,env:x,highlight:T,hasAddedColumnViaFilter:R.includes("".concat(r,":").concat(o))}):null:{id:"".concat(r,":").concat(o),accessor:function(e){return(0,E.nY)(e,r,o)},Cell:s.Z,Header:(0,h.Z)({namespace:null!==(t=null===(n=l)||void 0===n?void 0:n.displayName)&&void 0!==t?t:r,property:null===(a=i)||void 0===a?void 0:a.displayName,autoAdded:c,metadataKey:"".concat(r,":").concat(o)}),minWidth:130,disableSortBy:!0,alwaysVisible:!0,isMetadataColumn:!0,isHighlighted:!0}})).filter(Boolean),f=u.find((function(e){return e.id===m.bw})),v=u.filter((function(e){return e.id!==m.bw}));return{showLegacyMetadata:!1,filteredMetadataColumns:f?[f].concat((0,a.Z)(v)):v}}),[Q,t.metadataProperties,t.multiLevelCustomMetadata,_,V,U,M,D,B,O,z,N,I,x,T,R])}function O(e,t){var n=(0,c.Z)("searchDynamicColumnEnabled"),a=(0,c.Z)("searchResultsCustomColumnPreferencesEnabled"),r=(0,c.Z)("maxCustomMetadataColumnsLimit"),l=u.ZP.getMetadataNamespaces();return(0,o.useMemo)((function(){if(!(n&&a&&r&&e))return[];var o=b(e).filter((function(e){return!t.find((function(t){return t.id==="".concat(e.namespace,":").concat(e.key)}))}));return o.length?o.map((function(e){var t,n=e.namespace,a=e.key,r=(0,E.A4)({namespacesDefinition:l,namespace:n}),o=(0,E.wP)({namespacesDefinition:l,namespace:n,key:a});return{id:"".concat(n,":").concat(a),accessor:function(e){return(0,E.nY)(e,n,a)},Cell:s.Z,Header:(0,h.Z)({namespace:null!==(t=null==r?void 0:r.displayName)&&void 0!==t?t:n,property:null==o?void 0:o.displayName,metadataKey:"".concat(n,":").concat(a)}),minWidth:130,disableSortBy:!0,alwaysVisible:!0,isMetadataColumn:!0}})):[]}),[e,l,t,n,a,r])}},28396:function(e,t,n){n.d(t,{A4:function(){return l},S2:function(){return o},wP:function(){return i}});var a=n(986456),r=n.n(a);function o(e){return Array.isArray(e)?e.filter((function(e){return!!e.value.length})):[]}function l(e){var t=e.namespacesDefinition,n=e.namespace;return r().find(t,(function(e){return e.name===n}))}function i(e){var t=e.namespacesDefinition,n=e.namespace,a=e.key,o=l({namespacesDefinition:t,namespace:n});if(o){var i=o.properties,c=r().find(i,(function(e){return e.name===a}));if(c)return{type:c.type.toUpperCase(),displayName:c.displayName||a||"-"}}return{}}},876950:function(e,t,n){n.d(t,{Z:function(){return Oe},o:function(){return ye}});var a=n(487462),r=n(145987),o=n(204942),l=n(667294),i=n(294184),c=n.n(i),s=n(579621),u=n(779210),d=n(337995),m=n(583025),f=n(645816),p=n(777814),E=n(268409),v=n(957629),h=n(621465),y=n(799532),g=n(330759),Z=n(499345),b=n(698607),C=n(460474),O=n(340313),S=["name","properties"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=n(762074),A=n(626311),D=n(38638),w=n(836973),M=n(40509),k=n(79564),I=(0,T.nD)("dataGrid.quickViewToggle"),L=function(e){var t=e.checked,n=e.onChange;return l.createElement("div",{className:"acNW4YXRdzaCeLqSswQV","data-tid":"quick-view-toggle","data-pendoid":"quick-view-toggle","aria-label":I("label")},l.createElement("div",{className:"I3z6UGg8__KQHYG7op2O"},l.createElement(D.Z,{id:"quick-view-toggle",checked:t,onChange:function(e){n(e.target.checked)}})),l.createElement("label",{htmlFor:"quick-view-toggle",className:"_MhSXlsKo2kbIrRPW2ER"},l.createElement(M.Z.SemiBold,null,I("label"))),l.createElement(k.Z,{size:y.Z.sizes.M,interactive:!0},I("tooltip")),l.createElement("img",{src:w,alt:I("imageAlt"),className:"LPM82iP1VKrKf2O9GSGG"}))},R=n(529439),F=n(45697),j=n.n(F),_=n(986456),V=n.n(_),U=n(367283),Q=n(557155),Y=n(4845),x=n(313270),B=n(722610),z=n(6587),H=n(576329),G=n(331067),K=n(713147),q=n(836299),W=n(839365),X=n(792189),J=n(213770),$="lqglTCWMcUyRK24rt6fn",ee=["selectedMetadataSize","disabled"],te=["namespaces","namespacePreference","metadataFilterNamespacePreference","searchView","onMetadataReset","onMetadataSubmit"];function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=(0,T.nD)("search.editView.metadata");function oe(e){var t=e.value,n=e.placeholder,a=e.onChange,r=e.onClear,o=n.replace(" ","-").toLowerCase();return l.createElement("div",{className:"SH0yOW2fXLhUqUbuCYEL QspI3Sow0uF6jJWV3_4r"},l.createElement(z.Z,{"data-tid":o,value:t,onChange:a,placeholder:n,startAdornment:l.createElement(y.Z,{icon:x.y}),endAdornment:t.length>0&&l.createElement(Y.Z,{onClick:r,icon:B.xv,size:Y.Z.sizes.SMALL,"aria-label":re("resetLabel")})}))}var le=(0,l.forwardRef)((function(e,t){var n=e.selectedMetadataSize,o=e.disabled,i=(0,r.Z)(e,ee);return l.createElement(b.Z,{tooltip:o&&re("tooltip.noMetadata")},l.createElement(U.Z,(0,a.default)({ref:t},i,{"data-tid":"search-metadata-menu",type:Q.Z.SECONDARY,disabled:o}),l.createElement("span",null,re(n?"title.edit":"title.add")),!!n&&l.createElement(q.Z,{value:n})))}));function ie(e){var t=e.metadata,n=e.isDisabled;return l.createElement("label",{htmlFor:t.id,"data-tid":t.id,className:c()((0,o.Z)({},$,n))},l.createElement(Z.Z,{tooltip:t.label,disableTooltip:n},t.label))}function ce(e){var t=e.selectedMetadata,n=e.selectedMetadataSize,a=e.namespacePreference,r=e.metadataFilterNamespacePreference,o=e.onMetadataReset,i=e.onMetadataSubmit,c=!!Object.values(r).flat().length,u=(0,l.useMemo)((function(){return!V().isEqual(a,t)}),[a,t]);return l.createElement("div",{className:"rMgLQJ_uAj0IC4CXzpmD"},!!n&&l.createElement("div",{className:"aY4hNrWA7e8YQQBj060u QspI3Sow0uF6jJWV3_4r"},l.createElement(Z.Z,null,re("info",{count:n}))),l.createElement("div",{className:"duI1q1Bmhq_pks1k5xEN"},l.createElement(b.Z,{disabled:!n,tooltip:re(c?"tooltip.resetMetadataDisabled":"tooltip.resetMetadata")},l.createElement(s.Z,{type:s.Z.SECONDARY,disabled:!n||c,onClick:o},re("button.clear"))),l.createElement(b.Z,{disabled:!!n,tooltip:re("tooltip.disabledApply")},l.createElement(s.Z,{type:s.Z.PRIMARY,disabled:!u,onClick:function(){i(t)}},re("button.apply")))))}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=V().deepClone(e);return Object.keys(t).forEach((function(e){var a;n[e]=V().union(null!==(a=n[e])&&void 0!==a?a:[],t[e])})),n}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=se(t,n);return e.filter((function(e){return e.scope!==J.Su})).map((function(e){var t,r;return{id:e.name,label:e.displayName||e.name,properties:null!==(t=null===(r=e.properties)||void 0===r?void 0:r.map((function(t){var r,o;return{id:t.name,label:t.displayName||t.name,checked:Boolean(null===(r=a[e.name])||void 0===r?void 0:r.includes(t.name)),isFilter:Boolean(null===(o=n[e.name])||void 0===o?void 0:o.includes(t.name))}})))&&void 0!==t?t:[]}}))}function de(e,t){var n=t.toLowerCase().trim();return e.filter((function(e){return e.label.toLowerCase().includes(n)}))}function me(e){var t=e.namespaces,n=e.namespacePreference,i=e.metadataFilterNamespacePreference,s=void 0===i?{}:i,m=e.searchView,f=e.onMetadataReset,p=e.onMetadataSubmit,E=(0,r.Z)(e,te),v=(0,l.useRef)(),h=(0,l.useState)(!1),y=(0,R.Z)(h,2),g=y[0],O=y[1],S=(0,C.Z)("maxCustomMetadataColumnsLimit"),N=(0,C.Z)("isEditViewInFolderListingEnabled"),P=m?S:N,T=(0,l.useState)(""),A=(0,R.Z)(T,2),D=A[0],w=A[1],M=(0,l.useState)(""),k=(0,R.Z)(M,2),I=k[0],L=k[1],F=(0,l.useState)(""),j=(0,R.Z)(F,2),_=j[0],U=j[1],Q=(0,l.useState)([]),Y=(0,R.Z)(Q,2),x=Y[0],B=Y[1],z=(0,l.useState)({}),q=(0,R.Z)(z,2),ee=q[0],ne=q[1],me=(0,l.useMemo)((function(){return Object.values(ee).flat().filter(Boolean).length}),[ee]),fe=(0,l.useMemo)((function(){return de(x,I)}),[I,x]);(0,l.useEffect)((function(){B(ue(t,n,s));var e=se(n,s);ne((0,X.tz)()?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=V().deepClone(e),a=t.reduce((function(e,t){return e[t.name]=(null==t?void 0:t.scope)===J.Su,e}),{}),r=0,o=Object.entries(e);r<o.length;r++){var l=(0,R.Z)(o[r],1)[0];a[l]&&delete n[l]}return n}(e,t):e)}),[t,n,s]);var pe=(0,l.useCallback)((function(e){return de(e,_)}),[_]),Ee=function(){B(ue(t,{},{})),ne({}),Object.keys(n).length&&f()},ve=function(e){var t=e.target.value;return L(t)},he=function(e){var t=e.target.value;return U(t)},ye=function(){return L("")},ge=function(){return U("")},Ze=function(){g||O(!0),clearTimeout(v.current),v.current=setTimeout((function(){O(!1)}),300)};return l.createElement("div",{className:"dgwD0tL21PrLlFZAUlGV"},l.createElement(u.Z,{trigger:l.createElement(le,(0,a.default)({selectedMetadataSize:me,disabled:!t.length},E)),menuPlacement:"right-start",onToggle:ye,maxSizeEnabled:!1,closeMenuOnClick:!1},(function(){return l.createElement("div",{className:"ve8FI7amUKHk9e9PdPvK"},l.createElement(oe,{value:I,placeholder:re("placeholder.groups"),onChange:ve,onClear:ye}),l.createElement(d.Z,null,l.createElement("div",(0,a.default)({className:"OnHzBziYdLR4oPwORFwA"},W.Z.isSafari()?{onScroll:Ze}:{}),fe.map((function(e){return l.createElement("div",{key:e.id,className:c()("puNg7eAJznbOCwlIC6kQ",(0,o.Z)({},"Vg8dUuOW9KYtsrwzm3xK",g)),onMouseOver:function(){return w(e.id)},onFocus:function(){return w(e.id)}},l.createElement(G.Z,{menuItemProps:{title:l.createElement(Z.Z,{tooltip:e.label},e.label)},menuPlacement:"left-start",onExpand:ge},l.createElement(oe,{value:_,placeholder:re("placeholder.properties"),onChange:he,onClear:ge}),l.createElement("div",(0,a.default)({className:"jW__gwHAApU87ULSM3Ig"},W.Z.isSafari()?{onScroll:function(e){return e.stopPropagation()}}:{}),e.id===D&&pe(e.properties).map((function(t){var n=t.isFilter||me>=P&&!t.checked;return l.createElement(b.Z,{key:t.id,tooltip:n&&(t.isFilter?re("tooltip.autoAddedProperty"):re("tooltip.disabledCheckbox",{limit:P}))},l.createElement("div",{className:c()("iNn6GXzGXZa0G9Sc0vw6",(0,o.Z)({},$,n))},l.createElement(H.Z,{checked:t.checked,id:t.id,name:t.label,disabled:n,onChange:function(){return n=e.id,r=(a=t).id,o=a.checked,l=x.map((function(e){return e.id===n?ae(ae({},e),{},{properties:e.properties.map((function(e){return e.id===r?ae(ae({},e),{},{checked:!o}):e}))}):e})),i=function(e,t){var n=t.namespaceId,a=t.metadataId,r=t.checked,o=V().deepClone(e);return r?o[n]?o[n]=o[n].concat(a):o[n]=[a]:o[n]=o[n].filter((function(e){return e!==a})),o}(ee,{namespaceId:n,metadataId:r,checked:!o}),B(l),void ne(i);var n,a,r,o,l,i}}),l.createElement(ie,{metadata:t,isDisabled:n})))})))))})))),l.createElement(K.Z,null),l.createElement(ce,{selectedMetadata:ee,selectedMetadataSize:me,namespacePreference:n,metadataFilterNamespacePreference:s,onMetadataReset:Ee,onMetadataSubmit:p}))})))}le.propTypes={selectedMetadataSize:j().number.isRequired,disabled:j().bool.isRequired};var fe=(0,l.memo)(me),pe="tLwP6J7D3dEsc3MzeWWm",Ee=["isDefaultView","searchView","galleryView"],ve=["searchView","galleryView","columnNamesList","rowSize","onChange","isDefaultView","onRowSizeChange","onReset","namespaces","namespacePreference","onMetadataReset","onMetadataSubmit","metadataFilterNamespacePreference","onEditViewToggle","smartContractSearch","largeRowSupported","showQuickView","onShowQuickViewChange"],he=(0,T.nD)("search.editView"),ye={default:"DEFAULT",large:"LARGE"};function ge(e){var t=e.onReset;return l.createElement("div",{className:"nH5wkLT6OhUTaV5mKsDt"},l.createElement(s.Z,{"data-tid":"edit-view-reset",type:s.Z.TERTIARY,onClick:t,inline:!1},he("resetButton"),l.createElement(s.Z.Icon,{icon:p.b})))}function Ze(e){var t=e.searchView,n=e.rowSize,a=e.namespacePreference,r=e.onRowSizeChange,i=e.largeRowSupported,s=!t&&!Object.keys(a||{}).length&&!i;return l.createElement("div",{className:"_VPF0FVdLz2AwBlLNyqZ"},l.createElement("span",{className:"pi2Mdx68d0H7ngSDOtLM vlpHvsjgdbzjuadKPQ3e C7HhvVmv8inrSQjb607z cMD1Ln5gNqHc7P7v_G_6"},he("rowSizeHeading")),l.createElement(g.Z,{id:ye.default,role:"radio",size:g.Z.SIZES.S,checked:ye.default===n,onChange:function(){return r(ye.default)}},he("rowSizes.default")),l.createElement(b.Z,{tooltip:he("rowSizeDisabledTooltip"),disabled:!s},l.createElement("span",{className:"wyfPFJefxYE1z7GGMRJT"},l.createElement(g.Z,{id:ye.large,role:"radio",size:g.Z.SIZES.S,checked:ye.large===n,disabled:s,onChange:function(){s||r(ye.large)}},l.createElement("span",{className:c()((0,o.Z)({},pe,s))},he("rowSizes.large"))))))}var be=(0,l.forwardRef)((function(e,t){var n=e.isDefaultView,o=e.searchView,i=e.galleryView,c=(0,r.Z)(e,Ee);return l.createElement(b.Z,{tooltip:he(n?o?"button.searchTooltip":"button.tooltip":"button.customViewTooltip"),disabled:i},l.createElement(s.Z,(0,a.default)({ref:t},c,{type:s.Z.TERTIARY_SUBTLE,"data-tid":o?"search-edit-view":"folder-edit-view","aria-label":he("button.title")}),l.createElement(s.Z.Icon,{icon:E.KK,customSize:"20px"}),!n&&!i&&l.createElement("div",{className:"CQizJcfqQaqg1hZyzMkL"}," ",l.createElement(s.Z.Icon,{icon:v.GP})),l.createElement(s.Z.Icon,{icon:h.Dd,customSize:y.Z.sizes.S})))}));function Ce(e){var t=e.searchView,n=void 0!==t&&t,i=e.galleryView,s=void 0!==i&&i,p=e.columnNamesList,E=e.rowSize,v=e.onChange,h=e.isDefaultView,y=e.onRowSizeChange,g=e.onReset,b=e.namespaces,N=e.namespacePreference,T=e.onMetadataReset,D=e.onMetadataSubmit,w=e.metadataFilterNamespacePreference,M=void 0===w?{}:w,k=e.onEditViewToggle,I=e.smartContractSearch,R=void 0!==I&&I,F=e.largeRowSupported,j=e.showQuickView,_=void 0!==j&&j,V=e.onShowQuickViewChange,U=(0,r.Z)(e,ve),Q=(0,C.Z)("searchResultsCustomColumnPreferencesEnabled"),Y=(0,C.Z)("fileListingColumnFiltersEnabled"),x=(0,C.Z)("isQuickViewEnabled"),B=!n||Q,z=function(e){var t=e.namespaces,n=e.preferences,a=(0,l.useMemo)((function(){return(0,O.qV)()}),[]);return{filteredNamespaces:(0,l.useMemo)((function(){return(t||[]).map((function(e){var t=e.name,n=e.properties,o=(0,r.Z)(e,S);return P({name:t,properties:n.filter((function(e){return!a.find((function(n){var a=n.namespace,r=n.property;return a===t&&e.name===r}))}))},o)})).filter((function(e){return e.properties.length}))}),[t,a]),filteredCustomColumnPreferences:(0,l.useMemo)((function(){var e=P({},n);return a.forEach((function(t){var n=t.namespace,a=t.property;e[n]&&e[n].includes(a)&&(e[n]=e[n].filter((function(e){return e!==a})))})),e}),[a,n])}}({namespaces:b||[],preferences:M||{}}),H=z.filteredNamespaces,G=z.filteredCustomColumnPreferences;return l.createElement(u.Z,{trigger:Y?l.createElement(be,(0,a.default)({isDefaultView:h,searchView:n,galleryView:s},U)):l.createElement(A.sl,(0,a.default)({isDefaultView:h,searchView:n},U)),maxSizeEnabled:!1,closeMenuOnClick:!1,onToggle:k},(function(e){var t=e.toggleDropdown;return l.createElement("div",{className:"z_mSYxLSTz8qFOnwNDWf"},x&&!n&&l.createElement(L,{checked:_,onChange:V||function(){}}),l.createElement(f.Z,{dynamic:!0,margin:0}),!s&&l.createElement(l.Fragment,null,l.createElement("div",{className:"Fyggh4FBxOW9cb_JyDFm"},l.createElement("span",{className:"lcrU6E69y3BvijDP1BXm"},he("filtersHeading"))),l.createElement("div",{className:"Iz0q3pJvKFvB7sVaE_ig"},l.createElement(d.Z,null,p.map((function(e){return l.createElement(m.Z,{key:e.key,"data-tid":e.key,checked:e.enabled,disabled:e.disabled,onClick:function(){return v(e)}},l.createElement(Z.Z,null,l.createElement("span",{className:c()((0,o.Z)({},pe,e.disabled))},e.label)))})))),B&&!R&&l.createElement(fe,{namespaces:H,namespacePreference:N,searchView:n,onMetadataReset:T,onMetadataSubmit:function(e){return D(e,t)},metadataFilterNamespacePreference:G}),l.createElement(ge,{onReset:function(){return g(t)}}),l.createElement(f.Z,{dynamic:!0,margin:8}),n&&l.createElement(Ze,{searchView:n,rowSize:E,namespacePreference:N,onRowSizeChange:y,largeRowSupported:F})))}))}be.displayName="TriggerButton";var Oe=(0,l.memo)(Ce)},827076:function(e,t,n){n.d(t,{Z:function(){return F}});var a=n(529439),r=n(667294),o=n(779210),l=n(367283),i=n(583025),c=n(337995),s=n(713147),u=n(698607),d=n(762074),m=n(204942),f=n(294184),p=n.n(f),E=n(330759),v=n(576329),h=n(579621),y=n(323063),g=n(639155),Z=n(914578),b=n(582512),C="wCifgplypBeKE7V5YXLI",O="O4pLSD63_qCjms_P7sJX";function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=e.all,n=e.choices;return!t&&0===n.filter((function(e){return e.value})).map((function(e){return e.key})).length}function T(e){var t=e.state,n=e.setState,a=e.showErrors,o=e.disabled,l=t.type,i=t.all,c=t.choices,s=(0,d.nD)("search.searchContentOptions.".concat(l)),u=a&&P(t),m=(0,r.useCallback)((function(e){if(!o){var a=N({},t);a.all=e==="".concat(l,"-radio-all"),n(a)}}),[l,t,n,o]),f=(0,r.useCallback)((function(e){var a=e.target,r=a.value,o=a.checked,l=N({},t);l.choices=l.choices.map((function(e){return e.key===r?{key:e.key,value:o}:e})),n(l)}),[t,n]);return r.createElement("div",{className:"c3ToiTSEff2rh896l4ZO"},r.createElement(E.Z,{disabled:o,id:"".concat(l,"-radio-all"),size:E.Z.SIZES.S,className:C,checked:i,onChange:function(){return m("".concat(l,"-radio-all"))}},s("all")),r.createElement(E.Z,{disabled:o,id:"".concat(l,"-radio-selected"),size:E.Z.SIZES.S,className:C,checked:!i,onChange:function(){return m("".concat(l,"-radio-selected"))}},s("selected")),!i&&c.map((function(e){var t=e.key,n=e.value;return r.createElement("label",{className:"aQhYOqg4U4YSMgwpndHR",key:t,htmlFor:"".concat(l,"-checkbox-").concat(t)},r.createElement(v.Z,{disabled:o,id:"".concat(l,"-checkbox-").concat(t),value:t,onChange:f,checked:n}),r.createElement("span",{className:"zRSOF0l61yiob3njywMs"},s(t.toLowerCase())))})),u&&r.createElement("div",{className:p()(O)},r.createElement("span",null,s("errorText"))))}var A=function(e,t,n){return function(e,t){var n=g.ZP.getContentParamsFileQueryAll()!==e.all||!(0,Z.isEqual)(g.ZP.getContentParamsFileQuerySelected(),e.choices),a=g.ZP.getContentParamsFolderQueryAll()!==t.all||!(0,Z.isEqual)(g.ZP.getContentParamsFolderQuerySelected(),t.choices);return n||a}(e,t)||n},D=function(e){var t=e.type,n=e.isTypeChanged,o=e.onApply,l=(0,d.nD)("search.searchContentOptions"),i=(0,r.useState)({type:y.dt.FILE,all:g.ZP.getContentParamsFileQueryAll(),choices:g.ZP.getContentParamsFileQuerySelected()}),c=(0,a.Z)(i,2),s=c[0],u=c[1],m=(0,r.useState)({type:y.dt.FOLDER,all:g.ZP.getContentParamsFolderQueryAll(),choices:g.ZP.getContentParamsFolderQuerySelected()}),f=(0,a.Z)(m,2),E=f[0],v=f[1],Z=P(s),C=P(E),S=t===b.Z.TYPE.KEYS.ALL&&Z&&C,N=S||t===b.Z.TYPE.KEYS.FILES&&Z||t===b.Z.TYPE.KEYS.FOLDERS&&C;return r.createElement("div",{className:"q2bohIqjTHHtIivALOnV"},r.createElement("div",{className:"IWclIVHq2TSX0pE65OpN"},r.createElement("span",null,l("title"))),r.createElement("div",{className:"scpR2p25vrqls1AhqhLm"},r.createElement(T,{state:s,setState:u,disabled:t===b.Z.TYPE.KEYS.FOLDERS,showErrors:t!==b.Z.TYPE.KEYS.ALL}),r.createElement(T,{state:E,setState:v,disabled:t===b.Z.TYPE.KEYS.FILES,showErrors:t!==b.Z.TYPE.KEYS.ALL})),r.createElement("div",{className:"h501Zp4edD5JLYpstTs8"},r.createElement("div",{className:p()(O,!S&&"kD43sSGbhhhYR0cXeszS")},r.createElement("span",null,l("errorText"))),r.createElement("div",{className:"ioYh2edd9M6DeGdBAE_g"},r.createElement(h.Z,{disabled:N||!A(s,E,n),onClick:function(){g.ZP.setContentParamsFileQueryAll(s.all),g.ZP.setContentParamsFolderQueryAll(E.all),g.ZP.setContentParamsFileQuerySelected(s.choices),g.ZP.setContentParamsFolderQuerySelected(E.choices),o()}},r.createElement("span",null,l("search"))))))},w=b.Z.TYPE.KEYS,M=b.Z.TYPE.NAME,k=(0,d.nD)("search.filters.content"),I=[{label:k("all"),key:w.ALL,name:M},{label:k("files"),key:w.FILES,name:M},{label:k("folders"),key:w.FOLDERS,name:M}];function L(e){var t=e.option,n=e.selectedOption,a=e.onChange,o=e.disabled;return r.createElement(i.Z,{checked:t.key===n,disabled:o,onClick:function(){a(t)}},t.label)}function R(e){var t=e.onChange,n=e.selectedOption,i=void 0===n?w.ALL:n,d=e.filesOnly,m=void 0!==d&&d,f=e.disabled,p=void 0!==f&&f,E=I.find((function(e){return e.key===i})),v=(0,r.useState)(E),h=(0,a.Z)(v,2),y=h[0],g=h[1];return r.createElement(o.Z,{trigger:r.createElement(l.Z,{"data-tid":"search-content-filter",disabled:p},r.createElement(u.Z,{className:"text-ellipsis",tooltip:E.key===w.FOLDERS?k("tooltipWhileFolders"):k("tooltipWhileFiles"),disabled:E.key===w.ALL||!p},r.createElement("span",null,k("label",{content:E.label})))),maxSizeEnabled:!1,closeMenuOnClick:!1},(function(e){var n=e.toggleDropdown;return r.createElement("div",null,r.createElement(c.Z,null,I.map((function(e){return r.createElement(L,{disabled:m&&e.key!==w.FILES,key:e.key,option:e,onChange:g,selectedOption:y.key})})),r.createElement(s.Z,null)),r.createElement(D,{type:y.key,isTypeChanged:i!==y.key,onApply:function(){n(!1),t(y)}}))}))}R.Options=I,R.getTypeLabelFromKey=function(e){var t=I.find((function(t){return t.key===e}));return t?t.label:""};var F=R},332085:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(667294),r=n(762074),o=n(307179),l=n(758542),i=n(601714),c=n(698607),s=n(779210),u=n(367283),d=n(337995),m=n(583025),f=n(582512),p=f.Z.USERNAME.KEYS,E=(0,r.nD)("search.filters"),v={any:{label:E("username.any"),key:p.ANY},me:{label:E("username.me"),key:p.ME},specific:{key:"specific"}};function h(e){var t=i.Z.getShortName();return e?e===t?v.me.label:e:v.any.label}function y(e){var t=e.disabled,n=e.selectedItem,r=e.onChange,f=i.Z.getShortName(),v=n&&n!==f;return a.createElement(s.Z,{trigger:a.createElement(u.Z,{disabled:t,"data-tid":"search-username-filter"},a.createElement(c.Z,{className:"text-ellipsis",tooltip:E("notApplicableForFolders"),disabled:!t},a.createElement("span",null,E("username.label")," ",h(n)))),closeMenuOnClick:!1,maxSizeEnabled:!1},(function(e){var t=e.toggleDropdown;return a.createElement(d.Z,null,a.createElement(m.Z,{checked:!n,onClick:function(){r(p.ANY),t(!1)}},E("username.any")),a.createElement(m.Z,{checked:n&&n===f,onClick:function(){r(f),t(!1)}},E("username.me")),a.createElement(m.Z,{checked:v},a.createElement("div",{className:"iK9WcFxYBLS39xBkrqtK"},a.createElement("div",{className:"s3fCkJvPbKgJ_K8dzOqP"},E("username.specific")),a.createElement(l.Z,{className:"PRyhSNTrT2Xd13yAe4cB",canCurrentUserBeChosen:!0,queryGroups:!1,value:v?{label:n,value:n}:null,onChange:function(e){r(e?(0,o.RX)(e.value):p.ANY),t(!1)}}))))}))}y.getUsernameFilterLabel=function(e){return h(e)};var g=y},489736:function(e,t,n){n.d(t,{Z:function(){return pi},O:function(){return Tr}});var a=n(487462),r=n(529439),o=n(204942),l=n(93433),i=n(667294),c=n(418983),s=n(154177),u=n(605152),d=n(973935),m=(n(19309),n(294184)),f=n.n(m),p=n(762074),E=n(441043),v=n(690415),h=n(653712),y=n(821442),g=n(776327),Z=n(264928),b=n(96506),C=n(530472),O=n(42594),S=n(722332),N=n(503560),P=n(734474),T=n(880223),A=n(266606),D=n(318450),w=n(460474),M=n(397404),k=n(630727),I=n(983344),L=n(942457),R=n(918233),F=n(640655),j=n(873029),_=n(293388),V=n(145218),U=n(240701),Q=n(23661);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){return["file",e]},z=n(163221),H=n(970770),G=n(163123),K=n(388767),q=function(e){return(0,Q.ZP)(U.Z.SEARCH.LOGGING,{method:"POST",body:Object.keys(e).reduce((function(t,n){var a=e[n];return null!=a&&(t[n]=a),t}),{})})};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=n(153672);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=e.industry,n=e.searchQueryBody,a=e.firstDocumentId,r=e.firstDocumentType,o=e.noResults,l=e.offset;return{eventName:"SEARCH",searchQueryBody:n,sequenceNum:v.ZP.getPastSearchUrls().length+1,customerIndustry:t,firstDocumentId:a,firstDocumentType:r,noResults:o,offset:l}}var ne=n(415992),ae=n(589698),re=n(50510),oe=n(120865),le=n(579621),ie=n(639155),ce=n(895247),se=n(698607),ue=n(51505),de=n(515917),me=(0,T.Z)("metadata-search-view");function fe(e){var t=e.canAddNewCriteria,n=e.addCriteria,a=e.close,r=function(){t&&n()};return(0,w.Z)("metadataAsModal")?i.createElement("div",null,i.createElement(se.Z,{tooltip:t?"":(0,p.t)("search.metadata.addCriteriaDisabled")},i.createElement(le.Z,{onClick:r,type:le.Z.TERTIARY,disabled:!t,"data-pendoid":de.e.SEARCH.METADATA.ADD_TAG},i.createElement(le.Z.Icon,{icon:ue.hd}),(0,p.t)("search.metadata.addCriteriaModal")))):i.createElement("div",{className:me("footer")},i.createElement(se.Z,{tooltip:t?"":(0,p.t)("search.metadata.addCriteriaDisabled")},i.createElement("a",{className:me("add-criteria-btn",[!t&&"disabled"]),onClick:r},(0,p.t)("search.metadata.addCriteria"))),i.createElement("a",{className:me("clear-btn"),onClick:a},(0,p.t)("search.metadata.removeAllCriteria")))}var pe=n(986456),Ee=n.n(pe),ve=n(103025),he=n(215671),ye=n(143144),ge=n(497326),Ze=n(611752),be=n(360136),Ce=n(182963),Oe=n(661120),Se=n(45697),Ne=n.n(Se),Pe=n(950455),Te=n(247953),Ae=n(790026),De=n(717930);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){(0,be.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,Oe.Z)(t);if(n){var r=(0,Oe.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,Ce.Z)(this,e)});function r(e){var t;return(0,he.Z)(this,r),t=a.call(this,e),(0,o.Z)((0,ge.Z)(t),"onChange",(function(e){var n=Ae.Z.VALIDATION_MODE.ON_CHANGE;t.changeValueAndValidate(e,n)})),(0,o.Z)((0,ge.Z)(t),"onBlur",(function(e){var n=Ae.Z.VALIDATION_MODE.ON_BLUR;t.changeValueAndValidate(e.target.value,n)})),t.state=Me(Me({},t.state),{},{isOpen:!1}),t}return(0,ye.Z)(r,[{key:"changeValueAndValidate",value:function(e,t){var n=this.props,a=n.validationMode,o=n.onChange;a===t&&(o&&o({value:e}),(0,Ze.Z)((0,Oe.Z)(r.prototype),"validate",this).call(this,e))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.emptyOption,n=e.value,a=e.options,r=e.onChange;t&&a.unshift({value:"",label:t}),n||0===n||""===n||r&&r({value:a[0].value})}},{key:"renderComponent",value:function(){var e=this,t=De.Z.bem,n=this.props,a=n.value,r=n.placeholder,o=n.options,l=n.isValid,c=n.theme,s=n.isValidationPending,u=n.showPreloaderIfValidationIsPending,d=n.disabled,m=n.tooltipText,f=this.state.isOpen,p=function(){e.setState((function(e){return Me(Me({},e),{},{isOpen:!e.isOpen})}))};return i.createElement("span",{className:t("select-wrapper")},i.createElement("span",{className:t("select",[!l&&"validation-error"])},i.createElement(se.Z,{tooltip:m},i.createElement("div",d?{}:{onClick:p,onKeyDown:function(e){var t=e.key;t!==Te.U.ARROW_DOWN&&t!==Te.U.ARROW_UP||p()}},i.createElement(Pe.Z,{options:o,value:a,onChange:this.onChange,onBlur:this.onBlur,isDisabled:d,isOptionDisabled:function(e){return e.disabled},placeholder:r||null,className:c,menuPortalTarget:document.body,menuIsOpen:f})))),u&&s&&i.createElement("span",{className:"".concat(t("validating")," preloader")}))}}]),r}(De.Z);ke.defaultProps={value:"",options:[],emptyOption:"",validationMode:Ae.Z.VALIDATION_MODE.ON_CHANGE,isValid:!0,isValidationPending:!1,showPreloaderIfValidationIsPending:!1,disabled:!1,tooltipText:""},ke.propTypes={value:Ne().oneOfType([Ne().number,Ne().bool,Ne().string]),options:Ne().arrayOf(Ne().shape({value:Ne().oneOfType([Ne().number,Ne().bool,Ne().string]),label:Ne().oneOfType([Ne().instanceOf(Object),Ne().string]),disabled:Ne().bool,tooltipText:Ne().string})),emptyOption:Ne().oneOfType([Ne().number,Ne().bool,Ne().string]),validationMode:Ne().string,isValid:Ne().bool,isValidationPending:Ne().bool,showPreloaderIfValidationIsPending:Ne().bool,onChange:Ne().func,onValidationStarted:Ne().func,onValidationCompleted:Ne().func,theme:Ne().string,disabled:Ne().bool,tooltipText:Ne().string};var Ie=ke,Le=n(799532),Re=n(621465),Fe=n(115861),je=n(364687),_e=n.n(je),Ve=n(323332),Ue=n(673677),Qe=n(55964),Ye={ON_CHANGE:"onFieldChange",ON_VALIDATION_STARTED:"onFieldValidationStarted",ON_VALIDATION_COMPLETED:"onFieldValidationCompleted"};function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ze={INVALID:(0,p.nD)("validation.message.general")("invalid")},He=function(e){(0,be.Z)(l,e);var t,n,a,r=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,Oe.Z)(n);if(a){var r=(0,Oe.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,Ce.Z)(this,e)});function l(){var e,t;(0,he.Z)(this,l);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=r.call.apply(r,[this].concat(a))).fieldEvents=(e={},(0,o.Z)(e,Ye.ON_CHANGE,t.onFieldChange.bind((0,ge.Z)(t))),(0,o.Z)(e,Ye.ON_VALIDATION_STARTED,t.onFieldValidationStarted.bind((0,ge.Z)(t))),(0,o.Z)(e,Ye.ON_VALIDATION_COMPLETED,t.onFieldValidationCompleted.bind((0,ge.Z)(t))),e),t}return(0,ye.Z)(l,[{key:"onFieldChange",value:function(e,t){return t.value=e.value,t.isValid=this.isFieldValid(t),t}},{key:"onFieldValidationStarted",value:function(e,t){return t.isValidationPending=!0,t}},{key:"onFieldValidationCompleted",value:function(e,t){return t.errors=e.errors||[],t.isValid=this.isFieldValid(t),t.isValidationPending=!1,t}},{key:"updateFieldByEventData",value:function(e,t,n){return"function"==typeof this.fieldEvents[n]?this.fieldEvents[n](e,t):t}},{key:"isFieldValid",value:function(e){return!(e.errors&&e.errors.length)}},{key:"isValidationPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some((function(e){return e.isValidationPending}))}},{key:"hasErrors",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.some((function(t){return!e.isFieldValid(t)}))}},{key:"setFieldsValidatingStatus",value:function(e,t){return e.forEach((function(e){e.isValidationPending=t})),e}},{key:"validateFormAndUpdateByErrors",value:(t=(0,Fe.Z)(_e().mark((function e(){var t,n,a,r,o,l,i,c=this,s=arguments;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:[],n=s.length>1&&void 0!==s[1]?s[1]:Qe.Z,a=function(e,t,n){return c.onFieldValidationCompleted(n,t),e.push(t),e},r=[],o=xe(t),e.prev=5,i=_e().mark((function e(){var o;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.value,e.next=3,Ve.Z.validateByMultiValidators(o.value,o.validators,n,t).then((function(){return a(r,o,{})})).catch((function(e){if(Ue.Z.isExpectedError(e,n))return a(r,o,{errors:e.data.result});throw e}));case 3:case"end":return e.stop()}}),e)})),o.s();case 8:if((l=o.n()).done){e.next=12;break}return e.delegateYield(i(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),o.e(e.t1);case 17:return e.prev=17,o.f(),e.finish(17);case 20:if(!this.hasErrors(t)){e.next=22;break}throw new n(t,ze.INVALID);case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,this,[[5,14,17,20]])}))),function(){return t.apply(this,arguments)})}]),l}(i.Component),Ge=He,Ke=n(943886),qe=n(499345),We="GPo2IDx3q4QEWfgLkTYB",Xe="vQwubKHyniggvk4hxcNs";function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et=(0,T.Z)("metadata-search-form-row"),tt=function(e){(0,be.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,Oe.Z)(t);if(n){var r=(0,Oe.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,Ce.Z)(this,e)});function r(){var e;(0,he.Z)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=a.call.apply(a,[this].concat(n)),(0,o.Z)((0,ge.Z)(e),"renderOperators",(function(){var t;if((null===(t=e.operators)||void 0===t?void 0:t.length)>1){var n=e.props,a=n.propertyType,o=n.operator,l=n.onOperatorChange,c=e.operators.map((function(e){return{value:e,label:r.wrapLabelsWithTooltipByOperator(e,(0,p.t)("search.metadata.operators.".concat(e),{context:a}))}}));return i.createElement("span",{"data-tid":"operator-select",className:f()(et("operator"),Xe)},i.createElement(Ie,{value:o,options:c,onChange:function(e){return l(e.value)},theme:et("select")}))}return null})),e}return(0,ye.Z)(r,[{key:"operators",get:function(){var e=this.props.propertyType;return(0,ae.Z)().operatorsByType[e]}},{key:"renderInputs",value:function(e){var t=this.props,n=t.firstInputData,a=t.secondInputData,o=t.propertyType,l=t.operator,c=t.isValid,s=t.errors,u=function(e){return e===(0,ae.Z)().operator.BETWEEN}(l),d=(0,ae.Z)().validatorsByType[o],m=(0,ae.Z)().componentsByType[o],E=(0,ae.Z)().componentSettingsByType[o]||{},v=ce.Z.isHasKeyOperation(l);return E.validationMode=E.validationMode||(0,ae.Z)().defaultValidationMode,i.createElement("span",{className:et("elements")},i.createElement("span",{className:et("elements-column")},i.createElement("span",{className:et("elements-composition")},i.createElement("span",{className:et("element-wrapper")},i.createElement(se.Z,{tooltip:(0,p.t)("search.metadata.hasKeyOperatorTooltip"),placement:"right",disabled:!v},i.createElement("span",null,i.createElement(m,$e($e($e({},n),E),{},{validators:d,disabled:v,clearDateField:v}))))),u&&i.createElement("span",{className:f()(e?"_iatBq5yfVng3VZeQBnt":et("between-elements"))},"and"),u&&i.createElement("span",{className:et("element-wrapper")},i.createElement(m,$e($e($e({},a),E),{},{validators:d})))),i.createElement("span",{className:et("elements-validation")},r.renderRowValidationErrors(c,s))))}},{key:"render",value:function(){var e=this.props.label,t=(0,Ke.Jo)().features.metadataAsModal;return t?i.createElement("div",{"data-tid":"metadata-row",className:"gujcmIMjTpDZmPtfvQjd"},i.createElement("div",{className:"MHGkhsbX_FjQ820rNPg8"},i.createElement("span",null,i.createElement(qe.Z,null,e))),i.createElement("div",{className:"aokx4BB3fLzjJiRaMiBh"},this.renderOperators(),this.renderInputs(t))):i.createElement("div",{"data-tid":"metadata-row",className:et()},i.createElement("span",{className:et("label")},i.createElement(qe.Z,{tooltip:e},e,":")),this.renderOperators(),this.renderInputs(t))}}]),r}(i.Component);(0,o.Z)(tt,"wrapLabelsWithTooltipByOperator",(function(e,t){return ce.Z.isHasKeyOperation(e)?i.createElement(se.Z,{tooltip:(0,p.t)("search.metadata.hasKeyOperatorTooltip"),placement:"left"},i.createElement("span",null,t)):t})),(0,o.Z)(tt,"renderRowValidationErrors",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!e&&t.length>0?i.createElement("ul",{"data-tid":"error-list",className:f()(et("error-list"),We)},t.map((function(e){return i.createElement("li",{"data-tid":"error-item",key:e.code,className:et("error-item")},e.message)}))):null})),tt.defaultProps={isValid:!0,errors:[],secondInputData:{}};var nt=tt;function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=(0,T.Z)("metadata-search-form"),lt=function(e){(0,be.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,Oe.Z)(t);if(n){var r=(0,Oe.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,Ce.Z)(this,e)});function o(e){var t;return(0,he.Z)(this,o),(t=r.call(this,e)).validatorsByOperator=(0,ae.Z)().validatorsByOperator,t}return(0,ye.Z)(o,[{key:"updatePropertyOperator",value:function(e,t){var n=e.key,a=this.props,r=a.cid,o=a.fields,l=a.namespace,i=Ee().deepClone(o),c=Ee().findWhere(i,{key:n});c.operator=t,c.value2={value:""},c.value1.value&&!ce.Z.isHasKeyOperation(t)||(c.value1.value=""),this.updateRowValidationPropsByFieldValues(c),ie.ZP.updateMetadataCriteria({cid:r,namespace:l,fields:i});var s=Ee().findWhere(i,{key:n});this.runPostValidationProcessForRow(s,Ye.ON_VALIDATION_COMPLETED)}},{key:"areRowValuesValid",value:function(e){return!(!1===e.value1.isValid||!1===e.value2.isValid)}},{key:"arePostValidatorsAvailable",value:function(e){return!!this.validatorsByOperator[e.operator]}},{key:"canPostValidateRowValues",value:function(e,t){var n=t===Ye.ON_VALIDATION_COMPLETED;return this.areRowValuesValid(e)&&n}},{key:"postValidateRowValues",value:function(e){var t=this.validatorsByOperator[e.operator];if(t){var n=t[e.propertyType],a=this.prepareValueForPostValidation(e);return Ve.Z.validateByMultiValidators(a,n)}return Promise.reject(new Error("validarors are not available for ".concat(e.operator)))}},{key:"prepareValueForPostValidation",value:function(e){return e.operator===(0,ae.Z)().operator.BETWEEN?[e.value1.value,e.value2.value]:e.value1.value}},{key:"updateRowPropsAsValidationIsPending",value:function(e){var t=e;return t.isValidationPending=!0,t}},{key:"updateRowValidationPropsByFieldValues",value:function(e){var t=e;return t.isValid=this.areRowValuesValid(e),t.errors=[],t}},{key:"updateRowState",value:function(e){var t=this.props,n=t.cid,a=t.namespace,r=e.key,o=ie.ZP.getMetadataCriteria({cid:n}).fields,l=Ee().findWhere(o,{key:r});Ee().extend(l,e),ie.ZP.updateMetadataCriteria({cid:n,namespace:a,fields:o})}},{key:"runPostValidationProcessForRow",value:function(e,t){var n=this;this.canPostValidateRowValues(e,t)&&this.arePostValidatorsAvailable(e)?(this.updateRowPropsAsValidationIsPending(e),this.updateRowState(e),this.postValidateRowValues(e).then((function(t){return(0,Ze.Z)((0,Oe.Z)(o.prototype),"onFieldValidationCompleted",n).call(n,t,e),n.updateRowState(e)})).catch((function(t){if(Ue.Z.isExpectedError(t,Qe.Z))return(0,Ze.Z)((0,Oe.Z)(o.prototype),"onFieldValidationCompleted",n).call(n,{errors:t.data.result},e),n.updateRowState(e);throw t}))):(this.updateRowValidationPropsByFieldValues(e),this.updateRowState(e))}},{key:"updateFieldState",value:function(e,t,n){var a=t.key,r=t.which,l=this.props.cid,i=ie.ZP.getMetadataCriteria({cid:l}).fields,c=Ee().findWhere(i,{key:a})[r];(0,Ze.Z)((0,Oe.Z)(o.prototype),"updateFieldByEventData",this).call(this,e,c,n);var s=Ee().findWhere(i,{key:a});this.runPostValidationProcessForRow(s,n)}},{key:"getFieldDefaultParams",value:function(e){var t=this,n=Ye.ON_CHANGE,a=Ye.ON_VALIDATION_STARTED,r=Ye.ON_VALIDATION_COMPLETED;return{onChange:function(a){return t.updateFieldState(a,e,n)},onValidationStarted:function(n){return t.updateFieldState(n,e,a)},onValidationCompleted:function(n){return t.updateFieldState(n,e,r)}}}},{key:"getRowFieldsParams",value:function(e){var t={key:e.key,which:"value1"},n={key:e.key,which:"value2"},a=e.operator===(0,ae.Z)().operator.BETWEEN?rt(rt({},e.value2),this.getFieldDefaultParams(n)):{};return{firstInputData:rt(rt({},e.value1),this.getFieldDefaultParams(t)),secondInputData:rt({},a)}}},{key:"renderFields",value:function(e){var t=this;return e.map((function(e){return i.createElement(nt,(0,a.default)({key:e.key,label:e.label,propertyType:e.propertyType,operator:e.operator,isValid:e.isValid,isValidationPending:e.isValidationPending,errors:e.errors,onOperatorChange:function(n){return t.updatePropertyOperator(e,n)}},t.getRowFieldsParams(e)))}))}},{key:"render",value:function(){var e=this.props.fields;return i.createElement("div",{"data-tid":"metadata-search-form",className:ot()},this.renderFields(e))}}]),o}(Ge);lt.propTypes={cid:Ne().string.isRequired,namespace:Ne().string,fields:Ne().arrayOf(Ne().shape({key:Ne().string,label:Ne().string,propertyType:Ne().string,operator:Ne().string,isValid:Ne().bool,isValidationPending:Ne().bool})).isRequired};var it=lt,ct=n(225364),st=n(4845),ut=(0,T.Z)("metadata-search-view");function dt(e){var t=e.onClick,n=e.tooltip,a=void 0===n?"":n,r=e.isDisabled,o=void 0!==r&&r;return(0,w.Z)("metadataAsModal")?i.createElement(se.Z,{tooltip:a},i.createElement(st.Z,{onClick:t,className:f()(o?"U8BpaMST8GcnZ2rwwKKS":"ioeKDnQFFFsjt123to8T"),"aria-label":(0,p.t)("search.metadata.removeSearchCriteriaLabel"),disabled:o,icon:ct._I})):i.createElement("span",{className:ut("button-remove"),onClick:t},i.createElement(se.Z,{tooltip:a},i.createElement(Le.Z,{icon:ct._I,className:ut("button-remove-trigger")})))}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=(0,T.Z)("metadata-search-criteria"),Et=(0,p.nD)("search.metadata"),vt=function(e){return e.namespaces.map((function(e){var t=e.namespace,n=e.disabled;return{value:t.name,label:t.displayName||t.name,disabled:n,tooltipText:n?Et("namespaceUsedInOtherCriteria"):""}}))},ht=function(e){var t=e.cid,n=e.selectedNamespaceName,r=e.namespaces,l=e.onNamespaceChange,c=e.onRemove,s=e.metadataProperties,u=e.index,d=e.accordionState,m=void 0===d?{}:d,f=e.setAccordionState,p=e.isLastElement,E=void 0!==p&&p;return(0,w.Z)("metadataAsModal")?i.createElement("div",{className:"ZjDGgD2xwsTR59GaVVz6"},i.createElement("div",{className:"Ol6mdZWLsqrP02aLmAiA"},i.createElement(ve.Z,{expanded:m,onChange:f},i.createElement(ve.Z.Panel,{name:u.toString()},i.createElement("div",{className:"L1RJftKCHOy4_k659XU9"},i.createElement(ve.Z.Heading,null,i.createElement("div",(0,a.default)({},0!==u||n?{}:{"data-pendoid":de.e.SEARCH.METADATA_SELECT},{role:"button",tabIndex:0,className:"pepsb32Mv2jp4Q_otO0D",onClick:function(e){return e.stopPropagation()},onKeyDown:function(e){e.key!==Te.U.ENTER&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),e.currentTarget.click())}}),i.createElement(Ie,{value:n,options:vt({namespaces:r}),onChange:function(e){f((function(e){return ft(ft({},e),{},(0,o.Z)({},u,!0))})),l(e.value)},placeholder:Et("selectPlaceholder")})),n?i.createElement(ve.Z.ToggleIcon,null):i.createElement(Le.Z,{icon:Re.XX,className:"s2nkBYidXZ727fekYodW"}))),n&&m[u]&&i.createElement("div",{className:"RH1OitNKuAOQ6cmWx5Lb"},i.createElement(ve.Z.Body,null,i.createElement(it,{cid:t,namespace:n,fields:s})))))),i.createElement("div",null,i.createElement(dt,{onClick:c,tooltip:Et("removeCriteriaTooltip"),"data-pendoid":de.e.SEARCH.METADATA.DELETE,isDisabled:E}))):i.createElement("div",{className:pt()},i.createElement("div",{className:pt("delete-container")},i.createElement(dt,{onClick:c,tooltip:Et("removeCriteriaTooltip")})),i.createElement("div",(0,a.default)({className:pt("select-container")},0!==u||n?{}:{"data-pendoid":de.e.SEARCH.METADATA_SELECT}),i.createElement(Ie,{value:n,placeholder:Et("chooseNamespaceListOption"),options:vt({namespaces:r}),onChange:function(e){return l(e.value)},theme:pt("select")})),i.createElement("div",{className:pt("form-container")},n&&i.createElement(it,{cid:t,namespace:n,fields:s})))};function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var gt=(0,T.Z)("metadata-search-view__criterias");function Zt(e){var t=e.namespaceName,n=v.ZP.getMetadataParams(),a=Ee().findWhere(ie.ZP.getMetadataNamespaces(),{name:t});return ce.Z.namespacePropertiesToFormFields({namespaceName:a.name,namespaceProperties:a.properties,metadataSearchParams:n})}var bt=function(e){var t=e.namespaces,n=e.close,a=(0,ie.KR)(),o=(0,w.Z)("metadataAsModal"),l=(0,i.useState)({}),c=(0,r.Z)(l,2),s=c[0],u=c[1];function d(e,t){ie.ZP.updateMetadataCriteria({cid:e,namespace:t,fields:Zt({namespaceName:t})})}function m(e,t){if(void 0!==t){var a=function(e,t){var n,a={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}(Object.keys(e).map((function(e){return Number(e)})).sort((function(e,t){return e-t})));try{for(r.s();!(n=r.n()).done;){var o=n.value;o<t?a[o]=e[o]:o>t&&(a[o-1]=e[o])}}catch(e){r.e(e)}finally{r.f()}return a}(s,t);u(a)}ie.ZP.removeMetadataCriteria({cid:e}),ie.ZP.isMetadataSearchVisible()||n()}function f(e){var n=e.cid;return t.map((function(e){var t=!!a.find((function(t){return t.namespace===e.name&&t.cid!==n}));return{namespace:e,disabled:t}}))}return(0,i.useEffect)((function(){var e={};a.forEach((function(t,n){e[n]=!0})),u(e)}),[]),o?i.createElement(ve.Z,null,a.map((function(e,t){return i.createElement(ht,{key:e.cid,cid:e.cid,namespaces:f(e),selectedNamespaceName:e.namespace,onNamespaceChange:function(t){return d(e.cid,t)},onRemove:function(){return m(e.cid,t)},metadataProperties:e.fields,index:t,accordionState:s,setAccordionState:u,isLastElement:1===a.length})}))):i.createElement("div",{className:gt()},a.map((function(e,t){return i.createElement(ht,{key:e.cid,cid:e.cid,namespaces:f(e),selectedNamespaceName:e.namespace,onNamespaceChange:function(t){return d(e.cid,t)},onRemove:function(){return m(e.cid)},metadataProperties:e.fields,index:t})})))},Ct=(0,T.Z)("metadata-search-view");function Ot(e){var t=e.namespaces,n=e.canAddNewMetadataCriteria,a=e.closeMetadataSearch,r=(0,ie.QZ)(),o=(0,w.Z)("metadataAsModal");return i.createElement("div",{className:o?"":Ct("panel")},i.createElement(bt,{namespaces:t,close:a}),i.createElement(fe,{canAddNewCriteria:n,close:a,addCriteria:r}))}var St=n(119179),Nt=(0,T.Z)("metadata-search-criteria-summary"),Pt=(0,p.nD)("search.metadata"),Tt=function(e){return Array.isArray(e)?e.length>0:!!e},At=function(e,t){return function(e){return e===(0,ae.Z)().propertyType.DATE}(t)?(0,St.ZU)(e):function(e){return e===(0,ae.Z)().propertyType.ENUM}(t)||function(e){return e===(0,ae.Z)().propertyType.MULTI_VALUE_STRING}(t)?e.join(", "):function(e){return e===(0,ae.Z)().propertyType.STRING}(t)?'"'.concat(e,'"'):e};function Dt(e){var t=e.metadataRow,n=t.operator,a=t.propertyType,r=t.value1,o=t.value2;return i.createElement("span",{className:Nt("item-value"),"data-tid":"metadata-value"},function(e){return e===(0,ae.Z)().operator.BETWEEN}(n)?"".concat(At(r.value,a)," - ").concat(At(o.value,a)):At(r.value,a))}function wt(e){var t=e.metadataRow;return[(0,ae.Z)().operator.BETWEEN,(0,ae.Z)().operator.EQUALS,(0,ae.Z)().operator.IN,(0,ae.Z)().operator.SUB_SET].includes(t.operator)?null:i.createElement("span",{className:Nt("item-operator"),"data-tid":"metadata-operator"},Pt("operators.".concat(t.operator),{context:t.propertyType}))}function Mt(e){var t=e.namespaces,n=(0,ie.KR)();return i.createElement(i.Fragment,null,n.map((function(e){var n=t.find((function(t){return t.name===e.namespace}));return n?n&&i.createElement(i.Fragment,{key:n.name},i.createElement("span",{className:Nt("section-wrapper"),"data-tid":"metadata-name"},n.displayName),i.createElement("div",{className:Nt("property-wrapper")},function(e){var t=Ee().compact(e.map((function(e){return function(e){return Tt(e.value1.value)||ce.Z.isHasKeyOperation(e.operator)?i.createElement("span",{key:e.label+e.key,className:Nt("item")},i.createElement("span",{className:Nt("item-label")},e.label,":"),i.createElement(wt,{metadataRow:e}),Tt(e.value1.value)&&i.createElement(Dt,{metadataRow:e})):null}(e)})));return t.length?t:"-"}(e.fields))):null})))}var kt=function(e){var t=e.namespaces,n=e.edit,a=e.close;return i.createElement("div",{className:"metadata-search-view__panel"},i.createElement("div",{className:Nt()},i.createElement("div",{className:Nt("header")},Pt("metadataCriteria")),i.createElement("div",{className:Nt("items-wrapper")},i.createElement(Mt,{namespaces:t})),i.createElement("div",{className:Nt("buttons-wrapper")},i.createElement("button",{type:"button",className:Nt("edit-btn"),onClick:n},Pt("modifyCriteria")),i.createElement("button",{type:"button",className:Nt("clear-btn"),onClick:a},Pt("clearCriteria")))))},It=(0,T.Z)("metadata-search-view"),Lt=function(e){var t=e.namespaces,n=e.canAddNewMetadataCriteria,a=e.closeMetadataSearch,r=e.collapsed,o=e.expand,l=(0,ie.KR)();return i.createElement("div",{className:It()},r?i.createElement(kt,{namespaces:t,close:a,edit:o}):i.createElement(Ot,{namespaces:t,canAddNewMetadataCriteria:n,closeMetadataSearch:a}),i.createElement("div",{className:It("buttons")},i.createElement(le.Z,{type:le.Z.PRIMARY,className:It("button-search"),onClick:function(){return v.ZP.performSearchWithMetadata()},disabled:0===l.length||l.length>=1&&(l.every((function(e){return ce.Z.isEmptyCriteria(e)}))||l.every((function(e){return ce.Z.areFormFieldsEmpty(null==e?void 0:e.fields)})))},(0,p.t)("search.metadata.apply"))))},Rt=n(340313),Ft=n(137958),jt=n(359541),_t=n(671002);var Vt=n(322130),Ut=n(145987),Qt=n(281472),Yt=n(601714),xt=["data"];function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=function(e){return!(e.workgroupName===Yt.Z.get("workgroup.name"))},Gt=function(e){return!!e.workgroupId},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Qt.J)(e),n=t.data,a=(0,Ut.Z)(t,xt),r=(0,i.useMemo)((function(){return null==n?void 0:n.filter(Gt).filter(Ht)}),[n]);return zt({data:r},a)},qt=n(927875),Wt=n(727484),Xt=n.n(Wt),Jt=n(753470),$t=n(57324),en=n(392348),tn=n(172643),nn=function(e){var t=e.value,n=(0,w.Z)("isGoogleV3Enabled"),a=!(0,$t.Oq)(t)||n;return i.createElement(Jt.Z,{value:(0,tn.Z)(a&&t.lastModifiedTimestamp?Xt()(t.lastModifiedTimestamp).format(en.Jn.dateTime):null)})},an=n(178644),rn=n(627872),on=n(422825),ln=n(974868),cn=n(576329),sn=n(32570),un=n(796413),dn=n(294520),mn=function(e){var t=e.row,n=(0,dn.j)().getCheckboxProps;return(0,un.o)().model.get("processing")?i.createElement(sn.Z,{size:sn.Z.SMALL}):i.createElement(cn.Z,n(t.original.id))};function fn(){var e=(0,dn.j)().getCheckboxAllProps;return i.createElement(cn.Z,e())}var pn=n(725935),En=n(406788);function vn(e){var t=e.value,n=(0,pn.y)("file",t.id,{enabled:!1}),a=n.data,r=(void 0===a?{}:a).count,o=n.refetch;return i.createElement(En.Z,{folderItem:t,updatedCount:r,fetchLatestTagCount:o})}var hn=n(300860),yn=n(739265),gn=function(e){var t=e.value,n=(0,i.useRef)();return i.createElement("div",{ref:n,className:"textColumn"},i.createElement(se.Z,{reference:n,onShow:function(){return(e=n.current).offsetHeight<e.scrollHeight;var e},tooltip:i.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},i.createElement("div",{className:"wX5wRAJ5VMjzOrafMXee",dangerouslySetInnerHTML:{__html:(0,tn.Z)(t)}})))},Zn=n(164792),bn=n(28396),Cn=function(e){var t=e.value,n=(0,bn.S2)(t),a=ie.ZP.getMetadataNamespaces();return i.createElement("div",{className:"textColumn"},n.map((function(e){var t=e.id,n=t.namespace,r=t.key,o=e.value,l=(0,bn.wP)({namespacesDefinition:a,namespace:n,key:r});return i.createElement(Zn.Z,{key:"".concat(n,"::").concat(r),name:l.displayName,type:l.type,value:o})})))};function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn=n(470959),Pn=n(13642),Tn=n(876950),An=n(124333),Dn={type:"all"},wn=function(e){var t,n=e.collection.filters,a=e.isNLSearchOn,r=void 0!==a&&a,o=e.isAdvancedSearchView,l=void 0!==o&&o,c=e.isMltSearch,s=void 0!==c&&c,u=(0,Ke.Jo)().features.searchResultsShowLocationFilter&&!Yt.Z.get("restrictPath"),d=!1;return r||n.forEach((function(e){var n=!1;Dn[e.name]&&e.value===Dn[e.name]||(n=!0),"location"===e.name&&(u?t=e.value:n=!1),d=d||n})),i.createElement("div",{className:"GuOy7KXeUHRolS9kIk8h vlpHvsjgdbzjuadKPQ3e C7HhvVmv8inrSQjb607z cMD1Ln5gNqHc7P7v_G_6"},i.createElement("h2",{className:"MWtTmEVWhjSWk2AgSFw9 DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR"},i.createElement(An.Z,{illustration:"search"},i.createElement(An.Z.Heading,null,l?(0,p.t)("search.advancedSearchTitle"):(0,p.t)("search.noResults")),l&&i.createElement(An.Z.Description,null,(0,p.t)("search.advancedSearchDescription")," "))),!l&&!s&&d&&i.createElement(An.Z.Description,null,(0,p.t)("search.noResults",{context:t?"allFolders":"clearFilters",folder:t}),i.createElement(y.Z,{onClick:function(){return function(e){e?v.ZP.clearLocationFilter(!0):v.ZP.clearFilters()}(t)}},(0,p.t)(t?"search.filters.allFolders":"search.clearFilters").toLowerCase())))},Mn=n(58034),kn=n(620087),In=n(77550);function Ln(e){var t=e.className,n=e.onClick;return i.createElement(st.Z,{icon:Re.Mn,"aria-label":(0,p.t)("button.label.goBack"),type:st.Z.GHOSTED,className:t,"data-tid":"crumb-back",onClick:n})}function Rn(e){var t=e.children;return i.createElement("div",{className:"w0Evq78ieLNBsqQOe399"},t)}var Fn=n(983871),jn=n(652421);function _n(e){var t=e.onClick,n=(0,ie.aP)(),a=(0,ie.KR)(),r=(0,i.useMemo)((function(){return a.reduce((function(e,t){return n.find((function(e){return e.name===t.namespace}))?e+1:e}),0)}),[n,a]),o=(0,i.useCallback)((function(e){"Enter"===e.key&&t()}),[t]);return i.createElement("div",{className:"SSwML9Ix1gyemO3eV97Q"},i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:t,tabIndex:0,onKeyPress:o,"data-pendoid":de.e.SEARCH.METADATA.CTA_BUTTON},i.createElement(le.Z.Icon,{icon:Fn.F}),(0,p.t)("search.searchHistory.metadataSearch")),r>0&&i.createElement(jn.Z,{color:jn.Z.BLUE,type:jn.Z.types.FILLED},r))}function Vn(e){var t=e.onClick,n=(0,w.Z)("metadataAsModal"),a=(0,i.useCallback)((function(e){"Enter"===e.key&&t()}),[t]);return n?i.createElement(_n,{onClick:t}):i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:t,tabIndex:0,onKeyPress:a,"data-pendoid":de.e.SEARCH.METADATA_BUTTON},i.createElement(le.Z.Icon,{icon:Fn.F}),(0,p.t)("search.searchHistory.metadataSearch"))}function Un(e){var t=e.isAdvancedSearchView,n=e.referrer,a=t?(0,p.t)("search.advancedSearchBreadcrumbsTitle"):(0,p.t)("search.breadcrumbsTitle");return n===z.$.SMARTAPP_CONTRACTS&&(a=(0,p.t)("smartAppContract.search.title")),i.createElement("div",{className:"QXqxMwlO_Hei2YlUwzsw GjKvB447LrsSuYfjUCxw vSadc0pqvD7KtbqURZCR","data-tid":"breadcrumb"},a)}var Qn=n(779210),Yn=n(367283),xn=n(337995),Bn=n(583025),zn=n(319783),Hn=n(582512),Gn=Hn.Z.LOCATION.KEYS,Kn=(0,p.nD)("search.filters.location");function qn(e){var t=e.onChange,n=void 0===t?function(){}:t,a=e.disableCurrentLocation,r=void 0!==a&&a,o=e.disableAnyLocation,l=void 0!==o&&o,c=e.searchPath,s=void 0===c?"":c,u=!s;return i.createElement(Qn.Z,{trigger:i.createElement(Yn.Z,{"data-tid":"search-location-filter"},u?Kn("label",{location:Kn("allFolders")}):i.createElement(qe.Z,{className:"TlyG0kuFQzTXuPqNG4Hh"},Kn("label",{location:(0,zn.EZ)(s)})))},i.createElement(xn.Z,null,i.createElement(Bn.Z,{onClick:function(){return n(Gn.ALL_FOLDERS)},checked:u,disabled:l},Kn("allFolders")),i.createElement(Bn.Z,{onClick:function(){return n(Gn.CURRENT_FOLDER)},checked:!u,disabled:r},Kn("currentFolder"))))}qn.ALL_FOLDERS=Gn.ALL_FOLDERS,qn.CURRENT_FOLDER=Gn.CURRENT_FOLDER;var Wn=qn,Xn=n(827076),Jn=n(355746),$n=n(849447),ea=n(332085),ta="b1Hxe8Q7jiyuArzzRlHF";function na(e){return e[Hn.Z.TYPE.NAME]}function aa(e){return e[Hn.Z.EXTENSION_CATEGORY.NAME]||Hn.Z.TYPE.KEYS.ALL}function ra(e){return!v.ZP.inSearchableFolder(e.retrieveCurrentFolder())}function oa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ee().defer((function(){return v.ZP.onFilterChange.apply(v.ZP,t)}))}function la(e){oa(e.name,e.key)}function ia(e){return function(t){var n="";if(t===Wn.CURRENT_FOLDER){var a=e.retrieveCurrentFolder();n=a&&(0,O.DW)(a)}Ee().defer((function(){return v.ZP.onFilterChange(Hn.Z.LOCATION.NAME,n,void 0,!0)}))}}var ca=function(e){var t=e.searchState,n=e.isMltSearch,a=(0,w.Z)("searchResultsShowUpdatedBy"),r=(0,w.Z)("searchResultsShowLocationFilter"),o=v.ZP.getFilters(!1),l=o.disableContent,c=o.disableType,s=o[Hn.Z.TYPE.NAME]===Hn.Z.TYPE.KEYS.FOLDERS,u=Yt.Z.isAdvancedSearchEnabled(),d=(0,Ke.Jo)().features.lastYearSearchByDefault,m=i.createElement("div",{className:ta},i.createElement($n.Z,{filterId:"modified-time-filter",translationContext:d?"updated":"modified",disabled:s&&!d,onChange:function(e){var t=e.key,n=e.rangeStart,a=e.rangeEnd;oa(Hn.Z.MODIFIED_TIME.NAME,t,{modifiedAfter:n,modifiedBefore:a})},selectedItem:{value:o[Hn.Z.MODIFIED_TIME.NAME],rangeStart:o.modifiedAfter,rangeEnd:o.modifiedBefore}}));return i.createElement(i.Fragment,null,d&&u&&!n&&m,r&&i.createElement("div",{className:ta},i.createElement(Wn,{onChange:ia(t),searchPath:o.location,disableCurrentLocation:ra(t),disableAnyLocation:Yt.Z.get("restrictPath")&&!ra(t)})),!n&&i.createElement("div",{className:ta},i.createElement(Xn.Z,{disabled:l,onChange:la,selectedOption:na(o),filesOnly:aa(o)!==Hn.Z.TYPE.KEYS.ALL})),u&&!n&&i.createElement("div",{className:ta},i.createElement(Jn.ZP,{disabled:c||s,onChange:la,selectedOption:aa(o),shouldShowAdvancedSearch:u})),!d&&u&&!n&&m,u&&!n&&i.createElement(i.Fragment,null,i.createElement("div",{className:ta},i.createElement($n.Z,{filterId:"upload-time-filter",translationContext:"upload",disabled:s,onChange:function(e){var t=e.key,n=e.rangeStart,a=e.rangeEnd;oa(Hn.Z.UPLOAD_TIME.NAME,t,{createdAfter:n,createdBefore:a})},selectedItem:{value:o[Hn.Z.UPLOAD_TIME.NAME],rangeStart:o.createdAfter,rangeEnd:o.createdBefore}})),a&&i.createElement("div",{className:ta},i.createElement(ea.Z,{disabled:s,onChange:function(e){oa(Hn.Z.USERNAME.NAME,e)},selectedItem:o[Hn.Z.USERNAME.NAME]}))))},sa=n(460019),ua=n(926809),da=n(946018),ma=n(624442),fa=n(610861),pa=n(80373),Ea=n(422263),va=n(181711),ha=n(229032),ya=n(581355),ga=["latitude","longitude"];function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ca="reset",Oa="setLocation",Sa="setRadius";function Na(e,t){var n=t.type,a=t.payload;switch(n){case Ca:return{location:null,radius:10};case Oa:return ba(ba({},e),{},{location:a});case Sa:return ba(ba({},e),{},{radius:a});default:return e}}var Pa=(0,i.createContext)();function Ta(e){var t=e.existingLocation,n=e.children,a=(0,i.useMemo)((function(){return Object.keys(t).length?(n=(e=t).latitude,a=e.longitude,ba(ba({},(0,Ut.Z)(e,ga)),{},{location:{lng:a,lat:n}})):{location:null,radius:10};var e,n,a}),[]),o=(0,i.useReducer)(Na,a),l=(0,r.Z)(o,2),c=l[0],s=l[1],u=(0,i.useMemo)((function(){return!Ee().isEqual(c,a)}),[c,a]),d=(0,i.useMemo)((function(){return{state:c,dirty:u,dispatch:s}}),[c,u,s]);return i.createElement(Pa.Provider,{value:d},n)}function Aa(){return(0,i.useContext)(Pa).dispatch}function Da(){var e=(0,i.useContext)(Pa),t=e.state,n=e.dirty;return ba(ba({},t),{},{dirty:n})}var wa=(0,p.nD)("search.geoLocation.selectLocation"),Ma=Math.log10(10),ka=Math.log10(8e5);function Ia(){var e=(0,i.useRef)(),t=Aa();return(0,i.useEffect)((function(){return function(){e.current&&clearTimeout(e.current)}}),[]),(0,ha.zV)({click:function(n){e.current&&clearTimeout(e.current),e.current=setTimeout((function(){t({type:Oa,payload:n.latlng})}),300)},dblclick:function(){clearTimeout(e.current)}}),null}var La=function(e){var t=Math.log10(e);return Math.round((t-Ma)/(ka-Ma)*100)};function Ra(e){var t=e.currentPosition,n=(0,i.useState)(!1),a=(0,r.Z)(n,2),o=a[0],l=a[1],c=Aa(),s=Da(),u=s.radius,d=s.location,m=(0,i.useCallback)((function(e){c({type:Oa,payload:e})}),[c]);return(0,i.useEffect)((function(){var e=t.position;o||(e&&!d?(m(e),l(!0)):d&&l(!0))}),[d,t,m,o,l]),i.createElement("div",{"data-tid":"geo-location-map-container"},!t.isLoading&&i.createElement(da.LocationSearch,{currentPosition:t,location:d,setLocation:m}),i.createElement("div",{className:"SDNDFQQldwzC64ziDdEW"},t.isLoading&&i.createElement("div",{className:"Z6_6eI9dNzZQubfIMrp6"},i.createElement(sn.Z,null)),i.createElement(da.default,{mapProps:{className:"XJvdwbkeg3FQ9H3LVLxg"},scrollWheelZoom:!0,dataTid:"geo-location-map"},d&&i.createElement(da.LocationMarker,{draggable:!0,location:d,radius:u,onMarkerDragEnd:function(e){return m(e.getLatLng())}}),i.createElement(da.CenterMapButton,{location:d}),i.createElement(Ia,null))),i.createElement(da.LocationName,{location:d,isLoading:t.isLoading}),i.createElement("div",null,i.createElement("div",{className:"TuMZTnkB2FtdFzcWaR6r"},i.createElement("span",{className:"vXKetw0hqlZVRjtAsnE_"},wa("defineRadius")),i.createElement(se.Z,{tooltip:wa("defineRadiusExplanation")},i.createElement(Le.Z,{icon:ya.yo}))),i.createElement("div",{className:"imgODzn5KzSPXtxbLSAg"},i.createElement("input",{"data-tid":"radius-input",className:"tK540Xnq6_V2nTWYr3yf",name:"radius",type:"range",id:"radius",min:0,max:100,value:La(u),disabled:!d,onChange:function(e){var t=e.target.value,n=Ma+t/100*(ka-Ma),a=Math.round(Math.pow(10,n));c({type:Sa,payload:a})}}),i.createElement("div",{className:"N1NS8O4LhY1d5dedQNg_"},i.createElement(da.LocationRadius,{meters:u})))))}var Fa=(0,p.nD)("button.label"),ja=(0,p.nD)("search.geoLocation.selectLocation");function _a(e){var t=e.currentPosition,n=e.onCancel,a=e.onSuccess,r=Da(),o=r.location,l=r.radius,c=r.dirty,s=(0,va.Z)(o).data,u=Aa();return i.createElement(i.Fragment,null,i.createElement(fa.ZP.Header,null,i.createElement(fa.ZP.Title,null,ja("title"))),i.createElement(fa.ZP.Body,null,i.createElement(Ra,{currentPosition:t})),i.createElement(fa.ZP.Footer,null,i.createElement("div",{className:"vS7F7P64kGQiJB228Xjw"},i.createElement("div",{className:"amxReJHZMZOWX2esQ9m8"},i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:function(){u({type:Ca,payload:null})},disabled:!o,"data-tid":"clear-button"},ja("clearLocation"))),i.createElement("div",{className:"mCrc6D1GCdBknLsNPvcz"},i.createElement(le.Z,{type:le.Z.SECONDARY,onClick:function(){return n(c&&!(o&&Ee().isEqual(o,t.position)&&10===l))}},Fa("cancel")),i.createElement(le.Z,{onClick:function(){if(o){var e=o.lng,t=o.lat;v.ZP.updateGeoLocation({longitude:e,latitude:t,radius:l,streetAddress:s})}else v.ZP.updateGeoLocation({});a()},disabled:!c,className:"mxbrKADdWgpJWsGOkfN2"},Fa("apply"))))))}var Va=function(e){var t=e.onCancel,n=e.onSuccess,a=(0,i.useState)(!1),o=(0,r.Z)(a,2),l=o[0],c=o[1],s=v.ZP.getGeoLocation(),u=(0,Ea.Z)();return i.createElement(Ta,{existingLocation:s},i.createElement(fa.ZP,{size:fa.ZP.sizes.L,"data-tid":"geo-location-map-modal",queryAppElement:ma.Z,isOpen:!l},i.createElement(_a,{currentPosition:u,onCancel:function(e){if(e){var n=function(){(0,fa.GZ)(),c(!1)};c(!0),(0,fa.Ll)(i.createElement(pa.Z,{onCancel:n,onConfirm:function(){n(),t()},messages:{title:ja("confirmation.title"),body:ja("confirmation.body"),cancel:ja("confirmation.cancel"),confirm:ja("confirmation.confirm")}}),{onRequestClose:n})}else t()},onSuccess:n})))},Ua=(0,p.nD)("search.geoLocation.filterButton");function Qa(e){if(0===Object.keys(e).length)return null;var t=e.streetAddress,n=e.latitude,a=e.longitude,r=e.radius;return i.createElement("div",null,i.createElement("p",null,Ua("locationToolTip",{location:null!=t&&t.length?t:"".concat(n,", ").concat(a)})),i.createElement("span",null,Ua("radiusToolTip")," ",i.createElement(da.LocationRadius,{meters:r})))}function Ya(){var e=(0,w.Z)("geoLocationSearchEnabled"),t=function(e){return Object.keys(e).length>0},n=(0,i.useState)(!1),a=(0,r.Z)(n,2),o=a[0],l=a[1],c=v.ZP.getGeoLocation(),s=t(c)?sa.I1:ua.I,u=(0,i.useCallback)((function(){A.Z.track("geoLocation button clicked"),l(!0)}),[]),d=function(){return l(!1)},m=(0,i.useCallback)((function(e){"Enter"===e.key&&u()}),[u]);return e?i.createElement(i.Fragment,null,i.createElement(se.Z,{tooltip:Qa(c),disabled:o||!t(c)},i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:u,tabIndex:0,onKeyPress:m},i.createElement(le.Z.Icon,{icon:s}),Ua("label"))),o&&i.createElement(Va,{onCancel:d,onSuccess:d})):null}var xa=n(474903),Ba=n(890851),za=n(792189),Ha=n(113790),Ga=n(894451),Ka=n(646788),qa=n(201535),Wa=n(159262),Xa=n(914578),Ja=n.n(Xa),$a=n(681680);function er(e){var t=e.property,n=e.selectedItems,a=e.handleContractTypeChange,r=n.includes(t.id);return i.createElement(Bn.Z,null,i.createElement("div",{className:"PRGoiifQ1noYSGH5XF5_"},i.createElement(cn.Z,{id:t.id,onChange:a,checked:r}),i.createElement("label",{htmlFor:t.id,className:f()("X9cI4y9QeFJExK_vVBix",(0,o.Z)({},"H5NTu0lLnYNTf9kp1EIs eugzcnL4uVMlgbRkfTqa",r))},i.createElement(qe.Z,null,t.name))))}var tr="nC3wtdC0Vqzs4Fu2GjJX eugzcnL4uVMlgbRkfTqa",nr=(0,p.nD)("smartAppContract.search");function ar(e){var t=e.smartTags,n=e.selectedItems,a=e.handleContractTypeChange,c=e.isLoading,s=(0,i.useState)(""),u=(0,r.Z)(s,2),d=u[0],m=u[1],p=(0,i.useCallback)((function(e){var t=e.target.checked?(0,l.Z)(new Set([].concat((0,l.Z)(n),[e.target.id]))):n.filter((function(t){return t!==e.target.id.toLowerCase()}));a(t)}),[a,n]);return i.createElement("div",{className:f()("ppT1OtUJYqD4qVmQOSXe",(0,o.Z)({},tr,n.length))},i.createElement(Qn.Z,{closeMenuOnClick:!1,trigger:i.createElement(Yn.Z,{"data-tid":"smart-tags-filter","aria-label":nr("smartTagsFilter.emptyTriggerTitle")},i.createElement("span",{className:"GymqjzrGPHghUfOBcUnS"},n.length?i.createElement(i.Fragment,null,nr("smartTagsFilter.triggerTitle"),i.createElement("span",{className:tr},i.createElement(qe.Z,{maxLength:re.b_,className:"y7IX3mx_458Vv8cijLnd"},(0,Xa.startCase)(n[0])),n.length>1&&nr("smartTagsFilter.additionalType",{count:n.length-1}))):nr("smartTagsFilter.emptyTriggerTitle")))},i.createElement("div",{className:"mjMawtmsK_k_0h2GQeIg"},i.createElement($a.Z,{value:d,placeholder:nr("smartTagsFilter.searchPlaceholder"),onChange:function(e){var t=e.target;return m(t.value)},onClear:function(){return m("")}})),i.createElement(xn.Z,{key:"smart-tags-filter",className:"cqql8LpfjJqAfzIy67p0"},c&&i.createElement("div",{className:"nqoRXYC6GGaR75Sn6ygt"},i.createElement(sn.Z,{size:sn.Z.SMALL})),i.createElement("div",{className:"AvhLV1fh2HEh3Nb0QCKs"},t.filter((function(e){return!e.name.endsWith(re.yY)})).filter((function(e){return!d.trim().length||(0,za.Xv)(e,d)})).map((function(e){return i.createElement(er,{key:e.name,property:e,selectedItems:n,handleContractTypeChange:p})}))))))}var rr="odukphaMNuH7iZrd5glX eugzcnL4uVMlgbRkfTqa",or=(0,p.nD)("smartAppContract.search");function lr(e){var t=e.onContractTypeAndSubTypeChange,n=e.isLoading,a=e.contractTypesData,l=e.contractTypeAndSubTypeSelectionsMap,c=e.isSmartContractsLLMExtractionsEnabled,s=void 0!==c&&c,u=(0,i.useState)(""),d=(0,r.Z)(u,2),m=d[0],p=d[1],E=(0,i.useMemo)((function(){return s?Object.keys(l||{}).length>0:Object.values(l||{}).flat().length>0}),[l,s]),v=function(e){var n=e.target,a=n.checked,r=n.id;t({name:oe.ci.CONTRACT_SUB_TYPE,contractSubTypes:[],parentContract:r,checked:a})},h=m.trim(),y=(0,i.useMemo)((function(){return l?Object.keys(l).reduce((function(e,t){return e.push(t),e}),[]):[]}),[l]),g=(0,i.useMemo)((function(){return a.filter((function(e){var t=e.name;return!h.length||t.toLowerCase().includes(h.toLowerCase())})).sort((function(e,t){var n=e.name,a=t.name;return n.localeCompare(a)}))}),[a,h]);return i.createElement("div",{className:f()("_l9e9EueYzOFS9fk5vpL",(0,o.Z)({},rr,E))},i.createElement(Qn.Z,{closeMenuOnClick:!1,trigger:i.createElement(Yn.Z,{"data-tid":"contract-types-filter","aria-label":or("emptyTriggerTitle")},i.createElement("span",{className:"i7STvF9uQZd6PCs7XpT7"},y.length?i.createElement(i.Fragment,null,or("contractType.triggerTitle"),i.createElement("span",{className:rr},i.createElement(qe.Z,{maxLength:re.b_,className:"oX9hHI_gqALk84dRCvMF"},y[0]),y.length>1&&or("contractType.additionalType",{count:y.length-1}))):or("contractType.emptyTriggerTitle")))},i.createElement("div",{className:"qZBkUV_TUL7jdXcLWW2Y"},i.createElement($a.Z,{value:m,placeholder:or("contractType.searchPlaceholder"),onChange:function(e){var t=e.target.value;return p(t)},onClear:function(){return p("")}})),i.createElement(xn.Z,{key:"contract-types-filter",className:"nVOINqatCyi5QnuJ2ZuY",id:"contract-types-menu"},n||!a?i.createElement("div",{className:"chekLZlKWDHVhw7GPdkT"},i.createElement(sn.Z,{size:sn.Z.SMALL})):i.createElement("div",{className:"XCM_SNzNzrRdQAjelABF"},g.map((function(e){var t=e.name;return i.createElement(er,{property:{name:t,id:t},selectedItems:y,handleContractTypeChange:v,key:t})}))))))}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sr=(0,p.nD)("smartAppContract.search");function ur(e){var t=e.collection,n=e.onSmartAppSearch,a=e.onResetAllClick,r=e.contractCategoriesData,l=(0,i.useRef)(!1),c=(0,Ha.A)(),s=c.previousSearchQuery,u=c.currentSearchQuery,d=(0,w.Z)("isSmartContractsLLMExtractionsEnabled"),m=(0,w.Z)("isContractsMultiNamespaceEnabled"),f=(0,Ba.s3)(re.ci,{enabled:!m},re.LT),p=f.data,E=f.isLoading,v=f.isSuccess,h=null!=r?r:{contractCategories:[],smartTags:[]},g=h.contractCategories,Z=h.smartTags,b=(0,Ka.Z)(),C=b.foldersList,O=b.onFolderSelection,S=b.resetFolderSelection,N=(0,i.useMemo)((function(){return C.filter((function(e){return e.selected})).map((function(e){return e.path}))}),[C]),P=(0,Ga.G)(),T=P.selectedSmartTags,A=P.contractTypeAndSubTypeSelectionsMap,D=P.updateMetadata,M=P.updateDocumentTypeMap,k=P.resetAllFiltersIncludingUrl,I=P.urlFilters,L=(0,i.useMemo)((function(){return d?Object.keys(A).length>0:(0,za.U4)(A)}),[A,d]),R=(0,i.useCallback)((function(e){var t=e.contractSubTypes,n=e.parentContract,a=e.checked;l.current=(0,za.IK)(T,A);var r=cr(cr({},A),{},(0,o.Z)({},n,t));a||delete r[n],M(r)}),[A,T,M]),F=(0,i.useCallback)((function(){a(!0),t.clearOffset(),k()}),[t,a,k]);(0,i.useEffect)((function(){var e=(0,za.IK)(T,A||{},d);if(e&&!(l.current||(0,za.QQ)()||Object.keys(I.documentTypeMap||{}).length>0))return l.current=!0,void F();var a=(0,za.zY)({selectedSmartTags:T,collection:t,contractTypeAndSubTypeSelectionsMap:A||{},previousSearchQuery:s,currentSearchQuery:u,isSmartContractsLLMExtractionsEnabled:d,currentFolderLocations:N,isContractsMultiNamespaceEnabled:m}),r=a.hideMetadataColumns,o=a.noChangeDetected;n(cr(cr(cr(cr({},r?{showContractsMetadataColumns:!1,showLoader:!1}:{}),e?{showContractsMetadataColumns:!0}:{}),!o&&{showContractsMetadataColumns:!r,showLoader:!0}),{},{privateNamespace:m?Z:p}))}),[F,A,u,d,m,v,p,n,s,T,I.documentTypeMap,N]);var j=(0,i.useMemo)((function(){return C.filter((function(e){return e.selected}))}),[C]),_=L||!(null==T||!T.length)||j.length>0;return i.createElement("div",{className:"GR4a9jPp7XOL1FtN71Nv"},i.createElement("div",{className:"JA4NFrj1pFvrxCjJPWZp"},i.createElement(Le.Z,{icon:xa.N,size:Le.Z.sizes.M}),i.createElement("span",null,sr("heading"))),i.createElement(qa.Z,{foldersList:C,onFolderSelection:O}),i.createElement(lr,{onContractTypeAndSubTypeChange:R,contractTypesData:g||[],contractTypeAndSubTypeSelectionsMap:A||{},isLoading:E,isSmartContractsLLMExtractionsEnabled:d}),i.createElement(ar,{smartTags:Z,selectedItems:T,isLoading:E,handleContractTypeChange:function(e){var t=e.map((function(e){return{namespace:re.ci,operator:(0,ae.Z)().operator.HAS_KEY,key:e}}));D(t),l.current=(0,za.IK)(e,A)}}),i.createElement(y.Z,{onClick:function(){S(),F(),(0,Wa.Mk)()},disabled:!_},sr("resetText")))}var dr=(0,p.nD)("search.metadata.crossDomainSearch.disabled");function mr(){return i.createElement("div",{className:"KqBJZC1TTh_z3E8CDq5A"},i.createElement("span",null,dr("message")),i.createElement(se.Z,{tooltip:dr("tooltip"),placement:"bottom"},i.createElement(Le.Z,{className:"od7lCosfVFLgNmKLn6mA",icon:ya.yo})))}var fr=n(955010),pr=n(586231),Er=n(531081),vr=n(179755),hr=n(379499),yr=n(451545),gr=n(701729);function Zr(e,t){var n=e.toJSON().slice(0,10).map((function(e){return i.createElement("div",{className:"w4H_ZOcfCHIJB1UfFQfk",key:e.name},i.createElement(Le.Z,{size:"16px",icon:"folder"===e.type?Er.Hf:vr.L8,className:"q9HG98qnROvDG6K8EE4l"}),i.createElement("div",{className:f()("oRoYdQtwlDeSIVlg8mHA","text-ellipsis")},e.name),i.createElement("div",{className:"QMf2bYMMNqwt7u8BZYlA"},(0,St.ZU)(e.lastModifiedTimestamp)))}));return i.createElement("div",{className:"SNP5Gqw6fQE1qj7ArX1Q"},i.createElement("div",{className:f()("rGjuy4juP5eJuFWvMVCG","text-ellipsis")},(0,p.t)("search.crossDomainTop10",{domainName:t,count:n.length})),n)}var br=(0,gr.Z)((function(e){var t=e.collection,n=e.searchURL,a=e.displayName,r=e.pending,o=e.hasError,l=e.accessUrl;return i.createElement("li",{className:"LOadMOrUPvuJ0wcac7Hs"},i.createElement(se.Z,{placement:"left",tooltip:Zr(t,a)},i.createElement("a",{className:f()("KCmN1tISBaMuxwhGB3GA",r&&"f6pgAB2R0F9zcihBzib3"),target:"_blank",rel:"noreferrer",href:n},i.createElement("span",{className:"FalLPl_YtNmb9wIXGZvP"},i.createElement("span",{className:f()("yLWoUy6BufdIMdj60UAz","text-ellipsis",o&&"bSJ7hJPrsdxtbqDf3Uyb")},o&&i.createElement(Le.Z,{icon:hr.Z9}),(0,p.t)("search.crossDomainResults",{count:t.length,resultsCount:"".concat(t.length).concat(t.hasMore?"+":""),domainName:a,context:r?"searching":o&&"error"})),i.createElement("span",{className:f()("EY1hVGR4Vhg5yqXSxbk4","text-ellipsis")},l)),i.createElement(Le.Z,{className:"owG0kjupYSKRxgEhuATf",icon:r?fr.V:yr.b,spin:r}))))})),Cr=n(156607);function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nr=function(e){var t=e.rootCollection,n=e.controller,o=(0,i.useState)(!0),l=(0,r.Z)(o,2),c=l[0],s=l[1],u=Kt().data,d=(0,i.useMemo)((function(){return(null!=u?u:[]).map((function(e){return Sr(Sr({},e),{},{collection:new Cr.Z([],{domain:e.workgroupName})})}))}),[u]),m=(0,pr.Z)(d),f=(0,r.Z)(m,1)[0],E=t.searchQuery,v=t.getFilter(Cr.Z.FILTERS.TYPE.NAME);(0,i.useEffect)((function(){return f&&f!==d&&f.forEach((function(e){e.collection.deinitialize()})),d.forEach((function(e){e.collection.on("sync error",(function(){s(!1)}),e)})),function(){d.forEach((function(e){e.collection.off(null,null,e)}))}}),[d,f]),(0,i.useEffect)((function(){(0,O.pL)()?s(!1):(s(!0),d.forEach((function(e){var t=e.collection;t.setProperty("searchQuery",E),t.setFilter([v].filter(Boolean),{silent:!0}),n.fetchResults(t)})))}),[d,E,v,n]);var h=d.filter((function(e){return e.collection.length>=0})),y=h.some((function(e){return e.collection.hasMore})),g=h.reduce((function(e,t){return e+t.collection.length}),0);return i.createElement("div",{className:"cross-domain"},c?i.createElement(Yn.Z,{className:"DpszhcPZoICQh0_a35Wn",disabled:!0,chevron:!1},(0,p.t)("search.crossDomainLabel",{context:"searching"}),i.createElement(Le.Z,{className:"V6U2MYAT6UAr69emtj8n",icon:fr.V,spin:!0})):i.createElement(Qn.Z,{trigger:i.createElement(Yn.Z,null,(0,p.t)("search.crossDomainLabel",{count:d.length,resultsCount:g+(y?"+":"")}))},i.createElement(xn.Z,null,d.map((function(e){return i.createElement(br,(0,a.default)({},e,{searchURL:n.getCrossDomainRedirectionURL(e.collection,e.workgroupId),key:e.accessUrl,autoFetch:!1}))})))))};function Pr(e){var t=e.collection;return t.metadataProperties.length>0?i.createElement(mr,null):i.createElement(Nr,{controller:qt.Z,rootCollection:t})}function Tr(e){var t=(0,w.Z)("metadataAsModal"),n=e.isMetadataSearchVisible(),a=e.isMetadataFormCollapsed(),r=(0,w.Z)("customMetadataSearch"),o=e.getMetadataNamespaces(),l=!e.hasEmptyNamespaceCriteria(),i=e.getAllMetadataSearchProperties(),c=(null==o?void 0:o.length)>0,s=r&&!n&&c;return t&&(s=r&&c),{isMetadataSearchVisible:n,isMetadataPanelCollapsed:a,isMetadataFeatureEnabled:r,canAddNewMetadataCriteria:l,appliedMetadataProperties:i,isSearchByMetadataPossible:c,namespaces:o,showMetadataContainer:r&&n,showAdvancedSearch:s}}function Ar(e){var t=e.searchState,n=e.selectedItemFromUrl,a=e.collection,r=e.showAdvancedSearch,o=e.domains,l=e.referrer,c=e.onSmartAppSearch,s=e.setShowAllSmartAppContracts,u=e.contractCategoriesData,d=e.searchInput,m=Tr(t).isMetadataSearchVisible,f=(0,w.Z)("metadataAsModal"),p=(0,w.Z)("searchFiltersV2Enabled");return l===z.$.SMARTAPP_CONTRACTS?i.createElement("div",{className:"Z8v48KaWWGfAzq3JN1ok"},i.createElement(ur,{collection:a,onSmartAppSearch:c,onResetAllClick:s,contractCategoriesData:u}),i.createElement("div",{className:"UI4mIi1OAnFSYsTdULH_"},d)):i.createElement(i.Fragment,null,!p&&i.createElement("div",{className:"search-filters-wrapper"},i.createElement("div",{className:"oTHCoGSuKrL4SjWx9Zd3"},i.createElement(ca,{searchState:t,isMltSearch:!!n}),!n&&i.createElement(i.Fragment,null,r&&i.createElement(Vn,{onClick:function(){return f&&m?t.expandAllMetadataCriterias():t.showMetadataSearch()}}),i.createElement(Ya,null),function(e,t){return!(!(!e.getFilter(e.constructor.FILTERS.LOCATION.NAME)&&(null==t?void 0:t.length)>0&&e.searchQuery&&e.isSearchQueryValid())||(0,O.pL)())}(a,o)&&i.createElement(Pr,{collection:a})))))}var Dr=n(777814),wr=n(705677),Mr=n(713086),kr=n(523563),Ir=n(803736),Lr={Folder:"folder",Content:"content",FileType:"fileType",Modified:"modified",Uploaded:"uploaded",UpdatedBy:"updatedBy",Geolocation:"geolocation"},Rr=8e5,Fr="ALL",jr="FILENAME",_r="CONTENT",Vr="COMMENTS",Ur="FOLDERNAME",Qr="DESCRIPTION",Yr=Hn.Z.TIME.KEYS,xr=Hn.Z.UPLOAD_TIME.NAME,Br=function(){return[{id:Yr.ANY,label:(0,p.t)("search.filterDropdown.timeOptions.anyTime")},{id:Yr.DAY,label:(0,p.t)("search.filterDropdown.timeOptions.last24Hours")},{id:Yr.WEEK,label:(0,p.t)("search.filterDropdown.timeOptions.last7Days")},{id:Yr.MONTH,label:(0,p.t)("search.filterDropdown.timeOptions.last30Days")},{id:Yr.MONTH_3,label:(0,p.t)("search.filterDropdown.timeOptions.last90Days")},{id:Yr.MONTH_6,label:(0,p.t)("search.filterDropdown.timeOptions.last180Days")},{id:Yr.MONTH_12,label:(0,p.t)("search.filterDropdown.timeOptions.last360Days")},{id:Yr.CUSTOM,label:(0,p.t)("search.filterDropdown.timeOptions.custom")}]},zr=function(){return[{id:Yr.ANY,label:(0,p.t)("search.filterDropdown.timeOptions.anyTime")},{id:Yr.DAY,label:(0,p.t)("search.filterDropdown.timeOptions.last24Hours")},{id:Yr.WEEK,label:(0,p.t)("search.filterDropdown.timeOptions.last7Days")},{id:Yr.MONTH,label:(0,p.t)("search.filterDropdown.timeOptions.last30Days")},{id:Yr.MONTH_3,label:(0,p.t)("search.filterDropdown.timeOptions.last90Days")},{id:Yr.MONTH_6,label:(0,p.t)("search.filterDropdown.timeOptions.last180Days")},{id:Yr.MONTH_12,label:(0,p.t)("search.filterDropdown.timeOptions.last360Days")},{id:Yr.CUSTOM,label:(0,p.t)("search.filterDropdown.timeOptions.custom")}]},Hr=function(){return[{id:Fr,label:(0,p.t)("search.filterDropdown.fileTypes.allFiles")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.PDF,label:(0,p.t)("search.filterDropdown.fileTypes.pdf")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.DOCUMENT,label:(0,p.t)("search.filterDropdown.fileTypes.documents")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.SPREADSHEET,label:(0,p.t)("search.filterDropdown.fileTypes.spreadsheets")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.PRESENTATION,label:(0,p.t)("search.filterDropdown.fileTypes.presentations")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.IMAGE,label:(0,p.t)("search.filterDropdown.fileTypes.images")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.AUDIO_VIDEO,label:(0,p.t)("search.filterDropdown.fileTypes.audioVideo")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.TEXT_SOURCE_CODE,label:(0,p.t)("search.filterDropdown.fileTypes.textCode")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.GOOGLE_FILE,label:(0,p.t)("search.filterDropdown.fileTypes.googleFiles")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.EMAIL,label:(0,p.t)("search.filterDropdown.fileTypes.email")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.CAD,label:(0,p.t)("search.filterDropdown.fileTypes.cad")},{id:Hn.Z.EXTENSION_CATEGORY.KEYS.ARCHIVE,label:(0,p.t)("search.filterDropdown.fileTypes.archives")}]},Gr=function(e){var t=e[Hn.Z.UPLOAD_TIME.NAME],n=e[Hn.Z.UPLOAD_TIME.CREATED_AFTER],a=e[Hn.Z.UPLOAD_TIME.CREATED_BEFORE];return n&&a?{selectedId:Yr.CUSTOM,range:{start:Number(n),end:Number(a)}}:{selectedId:t||Yr.ANY,range:{}}},Kr=function(e){var t=e[Hn.Z.MODIFIED_TIME.NAME],n=e[Hn.Z.MODIFIED_TIME.MODIFIED_AFTER],a=e[Hn.Z.MODIFIED_TIME.MODIFIED_BEFORE];return n&&a?{selectedId:Yr.CUSTOM,range:{start:Number(n),end:Number(a)}}:{selectedId:t||Yr.ANY,range:{}}},qr=function(e){var t=e[Hn.Z.EXTENSION_CATEGORY.NAME];return t?Array.isArray(t)?t[0]:t:Fr},Wr=function(e){return e&&Object.keys(e).length>0?{latitude:e.latitude,longitude:e.longitude,radius:e.radius||50,streetAddress:e.streetAddress}:{radius:50}},Xr=function(e){return e[Hn.Z.LOCATION.NAME]?Hn.Z.LOCATION.KEYS.CURRENT_FOLDER:Hn.Z.LOCATION.KEYS.ALL_FOLDERS},Jr=function(e){return e[Hn.Z.USERNAME.NAME]||""};function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var to=function(){var e,t,n,a,r,o,l,i,c,s,u,d=ie.ZP.getContentParams(),m=null===(e=null===(t=d.fileQuery)||void 0===t?void 0:t.all)||void 0===e||e,f=(null===(n=d.fileQuery)||void 0===n?void 0:n.selected)||{},p=null===(a=null===(r=d.folderQuery)||void 0===r?void 0:r.all)||void 0===a||a,E=(null===(o=d.folderQuery)||void 0===o?void 0:o.selected)||{},h={files:{checked:m,subTypes:{fileName:null===(l=f.FILENAME)||void 0===l||l,fileContent:null===(i=f.CONTENT)||void 0===i||i,fileComments:null===(c=f.COMMENTS)||void 0===c||c}},folders:{checked:p,subTypes:{folderName:null===(s=E.FOLDERNAME)||void 0===s||s,folderDescription:null===(u=E.DESCRIPTION)||void 0===u||u}}},y=v.ZP.getFilters()[Hn.Z.TYPE.NAME];return y===Hn.Z.TYPE.KEYS.FOLDERS?eo(eo({},h),{},{files:{checked:!1,subTypes:{fileName:!1,fileContent:!1,fileComments:!1}}}):y===Hn.Z.TYPE.KEYS.FILES?eo(eo({},h),{},{folders:{checked:!1,subTypes:{folderName:!1,folderDescription:!1}}}):h},no=function(e){var t=e.files.checked||Object.values(e.files.subTypes).some(Boolean),n=e.folders.checked||Object.values(e.folders.subTypes).some(Boolean),a=e.files.checked,r=e.folders.checked;ie.ZP.setContentParamsFileQueryAll(a),ie.ZP.setContentParamsFolderQueryAll(r);var o=[{key:jr,value:e.files.subTypes.fileName},{key:_r,value:e.files.subTypes.fileContent},{key:Vr,value:e.files.subTypes.fileComments}];ie.ZP.setContentParamsFileQuerySelected(o);var l=[{key:Ur,value:e.folders.subTypes.folderName},{key:Qr,value:e.folders.subTypes.folderDescription}];ie.ZP.setContentParamsFolderQuerySelected(l),t&&n?v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.ALL):t?v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.FILES):n?v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.FOLDERS):v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.ALL),v.ZP.executeSearch({query:ie.ZP.getSearchQuery(),filters:v.ZP.getFilters(),metadata:v.ZP.getMetadataParams(),contentParams:ie.ZP.getContentParams(),geoLocation:v.ZP.getGeoLocation(),nlSearch:ie.ZP.getIsNLSearchOn()})},ao=function(e,t,n,a,r){var l;t===Yr.CUSTOM?n.start&&n.end&&v.ZP.onFilterChange(e,Yr.CUSTOM,(l={},(0,o.Z)(l,a,n.start),(0,o.Z)(l,r,n.end),l)):t!==Yr.ANY?v.ZP.onFilterChange(e,t):v.ZP.onFilterChange(e,"")},ro=function(e,t){ao(xr,e,t,"createdAfter","createdBefore")},oo=function(e,t){ao(Hn.Z.MODIFIED_TIME.NAME,e,t,"modifiedAfter","modifiedBefore")},lo=function(e){e&&e!==Fr?(v.ZP.onFilterChange(Hn.Z.EXTENSION_CATEGORY.NAME,e),v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.FILES)):(v.ZP.onFilterChange(Hn.Z.EXTENSION_CATEGORY.NAME,""),v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.ALL))},io=function(e){e.latitude&&e.longitude?v.ZP.updateGeoLocation({latitude:e.latitude,longitude:e.longitude,radius:e.radius,streetAddress:e.streetAddress}):v.ZP.updateGeoLocation({})},co=function(e){var t="";if(e===Hn.Z.LOCATION.KEYS.CURRENT_FOLDER){var n=ie.ZP.retrieveCurrentFolder();t=n&&(0,O.DW)(n)}v.ZP.onFilterChange(Hn.Z.LOCATION.NAME,t,void 0,!0)},so=function(e){v.ZP.onFilterChange(Hn.Z.USERNAME.NAME,e||"")};function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo=function(){var e=v.ZP.getFilters(),t=v.ZP.getGeoLocation(),n=ie.ZP.getContentParams();return[{sectionId:Lr.Folder,hasActiveFilter:function(){return!!e[Hn.Z.LOCATION.NAME]}},{sectionId:Lr.Content,hasActiveFilter:function(){var t,a,r,o,l,i,c,s,u,d,m,f=e[Hn.Z.TYPE.NAME],p=null===(t=null==n||null===(a=n.fileQuery)||void 0===a?void 0:a.all)||void 0===t||t,E=null===(r=null==n||null===(o=n.folderQuery)||void 0===o?void 0:o.all)||void 0===r||r,v=(null==n||null===(l=n.fileQuery)||void 0===l?void 0:l.selected)||{},h=(null==n||null===(i=n.folderQuery)||void 0===i?void 0:i.selected)||{};return!(!f||f===Hn.Z.TYPE.KEYS.ALL)||!(p&&E&&(null===(c=v.FILENAME)||void 0===c||c)&&(null===(s=v.CONTENT)||void 0===s||s)&&(null===(u=v.COMMENTS)||void 0===u||u)&&(null===(d=h.FOLDERNAME)||void 0===d||d)&&(null===(m=h.DESCRIPTION)||void 0===m||m))}},{sectionId:Lr.FileType,hasActiveFilter:function(){var t=e[Hn.Z.EXTENSION_CATEGORY.NAME];return!(!t||!(Array.isArray(t)?t.length>0:t))}},{sectionId:Lr.Modified,hasActiveFilter:function(){var t=e[Hn.Z.MODIFIED_TIME.NAME]&&e[Hn.Z.MODIFIED_TIME.NAME]!==Yr.ANY,n=!(!e[Hn.Z.MODIFIED_TIME.MODIFIED_AFTER]&&!e[Hn.Z.MODIFIED_TIME.MODIFIED_BEFORE]);return t||n}},{sectionId:Lr.Uploaded,hasActiveFilter:function(){var t=e[Hn.Z.UPLOAD_TIME.NAME]&&e[Hn.Z.UPLOAD_TIME.NAME]!==Yr.ANY,n=!(!e[Hn.Z.UPLOAD_TIME.CREATED_AFTER]&&!e[Hn.Z.UPLOAD_TIME.CREATED_BEFORE]);return t||n}},{sectionId:Lr.UpdatedBy,hasActiveFilter:function(){return"string"==typeof e[Hn.Z.USERNAME.NAME]&&!!e[Hn.Z.USERNAME.NAME]}},{sectionId:Lr.Geolocation,hasActiveFilter:function(){return!!(t&&Object.keys(t).length>0)}}]},po=n(861750),Eo=n(494090),vo=n(532116),ho=n(658468),yo=n(223710),go=function(e){var t=e.selectedId,n=e.customDateRange,a=e.options,r=e.onOptionChange,o=e.onCustomDateChange,l=e.filterType,c=e.onReset,s=t===Yr.CUSTOM,u=(new Date).getTime(),d="".concat(l).concat("Filter"),m="modified"===l?"filter-option-modified-":"filter-option-";return i.createElement(ho.Z,null,i.createElement(yo.Z,{options:a.filter((function(e){return e.id!==Yr.CUSTOM})),selectedId:t,onChange:r,onReset:c}),i.createElement("div",{className:"ZhLs3y_uShXKmGjOqkeQ","data-tid":"".concat(m).concat(Yr.CUSTOM)},i.createElement(Eo.Z,{onClick:function(){s||r(Yr.CUSTOM)},selected:s},i.createElement(Eo.Z.Selection,{actionType:vo.P.SINGLE_SELECT,name:d,onChange:function(){s||r(Yr.CUSTOM)}}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,(0,p.t)("search.filterDropdown.customLabel"))))),s&&i.createElement("div",{className:"UNfhaO7xQyUMQJvoQIDe"},i.createElement(po.Z,{insideDropdown:!1,onChange:o,maxTimestamp:u,startTimestamp:n.start,endTimestamp:n.end})))},Zo=function(e){var t=e.selectedFileType,n=e.onFileTypeOptionChange,a=e.onReset;return i.createElement(ho.Z,null,i.createElement(yo.Z,{options:Hr(),selectedId:t,onChange:n,onReset:a}))},bo=function(e){var t=e.onLocationSelect,n=(0,i.useRef)(null),a=(0,i.useCallback)((function(){n.current&&(clearTimeout(n.current),n.current=null)}),[]);(0,i.useEffect)((function(){return function(){return a()}}),[a]);var r=(0,i.useCallback)((function(e){a(),n.current=setTimeout((function(){t(e.latlng)}),300)}),[a,t]);return(0,ha.zV)({click:r,dblclick:a}),null};function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var So,No=(0,p.nD)("search.geoLocation"),Po=function(e){var t=e.geoLocation,n=e.locationData,a=e.onGeoLocationChange,r=e.onRadiusChange,o=e.onLocationSearchQueryChange,l=e.onClearGeoLocation,c=function(e,t,n){var a=(0,Ea.Z)(),r=(0,i.useRef)(!1),o=(0,i.useMemo)((function(){var t=Math.log10(10),n=Math.log10(Rr);return e.radius?Math.round((Math.log10(e.radius)-t)/(n-t)*100):0}),[e.radius]),l=(0,i.useMemo)((function(){return e.latitude&&e.longitude?{lat:e.latitude,lng:e.longitude}:null}),[e.latitude,e.longitude]),c=(0,i.useCallback)((function(e){n({latitude:e.lat,longitude:e.lng})}),[n]),s=(0,i.useCallback)((function(e){var t=e.getLatLng();c(t)}),[c]),u=(0,i.useMemo)((function(){return t.map((function(e){return{latitude:e.latitude,longitude:e.longitude,label:e.name,value:"".concat(e.name,"-").concat(e.latitude,"-").concat(e.longitude)}}))}),[t]),d=(0,i.useMemo)((function(){var t;return e.latitude&&e.longitude&&(null===(t=u.find((function(t){return t.latitude===e.latitude&&t.longitude===e.longitude})))||void 0===t?void 0:t.value)||""}),[e.latitude,e.longitude,u]),m=(0,i.useCallback)((function(e){var t=u.find((function(t){return t.value===e}));t&&n({latitude:t.latitude,longitude:t.longitude,label:t.label})}),[u,n]);return(0,i.useEffect)((function(){var e=a.position;r.current||(e&&!l?(n({latitude:e.lat,longitude:e.lng}),r.current=!0):l&&(r.current=!0))}),[l,a,n]),{isCurrentPositionLoading:a.isLoading,sliderValue:o,location:l,locationOptions:u,selectedLocation:d,handleMapLocationSelect:c,handleMarkerDrag:s,handleSelectChange:m}}(t,n,a),s=c.isCurrentPositionLoading,u=c.sliderValue,d=c.location,m=c.locationOptions,f=c.selectedLocation,p=c.handleMapLocationSelect,E=c.handleMarkerDrag,v=c.handleSelectChange;return i.createElement(ho.Z,null,i.createElement("div",null,i.createElement("div",{className:"mdQTAJjg3Q3zfXAeCDKI"},i.createElement(Pe.Z,{isSearchable:!0,blurInputOnSelect:!0,value:f,options:m,placeholder:No("selectLocation.searchPlaceholder"),onChange:v,onInputChange:o,noOptionsMessage:function(){return No("selectLocation.noResults")},menuPlacement:"auto",menuShouldScrollIntoView:!1,zIndex:99999999,styles:{menuList:function(e){return Oo(Oo({},e),{},{maxWidth:"320px"})}}})),i.createElement("div",{className:"aM9jUvCzKMfDsAjassSq"},i.createElement(da.default,{mapProps:{className:"Vx83UoeqeN5x1lAE4SiT"},scrollWheelZoom:!0,dataTid:"geo-location-map-inline"},d&&i.createElement(da.LocationMarker,{draggable:!0,location:d,radius:t.radius,onMarkerDragEnd:E}),i.createElement(da.CenterMapButton,{location:d}),i.createElement(bo,{onLocationSelect:p}))),d&&i.createElement(i.Fragment,null,i.createElement("div",{className:"fT4lwqSUKaJ1Tc_m56Pw"},i.createElement(da.LocationName,{location:d,isLoading:s})),i.createElement("div",{className:"IxUrYZgtl1v0YOUVDlIt"},i.createElement("label",{className:"adDqBJB1s1i8jRThV5pQ Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",htmlFor:"geo-radius-slider"},No("selectLocation.defineRadius")),i.createElement("div",{className:"mYWXZ6tyqPRj8mMMUDRA"},i.createElement("span",{className:"GCDvQjv_Iy4sPfm1yD77 kl7VIdHhXWFnvA5cI7hp"},"10m"),i.createElement("input",{type:"range",min:0,max:100,value:u,onChange:r,className:"bL_CHifYXpJgWpfRgvvz",disabled:!d,id:"geo-radius-slider"}),i.createElement("span",{className:"DQQQYzwZVtiFGhLrEm40 kl7VIdHhXWFnvA5cI7hp"},"800km")),i.createElement("div",{className:"UKep7Qtt5uf7F6fZwdLT Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},i.createElement(da.LocationRadius,{meters:t.radius})))),d&&i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:l,"data-tid":"clear-geolocation-button"},No("selectLocation.clearLocation"))))},To="Xb9uQu0afoimJYmJjnIH",Ao="fY2JmEA4lgcu3wYoVOPd",Do="GDyIseiuGl3bOyUUm3au",wo=function(e){var t=e.selectedContent,n=e.onReset,a=e.isSelectAllChecked,r=e.isSelectAllIndeterminate,o=e.onSelectAll,l=e.onToggleMain,c=e.isIndeterminate,s=e.onOpenFiles,u=e.onOpenFolders,d=(0,p.nD)("search.filterDropdown.content");return i.createElement(ho.Z,null,i.createElement("div",{"data-tid":"content-filter-main"},i.createElement("div",{className:"t5lLpFln8fr5AGMiXf91"},i.createElement("div",{className:"QU1LDkJ4CT9QuHTi9Tp8"},i.createElement(Eo.Z,{onClick:o,selected:!1},i.createElement("div",{className:To},i.createElement(cn.Z,{checked:a,indeterminate:r,onChange:o,onClick:function(e){return e.stopPropagation()},className:Ao}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,d("selectAll")))))),n&&i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:n,className:"NSnuYKbd17tV5X0wXy7Z","aria-label":d("resetToAppliedState")},i.createElement(le.Z.Icon,{icon:Dr.b}),d("reset"))),i.createElement("div",{className:"yTexfOK4UNr4bX1SL6Sb"}),i.createElement(Eo.Z,{onClick:s,selected:!0},i.createElement("div",{className:To},i.createElement(cn.Z,{checked:t.files.checked,indeterminate:c("files"),onChange:function(e){e.stopPropagation(),l("files")},onClick:function(e){return e.stopPropagation()},className:Ao}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,d("files"))),i.createElement("span",{className:Do},i.createElement(Le.Z,{icon:Re.XX,size:Le.Z.sizes.S})))),i.createElement(Eo.Z,{onClick:u,selected:!0},i.createElement("div",{className:To},i.createElement(cn.Z,{checked:t.folders.checked,indeterminate:c("folders"),onChange:function(e){e.stopPropagation(),l("folders")},onClick:function(e){return e.stopPropagation()},className:Ao}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,d("folders"))),i.createElement("span",{className:Do},i.createElement(Le.Z,{icon:Re.XX,size:Le.Z.sizes.S}))))))},Mo="kyKicdR3PVHV_pNiemXf",ko="nEcQ3bqrNFignyjMLmby",Io=function(e){var t=e.selectedContent,n=e.onBack,a=e.onToggleSub,r=function(e){return function(){return a("files",e)}},o=function(e){return function(t){t.stopPropagation(),a("files",e)}},l=function(e){return e.stopPropagation()};return i.createElement(i.Fragment,null,i.createElement("div",{className:"hFL9QhIk2eLGolo1lKPE"},i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:n,className:"PpJXJm_rNGlAFTJdDV1A"},i.createElement(Le.Z,{icon:Re.Mn,size:Le.Z.sizes.S})),i.createElement("span",{className:"PRlcsxvxfxF0k973h4S7"},(0,p.t)("search.filterDropdown.content.files"))),i.createElement(ho.Z,null,i.createElement("div",{"data-tid":"content-filter-files"},i.createElement(Eo.Z,{onClick:r("fileName"),selected:!1},i.createElement("div",{className:Mo},i.createElement(cn.Z,{checked:t.files.subTypes.fileName,onChange:o("fileName"),onClick:l,className:ko}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,(0,p.t)("search.filterDropdown.content.fileName"))))),i.createElement(Eo.Z,{onClick:r("fileContent"),selected:!1},i.createElement("div",{className:Mo},i.createElement(cn.Z,{checked:t.files.subTypes.fileContent,onChange:o("fileContent"),onClick:l,className:ko}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,(0,p.t)("search.filterDropdown.content.fileContent"))))),i.createElement(Eo.Z,{onClick:r("fileComments"),selected:!1},i.createElement("div",{className:Mo},i.createElement(cn.Z,{checked:t.files.subTypes.fileComments,onChange:o("fileComments"),onClick:l,className:ko}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,(0,p.t)("search.filterDropdown.content.fileComments"))))))))},Lo="sXKAzJJF2SfHbWo0gOmw",Ro="RyeDCMfV6QofERg5YC4u",Fo=function(e){var t=e.selectedContent,n=e.onBack,a=e.onToggleSub,r=function(e){return function(){return a("folders",e)}},o=function(e){return function(t){t.stopPropagation(),a("folders",e)}},l=function(e){return e.stopPropagation()};return i.createElement(i.Fragment,null,i.createElement("div",{className:"mrP7q24_kT2r8xdZRIa7"},i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:n,className:"Tn739Pued_unVSjCTkBp"},i.createElement(Le.Z,{icon:Re.Mn,size:Le.Z.sizes.S})),i.createElement("span",{className:"e5oViQ2BKdSm2sesRzTH"},(0,p.t)("search.filterDropdown.content.folders"))),i.createElement(ho.Z,null,i.createElement("div",{"data-tid":"content-filter-folders"},i.createElement(Eo.Z,{onClick:r("folderName"),selected:!0},i.createElement("div",{className:Lo},i.createElement(cn.Z,{checked:t.folders.subTypes.folderName,onChange:o("folderName"),onClick:l,className:Ro}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,(0,p.t)("search.filterDropdown.content.folderName"))))),i.createElement(Eo.Z,{onClick:r("folderDescription"),selected:!0},i.createElement("div",{className:Lo},i.createElement(cn.Z,{checked:t.folders.subTypes.folderDescription,onChange:o("folderDescription"),onClick:l,className:Ro}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,(0,p.t)("search.filterDropdown.content.folderDescription"))))))))},jo="main",_o="files",Vo="folders",Uo=(So={},(0,o.Z)(So,jo,(function(e){var t=e.selectedContent,n=e.onReset,a=e.isSelectAllChecked,r=e.isSelectAllIndeterminate,o=e.handleSelectAll,l=e.handleMainCheckboxChange,c=e.isIndeterminate,s=e.navigateTo;return i.createElement(wo,{selectedContent:t,onReset:n,isSelectAllChecked:a,isSelectAllIndeterminate:r,onSelectAll:o,onToggleMain:l,isIndeterminate:c,onOpenFiles:function(){return s(_o)},onOpenFolders:function(){return s(Vo)}})})),(0,o.Z)(So,_o,(function(e){var t=e.selectedContent,n=e.onBack,a=e.handleSubCheckboxChange;return i.createElement(Io,{selectedContent:t,onBack:n,onToggleSub:a})})),(0,o.Z)(So,Vo,(function(e){var t=e.selectedContent,n=e.onBack,a=e.handleSubCheckboxChange;return i.createElement(Fo,{selectedContent:t,onBack:n,onToggleSub:a})})),So),Qo=function(e){var t=e.selectedContent,n=e.onContentChange,a=e.onReset,o=(0,i.useState)(jo),l=(0,r.Z)(o,2),c=l[0],s=l[1],u=(0,i.useCallback)((function(){var e=Ja().cloneDeep(t),a=!(e.files.checked&&e.folders.checked);e.files.checked=a,e.folders.checked=a,Object.keys(e.files.subTypes).forEach((function(t){e.files.subTypes[t]=a})),Object.keys(e.folders.subTypes).forEach((function(t){e.folders.subTypes[t]=a})),n(e)}),[t,n]),d=(0,i.useCallback)((function(e){var a=Ja().cloneDeep(t),r=!a[e].checked;a[e].checked=r,Object.keys(a[e].subTypes).forEach((function(t){a[e].subTypes[t]=r})),n(a)}),[t,n]),m=(0,i.useCallback)((function(e,a){var r=Ja().cloneDeep(t);r[e].subTypes[a]=!r[e].subTypes[a];var o=Object.values(r[e].subTypes).every((function(e){return e}));r[e].checked=o,n(r)}),[t,n]),f=t.files.checked||Object.values(t.files.subTypes).some((function(e){return e})),p=t.folders.checked||Object.values(t.folders.subTypes).some((function(e){return e})),E=f&&!p||!f&&p||t.files.checked&&!t.folders.checked||!t.files.checked&&t.folders.checked,v=t.files.checked&&t.folders.checked,h=Uo[c];return i.createElement(h,{selectedContent:t,onReset:a,handleSelectAll:u,handleMainCheckboxChange:d,isIndeterminate:function(e){var n=Object.values(t[e].subTypes),a=n.filter((function(e){return e})).length;return a>0&&a<n.length},isSelectAllChecked:v,isSelectAllIndeterminate:E,navigateTo:function(e){return s(e)},onBack:function(){return s(jo)},handleSubCheckboxChange:m})},Yo=function(e){var t=e.selectedOption,n=e.onFolderOptionChange,a=function(){var e=v.ZP.getFilters()[Hn.Z.LOCATION.NAME],t=ie.ZP.retrieveCurrentFolder(),n="";if(e)n=(0,zn.EZ)(e);else if(t){var a=t.get?t.get("path"):t.path,r=t.get?t.get("name"):t.name;a?n=(0,zn.EZ)(a):r&&(n=r)}return{folder:t,folderPath:e,isSearchable:v.ZP.inSearchableFolder(t),folderName:n}}(),r=a.folder,o=a.folderPath,l=a.isSearchable,c=a.folderName,s=!(o||r&&l),u=s&&t===Hn.Z.LOCATION.KEYS.CURRENT_FOLDER?Hn.Z.LOCATION.KEYS.ALL_FOLDERS:t,d=function(){s||n(Hn.Z.LOCATION.KEYS.CURRENT_FOLDER)},m=function(){n(Hn.Z.LOCATION.KEYS.ALL_FOLDERS)},f=u===Hn.Z.LOCATION.KEYS.CURRENT_FOLDER,E=f||s?(0,p.t)("search.filterDropdown.folders.currentFolder"):(0,p.t)("search.filterDropdown.folders.currentFolderWithName",{folderName:c});return i.createElement(ho.Z,null,i.createElement(Eo.Z,{onClick:d,selected:f,disabled:s},i.createElement(Eo.Z.Selection,{actionType:vo.P.SINGLE_SELECT,name:"folderFilter",onChange:d}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,E))),f&&o&&i.createElement(se.Z,{tooltip:o,placement:"right"},i.createElement("div",{className:"mgvdFdkE01pC8WJ1S2Kl Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},i.createElement(Le.Z,{icon:Er.P9,size:Le.Z.sizes.M}),i.createElement("span",null,c))),i.createElement(Eo.Z,{onClick:m,selected:u===Hn.Z.LOCATION.KEYS.ALL_FOLDERS},i.createElement(Eo.Z.Selection,{actionType:vo.P.SINGLE_SELECT,name:"folderFilter",onChange:m}),i.createElement(Eo.Z.Content,null,i.createElement(Eo.Z.Label,null,(0,p.t)("search.filterDropdown.folders.allFolders")))))},xo=n(709117),Bo=n(330759),zo=n(444840),Ho=n(307179),Go="J6olkITp7yhbm2x4GiZ4",Ko="bgsFA1KEznz3MKvQyr2y",qo="Aqf9y7zpUBLj_urWqW2J Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",Wo=function(e){var t=e.onSelect,n=e.query,a=e.staticOptions,r=e.selectedValue,o=n.trim(),l=(0,xo.Z)(U.Z.SUGGESTER,{query:o,queryUsers:!0,queryGroups:!1},2),c=l.data,s=void 0===c?[]:c,u=l.isLoading,d=(0,i.useMemo)((function(){return s.filter((function(e){var t;return"group"!==(null==e||null===(t=e.value)||void 0===t?void 0:t.type)}))}),[s]),m=a.some((function(e){return e.value===r})),f=d.some((function(e){return(0,Ho.RX)(e.value)===r}));return i.createElement("div",null,i.createElement("ul",{className:"kwSnBg_aGHFpFug2P3OV"},a.map((function(e){var n="inlineUser-static-".concat(e.id);return i.createElement("li",{key:"static-".concat(e.id),className:Go},i.createElement(Bo.Z,{id:n,size:Bo.Z.SIZES.S,checked:r===e.value,onChange:function(){return t(e.value)},label:""}),i.createElement("label",{htmlFor:n,className:Ko},i.createElement("span",{className:qo},e.label)))})),!m&&!!r&&!f&&i.createElement("li",{className:Go},i.createElement(Bo.Z,{id:"inlineUser-selected",size:Bo.Z.SIZES.S,checked:!0,onChange:function(){return t(r)},label:""}),i.createElement("label",{htmlFor:"inlineUser-selected",className:Ko},i.createElement("span",{className:qo},r))),u&&i.createElement("li",{className:"P92VecgcrUeR7XBEs2_n"},i.createElement(sn.Z,null)),d.map((function(e){var n="inlineUser-user-".concat(e.value.id),a=(0,Ho.RX)(e.value);return i.createElement("li",{key:e.value.id,className:Go},i.createElement(Bo.Z,{id:n,size:Bo.Z.SIZES.S,checked:r===a,onChange:function(){return t(a)},label:""}),i.createElement("label",{htmlFor:n,className:Ko},i.createElement(zo.Z,{size:zo.Z.SMALL,user:e.value,className:"WJeQ4A6Wpkd6UItzGg9e"}),i.createElement("span",{className:qo},e.label)))}))))},Xo=function(e){var t=e.value,n=e.onChange,a=(0,i.useState)(""),o=(0,r.Z)(a,2),l=o[0],c=o[1],s=Yt.Z.getShortName(),u=Hn.Z.USERNAME.KEYS.ANY,d=(0,i.useMemo)((function(){return[{id:"anyone",label:(0,p.t)("search.filters.username.any"),value:u},{id:"me",label:(0,p.t)("search.filters.username.me"),value:s}]}),[u,s]);return i.createElement(ho.Z,null,i.createElement("div",{className:"csresjB9fSMcfVpP7rM_"},i.createElement($a.Z,{value:l,placeholder:(0,p.t)("search.userserachPlaceholder"),onChange:function(e){return c(e.target.value)},onClear:function(){return c("")}})),i.createElement("div",null,i.createElement(Wo,{query:l,staticOptions:d,selectedValue:t,onSelect:function(e){return n(e||u)}})))},Jo=function(){var e,t=(0,i.useState)(!1),n=(0,r.Z)(t,2),a=n[0],o=n[1],c=(0,i.useRef)(null),s=(e=(0,w.Z)("geoLocationSearchEnabled"),[{id:Lr.Folder,label:(0,p.t)("search.filterDropdown.sections.folder")},{id:Lr.Content,label:(0,p.t)("search.filterDropdown.sections.content")},{id:Lr.FileType,label:(0,p.t)("search.filterDropdown.sections.fileType")},{id:Lr.Modified,label:(0,p.t)("search.filterDropdown.sections.modified")},{id:Lr.Uploaded,label:(0,p.t)("search.filterDropdown.sections.uploaded")},{id:Lr.UpdatedBy,label:(0,p.t)("search.filterDropdown.sections.updatedBy")}].concat((0,l.Z)(e?[{id:Lr.Geolocation,label:(0,p.t)("search.filterDropdown.sections.geolocation")}]:[]))),u=(0,i.useState)(s[2].id),d=(0,r.Z)(u,2),m=d[0],f=d[1],E=function(e){var t=v.ZP.getFilters(),n=(0,i.useState)(Gr(t).selectedId),a=(0,r.Z)(n,2),o=a[0],l=a[1],c=(0,i.useState)(Kr(t).selectedId),s=(0,r.Z)(c,2),u=s[0],d=s[1],m=(0,i.useState)((Q=t,qr(Q))),f=(0,r.Z)(m,2),p=f[0],E=f[1],h=(0,i.useState)(function(e){return Xr(e)}(t)),y=(0,r.Z)(h,2),g=y[0],Z=y[1],b=(0,i.useState)(function(e){return Wr(e)}(v.ZP.getGeoLocation())),C=(0,r.Z)(b,2),O=C[0],S=C[1],N=(0,i.useState)(""),P=(0,r.Z)(N,2),T=P[0],A=P[1],D=(0,i.useState)(function(e){return Jr(e)}(t)),w=(0,r.Z)(D,2),M=w[0],k=w[1],I=(0,i.useState)((function(){return Gr(t).range})),L=(0,r.Z)(I,2),R=L[0],F=L[1],j=(0,i.useState)((function(){return Kr(t).range})),_=(0,r.Z)(j,2),V=_[0],U=_[1];var Q;return(0,i.useEffect)((function(){if(!e){var t=v.ZP.getFilters(),n=Gr(t);l(n.selectedId),F(n.range);var a=Kr(t);d(a.selectedId),U(a.range),E(qr(t));var r=v.ZP.getGeoLocation();S(Wr(r)),Z(Xr(t)),k(Jr(t))}}),[e]),{uploadedSelectedId:o,setUploadedSelectedId:l,modifiedSelectedId:u,setModifiedSelectedId:d,selectedFileType:p,setSelectedFileType:E,selectedFolder:g,setSelectedFolder:Z,geoLocation:O,setGeoLocation:S,locationSearchQuery:T,setLocationSearchQuery:A,selectedUsername:M,setSelectedUsername:k,customDateRange:R,setCustomDateRange:F,modifiedCustomDateRange:V,setModifiedCustomDateRange:U,handleReset:function(){var e=v.ZP.getFilters(),t=Gr(e);l(t.selectedId),F(t.range);var n=Kr(e);d(n.selectedId),U(n.range),E(qr(e));var a=v.ZP.getGeoLocation();S(Wr(a)),Z(Xr(e)),k(Jr(e)),A("")},resetUploadedToUrlState:function(){var e=v.ZP.getFilters(),t=Gr(e);l(t.selectedId),F(t.range)},resetModifiedToUrlState:function(){var e=v.ZP.getFilters(),t=Kr(e);d(t.selectedId),U(t.range)},resetFileTypeToUrlState:function(){var e=v.ZP.getFilters();E(qr(e))},resetFolderToUrlState:function(){var e=v.ZP.getFilters();Z(Xr(e))},resetUpdatedByToUrlState:function(){var e=v.ZP.getFilters();k(Jr(e))},resetToDefaultState:function(){l(Yr.ANY),F({}),d(Yr.ANY),U({}),E(Fr),S({radius:50}),Z(Hn.Z.LOCATION.KEYS.ALL_FOLDERS),k(""),A("")}}}(a),h=function(e){var t=(0,i.useState)(to),n=(0,r.Z)(t,2),a=n[0],o=n[1];(0,i.useEffect)((function(){e&&o(to())}),[e]);var l=(0,i.useCallback)((function(){o({files:{checked:!0,subTypes:{fileName:!0,fileContent:!0,fileComments:!0}},folders:{checked:!0,subTypes:{folderName:!0,folderDescription:!0}}})}),[]);return{contentSelection:a,setContentSelection:o,resetContentToDefaultState:l}}(a),y=h.contentSelection,g=h.setContentSelection,Z=h.resetContentToDefaultState,b=(0,Ir.Z)(E.locationSearchQuery).data,C=(null==b?void 0:b.data)||[],O=function(e,t){var n=e.setIsOpen,a=e.setUploadedSelectedId,r=e.setModifiedSelectedId,o=e.setSelectedFileType,l=e.setSelectedFolder,c=e.setGeoLocation,s=e.setLocationSearchQuery,u=e.setCustomDateRange,d=e.setModifiedCustomDateRange,m=e.setSelectedUsername,f=e.setSelectedSectionId,p=e.resetFilters,E=t.contentSelection,v=t.uploadedSelectedId,h=t.modifiedSelectedId,y=t.selectedFileType,g=t.selectedFolder,Z=t.geoLocation,b=t.selectedUsername,C=t.customDateRange,O=t.modifiedCustomDateRange,S=(0,i.useCallback)((function(){n((function(e){return!e}))}),[n]),N=(0,i.useCallback)((function(e){f&&f(e)}),[f]),P=(0,i.useCallback)((function(){p&&p()}),[p]),T=(0,i.useCallback)((function(){n(!1)}),[n]),A=(0,i.useCallback)((function(){ro(v,C),oo(h,O),lo(y),co(g),io(Z),so(b),no(E),n(!1)}),[E,v,h,y,g,Z,b,C,O,n]),D=(0,i.useCallback)((function(e){a(e),e!==Yr.CUSTOM&&u({})}),[a,u]),w=(0,i.useCallback)((function(e){r(e),e!==Yr.CUSTOM&&d({})}),[r,d]),M=(0,i.useCallback)((function(e){o(e)}),[o]),k=(0,i.useCallback)((function(e){l(e)}),[l]),I=(0,i.useCallback)((function(e){m(e)}),[m]),L=(0,i.useCallback)((function(e,t){e&&t&&u({start:e.getTime(),end:t.getTime()})}),[u]),R=(0,i.useCallback)((function(e,t){e&&t&&d({start:e.getTime(),end:t.getTime()})}),[d]),F=(0,i.useCallback)((function(e){c((function(t){return mo(mo({},t),{},{latitude:e.latitude,longitude:e.longitude,streetAddress:e.label})}))}),[c]),j=(0,i.useCallback)((function(e){var t=Math.log10(10),n=Math.log10(Rr),a=t+Number(e.target.value)/100*(n-t),r=Math.round(Math.pow(10,a));c((function(e){return mo(mo({},e),{},{radius:r})}))}),[c]),_=(0,i.useCallback)((function(){c({radius:50}),s("")}),[c,s]),V=(0,i.useCallback)((function(e){return function(){T(),e(!1)}}),[T]),U=(0,i.useCallback)((function(e){return function(){A(),e(!1)}}),[A]),Q=(0,i.useCallback)((function(){return function(){p&&p(),ro(Yr.ANY,{}),oo(Yr.ANY,{}),lo(Fr),co(""),io({}),so(""),no({files:{checked:!0,subTypes:{fileName:!0,fileContent:!0,fileComments:!0}},folders:{checked:!0,subTypes:{folderName:!0,folderDescription:!0}}})}}),[p]);return{handleToggle:S,handleSectionSelect:N,handleReset:P,handleCancel:T,handleApply:A,handleUploadedOptionChange:D,handleModifiedOptionChange:w,handleFileTypeOptionChange:M,handleFolderOptionChange:k,handleUpdatedByChange:I,handleCustomDateChange:L,handleModifiedCustomDateChange:R,handleGeoLocationChange:F,handleRadiusChange:j,clearGeoLocation:_,createCancelHandler:V,createApplyHandler:U,createResetAndApplyHandler:Q}}({setIsOpen:o,setUploadedSelectedId:E.setUploadedSelectedId,setModifiedSelectedId:E.setModifiedSelectedId,setSelectedFileType:E.setSelectedFileType,setSelectedFolder:E.setSelectedFolder,setGeoLocation:E.setGeoLocation,setLocationSearchQuery:E.setLocationSearchQuery,setCustomDateRange:E.setCustomDateRange,setModifiedCustomDateRange:E.setModifiedCustomDateRange,setSelectedUsername:E.setSelectedUsername,setSelectedSectionId:f,resetFilters:function(){E.resetToDefaultState(),Z()}},{selectedSectionId:m,contentSelection:y,uploadedSelectedId:E.uploadedSelectedId,modifiedSelectedId:E.modifiedSelectedId,selectedFileType:E.selectedFileType,selectedFolder:E.selectedFolder,geoLocation:E.geoLocation,selectedUsername:E.selectedUsername,customDateRange:E.customDateRange,modifiedCustomDateRange:E.modifiedCustomDateRange}),S=!(E.uploadedSelectedId!==Yr.CUSTOM||E.customDateRange.start&&E.customDateRange.end),N=!(E.modifiedSelectedId!==Yr.CUSTOM||E.modifiedCustomDateRange.start&&E.modifiedCustomDateRange.end),P=S||N,T=fo().filter((function(e){return e.hasActiveFilter()})).length,A=fo().filter((function(e){return e.hasActiveFilter()})).map((function(e){return e.sectionId}));return i.createElement(Qn.Z,{isOpen:a,onToggle:O.handleToggle,closeMenuOnClick:!1,maxSizeEnabled:!1,trigger:i.createElement(le.Z,{ref:c,className:"wZ35KKnSgSI0xumiU25a C7HhvVmv8inrSQjb607z","data-tid":"filter-dropdown-trigger",type:le.Z.ACTION},i.createElement(le.Z.Icon,{icon:xa.N}),i.createElement("span",{className:"I8l82smrgaNbdYuuesAD"},(0,p.t)("search.filterDropdown.button.filters")),T>0&&i.createElement("span",{className:"vQHGsBZx1y2keq0rI05a Dg2OIrnHKNM3xFc44tYJ"},T),i.createElement(Le.Z,{icon:Re.Dd,size:Le.Z.sizes.S,className:"R4YUaH9WRrQuRfPAlWr8"}))},(function(e){return i.createElement("div",{className:"".concat("lGEjc6zNjtmb15_qtaL4"," ").concat("jefCtqT9rRoy6i4aNGnw"," filter-drawer-container"),"data-tid":"filter-drawer-container"},i.createElement(wr.Z,null,i.createElement(wr.Z.Sidebar,null,i.createElement(Mr.Z,{sections:s,selectedSectionId:m,sectionsWithActiveFilters:A,onSectionSelect:O.handleSectionSelect})),i.createElement(wr.Z.Content,null,i.createElement(wr.Z.Panel,null,function(){switch(m){case Lr.Content:return i.createElement(Qo,{selectedContent:y,onContentChange:g,onReset:Z});case Lr.Uploaded:return i.createElement(go,{selectedId:E.uploadedSelectedId,customDateRange:E.customDateRange,options:Br(),onOptionChange:O.handleUploadedOptionChange,onCustomDateChange:O.handleCustomDateChange,filterType:Lr.Uploaded,onReset:E.resetUploadedToUrlState});case Lr.Modified:return i.createElement(go,{selectedId:E.modifiedSelectedId,customDateRange:E.modifiedCustomDateRange,options:zr(),onOptionChange:O.handleModifiedOptionChange,onCustomDateChange:O.handleModifiedCustomDateChange,filterType:Lr.Modified,onReset:E.resetModifiedToUrlState});case Lr.FileType:return i.createElement(Zo,{selectedFileType:E.selectedFileType,onFileTypeOptionChange:O.handleFileTypeOptionChange,onReset:E.resetFileTypeToUrlState});case Lr.Folder:return i.createElement(Yo,{selectedOption:E.selectedFolder,onFolderOptionChange:O.handleFolderOptionChange});case Lr.UpdatedBy:return i.createElement(Xo,{value:E.selectedUsername,onChange:O.handleUpdatedByChange});case Lr.Geolocation:return i.createElement(Po,{geoLocation:E.geoLocation,locationData:C,onGeoLocationChange:O.handleGeoLocationChange,onRadiusChange:O.handleRadiusChange,onLocationSearchQueryChange:E.setLocationSearchQuery,onClearGeoLocation:O.clearGeoLocation});default:return null}}()),i.createElement(wr.Z.Footer,null,i.createElement(kr.Z,null,i.createElement(kr.Z.Reset,null,i.createElement(le.Z,{type:le.Z.ACTION,onClick:O.createResetAndApplyHandler(),"data-tid":"filter-reset-button"},i.createElement(le.Z.Icon,{icon:Dr.b}),(0,p.t)("search.filterDropdown.actions.resetAll"))),i.createElement(kr.Z.Actions,null,i.createElement(le.Z,{type:le.Z.SECONDARY,onClick:O.createCancelHandler(e.toggleDropdown),"data-tid":"filter-cancel-button"},(0,p.t)("search.filterDropdown.actions.cancel")),i.createElement(le.Z,{onClick:O.createApplyHandler(e.toggleDropdown),disabled:P,"data-tid":"filter-apply-button"},(0,p.t)("search.filterDropdown.actions.apply"))))))))}))},$o=function(e){var t=e.className,n=(0,ie.aP)(),a=(0,ie.KR)(),r=(0,i.useMemo)((function(){return a.reduce((function(e,t){return n.find((function(e){return e.name===t.namespace}))?e+1:e}),0)}),[n,a]),o=(0,i.useCallback)((function(){return ie.ZP.isMetadataSearchVisible()?ie.ZP.expandAllMetadataCriterias():ie.ZP.showMetadataSearch()}),[]);return i.createElement(le.Z,{className:"".concat("ZOaO8DNcBowYud51MqG1 C7HhvVmv8inrSQjb607z"," ").concat(t||""),onClick:o,"data-tid":"metadata-dropdown-trigger",type:le.Z.ACTION},i.createElement(le.Z.Icon,{icon:Fn.F}),i.createElement("span",{className:"sCdm6zl76OPTnAuOAvYm C7HhvVmv8inrSQjb607z"},(0,p.t)("search.searchHistory.metadataSearch")),r>0&&i.createElement("span",{className:"s0Z1pASOgx6FNRlEDCPn"},r))},el=n(356123),tl=n(760866),nl=(0,p.nD)("search");function al(e){var t=e.currentFilters[Hn.Z.LOCATION.NAME];if(!t)return null;var n=("string"==typeof t?(0,zn.EZ)(t):"")||nl("filterDropdown.folders.currentFolder");return{label:nl("filterDropdown.sections.folder"),options:[{label:n}],onRemoveAll:function(){v.ZP.onFilterChange(Hn.Z.LOCATION.NAME,"")},onRemoveSingle:function(){v.ZP.onFilterChange(Hn.Z.LOCATION.NAME,"")}}}function rl(e){var t,n,a=e.currentFilters[Hn.Z.TYPE.NAME],o=ie.ZP.getContentParams(),l=null==o?void 0:o.fileQuery,i=null==o?void 0:o.folderQuery,c=null===(t=null==l?void 0:l.all)||void 0===t||t,s=null===(n=null==i?void 0:i.all)||void 0===n||n,u=!!a&&a!==Hn.Z.TYPE.KEYS.ALL;if(!u&&c&&s)return null;var d=[];if(u){var m=a===Hn.Z.TYPE.KEYS.FILES?nl("filters.type.files"):nl("filters.type.folders");d.push({label:m,value:"type"})}if(!c&&null!=l&&l.selected){var f=Object.entries(l.selected).filter((function(e){return!!(0,r.Z)(e,2)[1]})).map((function(e){return(0,r.Z)(e,1)[0]})).map((function(e){return e===jr?nl("filterDropdown.content.fileName"):e===_r?nl("filterDropdown.content.fileContent"):e===Vr?nl("filterDropdown.content.fileComments"):""})).filter((function(e){return!!e})).join(", ");f&&d.push({label:nl("savedSearches.savedSearchToolTip.fileQueryFields.fileAttributes",{attribute:f}),value:"fileQueryFields"})}if(!s&&null!=i&&i.selected){var p=Object.entries(i.selected).filter((function(e){return!!(0,r.Z)(e,2)[1]})).map((function(e){return(0,r.Z)(e,1)[0]})).map((function(e){return e===Ur?nl("filterDropdown.content.folderName"):e===Qr?nl("filterDropdown.content.folderDescription"):""})).filter((function(e){return!!e})).join(", ");p&&d.push({label:nl("savedSearches.savedSearchToolTip.folderQueryFields.folderAttributes",{attribute:p}),value:"folderQueryFields"})}return{label:nl("filterDropdown.sections.content"),options:d,onRemoveAll:function(){ie.ZP.setContentParamsFileQueryAll(!0),ie.ZP.setContentParamsFolderQueryAll(!0),ie.ZP.setContentParamsFileQuerySelected([{key:jr,value:!0},{key:_r,value:!0},{key:Vr,value:!0}]),ie.ZP.setContentParamsFolderQuerySelected([{key:Ur,value:!0},{key:Qr,value:!0}]),v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.ALL)},onRemoveSingle:function(e){if("type"!==e.value)return"fileQueryFields"===e.value?(ie.ZP.setContentParamsFileQueryAll(!0),ie.ZP.setContentParamsFileQuerySelected([{key:jr,value:!0},{key:_r,value:!0},{key:Vr,value:!0}]),void v.ZP.onFilterChange(null,null)):void("folderQueryFields"===e.value&&(ie.ZP.setContentParamsFolderQueryAll(!0),ie.ZP.setContentParamsFolderQuerySelected([{key:Ur,value:!0},{key:Qr,value:!0}]),v.ZP.onFilterChange(null,null)));v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.ALL)}}}function ol(e){var t=e.currentFilters[Hn.Z.EXTENSION_CATEGORY.NAME];if(!t||""===t)return null;var n=Hr(),a=n.filter((function(e){return e.id!==Fr})).map((function(e){return e.id})),r=(Array.isArray(t)?t:[t]).filter((function(e){return e!==Fr}));if(r.length>=a.length&&a.every((function(e){return r.includes(e)})))return null;var o=r.map((function(e){return n.find((function(t){return t.id===e}))})).filter((function(e){return void 0!==e})).map((function(e){return{label:e.label,value:e.id}}));return 0===o.length?null:{label:nl("filterDropdown.sections.fileType"),options:o,onRemoveAll:function(){v.ZP.onFilterChange(Hn.Z.EXTENSION_CATEGORY.NAME,""),v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.ALL)},onRemoveSingle:function(e){var t=r.filter((function(t){return t!==e.value}));0===t.length?(v.ZP.onFilterChange(Hn.Z.EXTENSION_CATEGORY.NAME,""),v.ZP.onFilterChange(Hn.Z.TYPE.NAME,Hn.Z.TYPE.KEYS.ALL)):v.ZP.onFilterChange(Hn.Z.EXTENSION_CATEGORY.NAME,1===t.length?t[0]:t)}}}function ll(e){var t=e.currentFilters,n=t[Hn.Z.UPLOAD_TIME.NAME],a=t[Hn.Z.UPLOAD_TIME.CREATED_AFTER],r=t[Hn.Z.UPLOAD_TIME.CREATED_BEFORE];if(!(n&&n!==Yr.ANY||a||r))return null;var o="";if(n&&n!==Yr.ANY){var l=Br().find((function(e){return e.id===n}));l&&(o=l.label)}else a&&r&&(o=nl("filterDropdown.timeOptions.custom"));return o?{label:nl("filterDropdown.sections.uploaded"),options:[{label:o}],onRemoveAll:function(){v.ZP.onFilterChange(Hn.Z.UPLOAD_TIME.NAME,""),v.ZP.onFilterChange(Hn.Z.UPLOAD_TIME.CREATED_AFTER,""),v.ZP.onFilterChange(Hn.Z.UPLOAD_TIME.CREATED_BEFORE,"")},onRemoveSingle:function(){v.ZP.onFilterChange(Hn.Z.UPLOAD_TIME.NAME,""),v.ZP.onFilterChange(Hn.Z.UPLOAD_TIME.CREATED_AFTER,""),v.ZP.onFilterChange(Hn.Z.UPLOAD_TIME.CREATED_BEFORE,"")}}:null}function il(e){var t=e.currentFilters,n=t[Hn.Z.MODIFIED_TIME.NAME],a=t[Hn.Z.MODIFIED_TIME.MODIFIED_AFTER],r=t[Hn.Z.MODIFIED_TIME.MODIFIED_BEFORE];if(!(n&&n!==Yr.ANY||a||r))return null;var o="";if(n&&n!==Yr.ANY){var l=zr().find((function(e){return e.id===n}));l&&(o=l.label)}else a&&r&&(o=nl("filterDropdown.timeOptions.custom"));return o?{label:nl("filterDropdown.sections.modified"),options:[{label:o}],onRemoveAll:function(){v.ZP.onFilterChange(Hn.Z.MODIFIED_TIME.NAME,""),v.ZP.onFilterChange(Hn.Z.MODIFIED_TIME.MODIFIED_AFTER,""),v.ZP.onFilterChange(Hn.Z.MODIFIED_TIME.MODIFIED_BEFORE,"")},onRemoveSingle:function(){v.ZP.onFilterChange(Hn.Z.MODIFIED_TIME.NAME,""),v.ZP.onFilterChange(Hn.Z.MODIFIED_TIME.MODIFIED_AFTER,""),v.ZP.onFilterChange(Hn.Z.MODIFIED_TIME.MODIFIED_BEFORE,"")}}:null}function cl(){var e=v.ZP.getGeoLocation();if(!e||0===Object.keys(e).length)return null;var t=e.streetAddress||"".concat(e.latitude,", ").concat(e.longitude);return{label:nl("filterDropdown.sections.geolocation"),options:[{label:t}],onRemoveAll:function(){v.ZP.updateGeoLocation({})},onRemoveSingle:function(){v.ZP.updateGeoLocation({})}}}function sl(e){var t=e.currentFilters[Hn.Z.USERNAME.NAME];if(!t)return null;var n=t===Yt.Z.getShortName()?nl("filters.username.me"):t;return{label:nl("filterDropdown.sections.updatedBy"),options:[{label:n}],onRemoveAll:function(){v.ZP.onFilterChange(Hn.Z.USERNAME.NAME,"")},onRemoveSingle:function(){v.ZP.onFilterChange(Hn.Z.USERNAME.NAME,"")}}}var ul=(0,p.nD)("search");function dl(){var e=v.ZP.getFilters(),t=(0,i.useMemo)((function(){return function(e){var t=e.currentFilters,n=[];return[al,rl,ol,ll,il,cl,sl].forEach((function(e){var a=e({currentFilters:t});a&&n.push(a)})),n}({currentFilters:e})}),[e]),n=(0,i.useMemo)((function(){var t=e[Hn.Z.LOCATION.NAME];return"string"==typeof t&&t?t:""}),[e]),a=(0,i.useCallback)((function(){t.forEach((function(e){return e.onRemoveAll()}))}),[t]);return 0===t.length?i.createElement("span",{className:"cvArkMjZQZ0rZLlu2MkA vlpHvsjgdbzjuadKPQ3e C7HhvVmv8inrSQjb607z cMD1Ln5gNqHc7P7v_G_6"},ul("filterDropdown.content.noFilterApplied")):i.createElement("div",{className:"yji4lxyu1nHPVG8mbPXT"},i.createElement("div",{className:"FN6vWZDjiLfth9dUTHtt"},i.createElement(el.Z,{renderViewMoreText:function(e){var t=e.count;return ul("filterDropdown.buttons.showMore",{count:t})},viewLessText:ul("filterDropdown.buttons.showLess")},t.map((function(e){return e.label===ul("filterDropdown.sections.folder")&&n?i.createElement(se.Z,{key:e.label,tooltip:n,className:"pdcmzzqfOAyKewNsLVuD"},i.createElement("div",{className:"KjxVkkZIy1pKOm4a_vgq"},i.createElement(tl.Z,{label:e.label,options:e.options,removeIconAriaLabelInBadge:ul("buttons.remove"),removeIconAriaLabelInTooltip:ul("buttons.remove"),renderOptionsCountText:function(e){var t=e.count;return"+".concat(t)},onRemoveAll:e.onRemoveAll,onRemoveSingle:e.onRemoveSingle}))):i.createElement(tl.Z,{key:e.label,label:e.label,options:e.options,removeIconAriaLabelInBadge:ul("buttons.remove"),removeIconAriaLabelInTooltip:ul("buttons.remove"),renderOptionsCountText:function(e){var t=e.count;return"+".concat(t)},onRemoveAll:e.onRemoveAll,onRemoveSingle:e.onRemoveSingle})})))),i.createElement("div",{className:"b0Ttx6cBk5pFovtSkiAo"},i.createElement(le.Z,{type:le.Z.TERTIARY,onClick:a,"data-tid":"selected-filters-reset-all"},i.createElement(le.Z.Icon,{icon:Dr.b}),ul("filterDropdown.actions.resetAll"))))}function ml(e){var t=e.showAdvancedSearch,n=e.selectedItemFromUrl;return i.createElement("div",{className:"ZpqRv_0s7QDcNlIdlXMl"},i.createElement(Jo,null),t&&!n&&i.createElement($o,null),i.createElement("div",{role:"separator",className:"Oc2YP0d_HKQOWOfUxkmH"}),i.createElement(dl,null))}var fl=n(141797),pl=n(379828);function El(e){var t=e.namespaces,n=e.closeMetadataSearch,a=e.canAddNewMetadataCriteria,o=e.searchState,l=(0,ie.KR)(),c=(0,i.useState)(!1),s=(0,r.Z)(c,2),u=s[0],d=s[1],m=(0,i.useMemo)((function(){return l.length>0&&(!ce.Z.isEmptyCriteria(l[0])||!ce.Z.areFormFieldsEmpty(l[0]))}),[l]),f=(0,i.useMemo)((function(){return 0===l.length||l.length>=1&&(l.every((function(e){return ce.Z.isEmptyCriteria(e)}))||l.every((function(e){return ce.Z.areFormFieldsEmpty(null==e?void 0:e.fields)})))}),[l]),E=(0,i.useCallback)((function(){o.collapseAllMetadataCriterias();var e=v.ZP.getMetadataParams();if(e){var t=ce.Z.generateMetadataCriteria(e,o);o.showMetadataSearch(t)}else o.closeMetadataSearch()}),[o]),h=(0,i.useCallback)((function(){v.ZP.performSearchWithMetadata()}),[]);return i.createElement(fl.Z,{isOpen:!0,isScrollable:!0,size:fl.Z.sizes.XL,queryAppElement:ma.Z},i.createElement(fl.Z.Header,null,i.createElement(fl.Z.Title,null,(0,p.t)("search.metadata.modal.title"))),i.createElement(fl.Z.Body,null,i.createElement("div",{className:"FDV6h39jNuB8SJG8O4Ut undefined"},(0,p.t)("search.metadata.modal.subHeading")),i.createElement("div",{"data-pendoid":de.e.SEARCH.METADATA.CONTAINER},i.createElement(Ot,{namespaces:t,canAddNewMetadataCriteria:a,closeMetadataSearch:n}))),i.createElement(fl.Z.Footer,null,i.createElement("div",{className:"qaxfDUjhxALWpcjaRI9c"},i.createElement("div",null,m&&i.createElement(le.Z,{onClick:function(){n(),d(!0)},type:le.Z.SECONDARY,"data-pendoid":de.e.SEARCH.METADATA.CLEAR_ALL},i.createElement(le.Z.Icon,{icon:pl.H}),(0,p.t)("search.metadata.modal.clearAll"))),i.createElement("div",null,i.createElement(le.Z,{onClick:E,type:le.Z.SECONDARY,"data-pendoid":de.e.SEARCH.METADATA.CANCEL},(0,p.t)("search.metadata.modal.cancel")),i.createElement(le.Z,{onClick:h,disabled:f&&!u,"data-pendoid":de.e.SEARCH.METADATA.APPLY},(0,p.t)("search.metadata.modal.apply"))))))}var vl=n(567421),hl=n(812493),yl=n(310307),gl=n(848538),Zl=n(932656),bl="THUMBS_UP",Cl="THUMBS_DOWN";function Ol(e,t){A.Z.track("".concat("AiSummaryOverview:"," ").concat(e),t)}var Sl=n(579099),Nl=n(962045),Pl=n(369889),Tl=(0,p.nD)("button.label"),Al=function(e){var t=e.name,n=e.path,a=e.thumbnailUrl,o=e.id,l=(0,i.useState)(!1),c=(0,r.Z)(l,2),s=c[0],u=c[1],d=(0,i.useCallback)((function(){return u(!0)}),[]),m=(0,i.useCallback)((function(){return u(!1)}),[]),p=(0,i.useCallback)((function(){(0,Nl.NC)({path:n,id:o},{panelToOpen:Pl.ZP.PANELS.ASK})}),[o,n]),E=(0,i.useCallback)((function(e){e.key!==Te.U.ENTER&&" "!==e.key||(e.preventDefault(),p())}),[p]);return i.createElement("div",{className:"kN7_ODIgeQwWsXc2WT0q",role:"button",tabIndex:0,onMouseEnter:d,onMouseLeave:m,onClick:p,onKeyDown:E},i.createElement("div",{className:"RLSFZiU5S9kAY8cypdbW"},i.createElement(Sl.Z,{type:Sl.Z.types.FILE,name:t,thumbnailUrl:a,className:"cd6J5UjKGi67toAMZNIT"})),i.createElement("div",{className:"SnUFMMn3oeWBkIjqGfhv"},i.createElement("div",{className:"XIB6IGx6kyKhV3XMs08x eugzcnL4uVMlgbRkfTqa"},i.createElement(qe.Z,null,t)),i.createElement("div",{className:"A0KzNQfVv70WP3hJZSgw vlpHvsjgdbzjuadKPQ3e C7HhvVmv8inrSQjb607z cMD1Ln5gNqHc7P7v_G_6"},i.createElement(qe.Z,null,n))),s&&i.createElement("div",{className:f()("nAO3e1IrxEiFiLrlfH2W","AK5V2aXB8j8ZqmDGLEsB"),"data-testid":"ai-ask"},i.createElement(st.Z,{icon:vl.w2,"aria-label":Tl("ask")}),i.createElement("div",null,Tl("ask"))))},Dl=n(532144),wl=n(809981),Ml=n(511388),kl=n(135344),Il=n(285106),Ll=(0,p.nD)("search.AISearchSuggestion"),Rl=(0,p.nD)("button.label"),Fl=function(e){var t=e.question,n=e.searchId,a=e.markDownElement,l=(0,i.useState)(!1),c=(0,r.Z)(l,2),s=c[0],u=c[1],d=(0,i.useState)(),m=(0,r.Z)(d,2),p=m[0],E=m[1],v=(0,i.useState)(null),h=(0,r.Z)(v,2),y=h[0],g=h[1],Z=(0,i.useState)(""),b=(0,r.Z)(Z,2),C=b[0],O=b[1],S=(0,Il.Z)().copyFormattedText,N=(0,yl.r)(),P=N.mutate,T=N.isLoading,A=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Ol("user feedback ",{reaction:e?bl:Cl,comments:a}),P({searchId:n,query:t,reaction:e,comments:a.trim(),rating:0,referrer:"search-results"},{onSuccess:function(){""!==a&&(0,M.c0)(M.em.success,Ll("feedbackSubmitted"))}})},D=function(e,t){E(e.currentTarget),g(t),t?A(!0):u(!0)},w=function(){u(!1),A(!1,C),O("")};return i.createElement(i.Fragment,null,i.createElement("div",{className:"gmq73OHpvuh0U9cDcpE_"},i.createElement(se.Z,{tooltip:Ll("copyText")},i.createElement(st.Z,{icon:wl.O,onClick:function(){a&&(S(a),(0,M.c0)(M.em.success,Ll("copiedToClipboard")))},"aria-label":Rl("copyToClipboard"),"data-pendoid":"search-aioverview-copy-btn"})),i.createElement(se.Z,{tooltip:Ll("helpful")},i.createElement(st.Z,{icon:Ml.I,onClick:function(e){return D(e,!0)},className:f()((0,o.Z)({},"u3cDzmHd3Vl5y2SaOA4A",y)),"aria-label":Rl("thumbsUp"),"data-pendoid":"search-aioverview-thumbsup-btn"})),i.createElement(se.Z,{tooltip:Ll("notHelpful")},i.createElement(st.Z,{icon:Ml.u,onClick:function(e){return D(e,!1)},className:f()((0,o.Z)({},"cYcNeFNO0d3rlMzeWHMO",!1===y)),"aria-label":Rl("thumbsDown"),"data-pendoid":"search-aioverview-thumbsdown-btn"}))),s&&i.createElement(Dl.Z,{referenceElement:p,onClose:w,popperOptions:{placement:"bottom-end",strategy:"fixed"},zIndex:9999},i.createElement(Dl.Z.Card,null,i.createElement(Dl.Z.Header,null,Ll("shareFeedback")),i.createElement(Dl.Z.Body,null,i.createElement("div",{className:"oPPk9A7_2SlxOkuLzuhQ","data-pendoid":"search-aioverview-feedback-dialog"},i.createElement("p",{className:"CIoiKdLlsVmVSIPsKT1W"},Ll("feedbackDescription")),i.createElement(kl.Z,{className:"kOKmde6ypDT3oKZlFn65",value:C,onChange:function(e){return O(e.target.value)}}))),i.createElement(Dl.Z.Footer,null,i.createElement("div",{className:"tgJx3mY8WeMDjgPpb_vM"},i.createElement(le.Z,{type:le.Z.SECONDARY,onClick:w,"data-pendoid":"search-aioverview-feedback-cancel-btn"},Rl("cancel")),i.createElement(le.Z,{onClick:w,disabled:!C.trim()||T,"data-pendoid":"search-aioverview-feedback-submit-btn"},Rl(T?"submitting":"submit")))))))},jl="ehT2XCJvXlLuPSDswblA",_l="fEzSlnVhQIB_hIxmm9kF",Vl="brk1fK6pbfWhrzgeyGVN",Ul="oRtJTuHgKzWex86wnBxz vlpHvsjgdbzjuadKPQ3e C7HhvVmv8inrSQjb607z cMD1Ln5gNqHc7P7v_G_6",Ql="w0qKzcli5ypr7KJGtNRp",Yl="zZAQzYafyf3jighT5RTd",xl=(0,p.nD)("search.AISearchSuggestion");function Bl(e){var t=e.count,n=void 0===t?1:t;return i.createElement(i.Fragment,null,Array.from({length:n}).map((function(e,t){return i.createElement("div",{key:t,className:"hsMNGdyZ3tmyXp0VojdZ"},i.createElement("div",null,i.createElement(hl.Z,{circle:!0,width:30,height:30})),i.createElement("div",null,i.createElement(hl.Z,{count:2,width:200})))})))}var zl,Hl=function(e){var t=e.question,n=e.entryIds,a=e.searchId,o=(0,i.useRef)(null),c=(0,i.useState)(void 0),s=(0,r.Z)(c,2),u=s[0],d=s[1],m=(0,i.useState)(""),f=(0,r.Z)(m,2),p=f[0],E=f[1],v=(0,i.useState)([]),h=(0,r.Z)(v,2),y=h[0],g=h[1],Z=(0,i.useState)([]),b=(0,r.Z)(Z,2),C=b[0],O=b[1],S=(0,yl.X)(),N=S.mutate,P=S.isLoading,T=(0,w.Z)("searchSummaryDocsLimit"),A=(0,w.Z)("searchSummaryDocsScoreLimit");(0,i.useEffect)((function(){if(t&&t!==p&&0!==n.length){var e=(0,l.Z)(n).sort((function(e,t){return t.score-e.score})),a=e[0].score*(A/100),r=e.filter((function(e){return e.score>=a})).slice(0,T).map((function(e){return e.entryId}));g(r),E(t)}}),[t,n,p,T,A]);var D=(0,i.useCallback)((function(e){N({question:t,entryIds:e},{onSuccess:function(e){var t=function(e){return{summary:e.summary,files:e.sources.map((function(e){var t,n;return{type:e.mimeType,thumbnailUrl:(null===(t=e._self.linkedResources)||void 0===t||null===(n=t.itemThumbnail)||void 0===n?void 0:n.url)||null,name:e.name,path:e.path,id:e.entryId}}))}}(e);d(t)},onError:function(){d(null)}})}),[t,N]);return(0,i.useEffect)((function(){y.length?Ee().isEqual(y,C)||(D(y),O(y)):d(void 0)}),[y,C,D]),P?i.createElement(gl.Z,{isButtonVisible:!1},i.createElement("div",{className:jl},i.createElement("div",{className:Ul},i.createElement("div",null,i.createElement("div",{className:Ql},i.createElement(Le.Z,{icon:vl.w2,size:Le.Z.sizes.M}),i.createElement("h4",{className:Yl},xl("loading"))),i.createElement(hl.Z,{count:7}))),i.createElement("div",{className:_l},i.createElement("div",null,i.createElement("h4",{className:Vl},xl("source"))),i.createElement("div",{className:"MnjnxkhDyc406oIOZtj9"},i.createElement(Bl,{count:4}))))):void 0===u?null:u&&""!==u.summary?i.createElement(gl.Z,{ctaPendoId:{open:"search-results-showmore-btn",close:"search-results-showless-btn"},onToggle:function(e){e&&Ol("summary expanded",{})}},i.createElement("div",{className:jl},i.createElement("div",{className:Ul},i.createElement("div",null,i.createElement("div",{className:Ql},i.createElement(Le.Z,{icon:vl.w2,size:Le.Z.sizes.M}),i.createElement("h4",{className:Yl},xl("aiOverviewTitle")),i.createElement(se.Z,{tooltip:xl("aiTooltip")},i.createElement(Le.Z,{icon:ya.yo,size:Le.Z.sizes.M}))),i.createElement("div",{ref:o},i.createElement(Zl.Z,null,u.summary))),i.createElement("div",{className:"TduElvtFg63zSKmHOwdg"},i.createElement("div",null,i.createElement("div",{className:"kDQvA9QzMpBn11E7lrMA"},i.createElement("div",{className:"RSaJ02DBpeF2CXULV4th qqGfbuN2RooWpKmkockU"},xl("warningText")),i.createElement("div",{className:"F2FZQCjSGFjFVuDLoLKt"}))),i.createElement(Fl,{question:t,searchId:a,markDownElement:o.current&&o.current}))),u.files.length>0&&i.createElement("div",{className:_l,"data-pendoid":"search-results-source"},i.createElement("div",null,i.createElement("h4",{className:Vl},xl("source"))),i.createElement("div",{className:"J9STUfFYMlmiRedfOzdf"},u.files.map((function(e){return i.createElement(Al,{id:e.id,key:e.path,name:e.name,path:e.path,thumbnailUrl:e.thumbnailUrl||void 0})})))))):i.createElement(gl.Z,{isButtonVisible:!1,overlayHeightRatio:.2},i.createElement("div",{className:jl},i.createElement("div",{className:Ul},i.createElement("div",null,i.createElement("div",{className:Ql},i.createElement(Le.Z,{icon:vl.w2,size:Le.Z.sizes.M}),i.createElement("h4",{className:Yl},xl("noSummary")),i.createElement(se.Z,{tooltip:xl("aiTooltip")},i.createElement(Le.Z,{icon:ya.yo,size:Le.Z.sizes.M})))))))},Gl=n(442238),Kl=n(663089);function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xl=(zl={},(0,o.Z)(zl,ne.B.ASC,"ascending"),(0,o.Z)(zl,ne.B.DESC,"descending"),zl),Jl=function(e){var t=e.showAllSmartAppContracts,n=e.collection,a=(0,Ga.G)().urlFilters,r=(0,w.Z)("isSmartContractsLLMExtractionsEnabled"),o=(0,w.Z)("isContractsMultiNamespaceEnabled"),c=a.metadata,s=a.documentTypeMap,u=(0,Ha.A)().currentSearchQuery,d=(0,Kl.Z)(),m=(0,Ka.Z)().foldersList,f=(0,i.useMemo)((function(){var e=m.filter((function(e){return e.selected}));return(0===e.length?m:e).map((function(e){return e.path}))}),[m]),E=(0,jt.XZ)(),v=E.mutate,h=E.data,y=E.isLoading,g=(0,i.useMemo)((function(){return Object.keys(s)}),[s]),Z=(0,i.useRef)([]);(0,i.useEffect)((function(){if(n)return n.on("sync",d),function(){n.off("sync",d)}}),[n,d]),(0,i.useEffect)((function(){var e=Z.current,t=g,n=e.length!==t.length||!e.every((function(e,n){return e===t[n]}));r&&t.length>0&&n?(v({contractCategoryIds:t}),Z.current=(0,l.Z)(t)):r&&0===t.length&&n&&(v({contractCategoryIds:t}),Z.current=[])}),[r,g,v]);var b=(0,jt.zM)(),C=b.mutate,O=b.data;(0,i.useEffect)((function(){var e=1===c.length&&c[0].key===re.qW[0];o&&C({smartTags:e?[]:c.map((function(e){return e.key})),contractTypes:Object.keys(s)})}),[c,s,C,o]);var S=(0,jt.gY)({onSuccess:function(e){null!=e&&e.fileName&&null!=e&&e.fileBlob&&(0,Gl.U)(e.fileBlob,e.fileName)},onError:function(){(0,M.c0)(M.em.error,(0,p.t)("smartAppContract.failedToExportContractsSearch"),{persist:!1})}}).mutate,N=function(){var e=(0,Fe.Z)(_e().mark((function e(){var a,l;return _e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:(0,Wa.k9)(),a=Wl(Wl(o?{locations:f,query:u,resetAll:t,anyCustomMetadata:!1,multiLevelCustomMetadata:(l=O&&"multiLevelCustomMetadata"in O?O:{multiLevelCustomMetadata:[],anyInnerCustomMetadata:!1,anyOuterCustomMetadata:!1}).multiLevelCustomMetadata,anyInnerCustomMetadata:l.anyInnerCustomMetadata,anyOuterCustomMetadata:l.anyOuterCustomMetadata}:{locations:f,query:u,customMetadata:c,documentTypeMap:r?(null==h?void 0:h.mappings)||{}:s,resetAll:t},"string"==typeof n.sortDirection&&{sortDirection:Xl[n.sortDirection]}),"string"==typeof n.sortField&&{sortBy:n.sortField}),S(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.createElement("div",{className:"ow12m4IWvCejkk2UZVF0"},i.createElement(se.Z,{tooltip:(0,p.t)("button.label.export")},i.createElement(le.Z,{disabled:n&&0===n.length,type:le.Z.SECONDARY,onClick:N,"aria-label":(0,p.t)("button.label.export")},i.createElement(le.Z.Icon,{icon:vr.m4}))))},$l=function(e){var t=e.collection,n=e.showAllSmartAppContracts;return e.smartContractSearch?i.createElement(i.Fragment,null,i.createElement(Jl,{showAllSmartAppContracts:n,collection:t})):null},ei=n(996974),ti=n(809742),ni=n(609777),ai=n(296924),ri=n(300864),oi={notificationContainer:"b3KVJlroW2B1yWRjw2Id",notification:"qHieaTxPL6y5apxGzzyi",linkTextAndCtaWrapper:"wbBIIK49qrc_mtKyWXUv"},li=function(e){var t=e.smartContractSearch,n=(0,ei.UO)().id,a=(0,i.useState)(!0),o=(0,r.Z)(a,2),l=o[0],c=o[1],s=(0,i.useState)(!0),u=(0,r.Z)(s,2),d=u[0],m=u[1],E=(0,J.ZP)().data,v=(0,ri.Z)(n),h=v.filesCountBlockedByInsufficientCredits,g=v.downloadInsufficientCreditsContracts,Z=(0,jt.eA)(n,{enabled:!!n,refetchOnWindowFocus:!1}).data,b=(null==Z?void 0:Z.subStatus)===re.uR.OVER_LIMIT;return i.createElement(i.Fragment,null,i.createElement("div",{className:f()(oi.notificationContainer,oi.marginTop)},t&&l&&(0,ai._P)(E)&&i.createElement(ti.Z,{type:ti.Z.types.INFO,className:oi.notification,onCloseButtonClick:function(){return c(!1)}},(0,p.t)("search.smartContractDataDiscrepancy")),t&&d&&b&&h>0&&i.createElement(ti.Z,{type:ti.Z.types.WARN,className:oi.notification,onCloseButtonClick:function(){return m(!1)}},i.createElement("span",{className:oi.linkTextAndCtaWrapper},(0,p.t)("search.smartContractInsufficientCreditsNotificationTitle",{count:h}),i.createElement(y.Z,{onClick:g,size:y.Z.sizes.SMALL},i.createElement(le.Z.Icon,{icon:ni.aO}),(0,p.t)("button.label.downloadContractsList"))))))};function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var si=(0,T.Z)("search-view");function ui(){v.ZP.returnToPreviousSearch()}function di(e){var t=e.selectedItem,n=e.access,a=e.collection,r=(0,i.useMemo)((function(){return t?new S.Z(t):null}),[t]);return i.createElement("div",{className:"IedfWeKkJlmvRQ5Zq8rp"},i.createElement(N.H,null,i.createElement(F.Z,{model:r,collection:a,access:n,isSelectable:!1})),i.createElement("div",{className:"C7b_b6O0ybjArmw3e8L_"},i.createElement("p",null,(0,p.t)("search.filters.moreLikeThisMessageGallery",{fileName:i.createElement("strong",null,"",t.name,"")})),v.ZP.isReturnToSearchAvailable()&&i.createElement(y.Z,{onClick:ui},(0,p.t)("search.returnToPreviousSearch"))))}function mi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=[].concat((0,l.Z)(t||[]),(0,l.Z)(n));return e.filter((function(e){return"string"==typeof e.Header||e.asSimpleColumn})).filter((function(e){return!(e.isMetadataColumn&&!e.asSimpleColumn)})).map((function(e){return{key:e.id,label:e.Header,enabled:!t||a.includes(e.Header),disabled:Boolean(e.alwaysVisible)||n.includes(e.Header)}}))}function fi(e){v.ZP.changeViewMode(e)}var pi=(0,k.Z)((function(e){var t,n,m,y=e.collection,N=e.searchState,T=e.folderNavigate,k=e.manualSortBy,F=void 0===k||k,Y=e.isCollectionLoading,W=e.documentRoomId,$=e.referrer,le=e.searchInput,ie=e.onViewModeChange,ce=e.viewMode,se=(0,J.ZP)().data.workgroup.industry,ue={reload:function(){y.requestCurrentPage()}},de=(0,O.pL)(),me=(0,w.Z)("searchDynamicColumnEnabled")&&!de,fe=(0,w.Z)("searchResultsCustomColumnPreferencesEnabled"),pe=(0,w.Z)("searchLoggingEnabled"),ve=(0,w.Z)("showMetadataTagColumnsInListing"),he=(0,w.Z)("nlSearchEnabled"),ye=(0,w.Z)("isSmartContractsLLMExtractionsEnabled"),ge=(0,w.Z)("searchSummaryInCopilotEnabled"),Ze=(0,w.Z)("searchSummaryDocsLimit"),be=(0,w.Z)("searchSummaryDocsScoreLimit"),Ce=(0,w.Z)("searchFiltersV2Enabled"),Oe=(0,w.Z)("isContractsMultiNamespaceEnabled"),Se=(0,Nn.M9)().isCopilotSearch,Ne=(0,i.useRef)(),Pe=Kt().data,Te=(0,u.vD)({retry:D.shouldQueryRetry,refetchOnWindowFocus:!1,enabled:me}),Ae=Te.data,De=Te.isLoading,we=Te.error,Me=Tr(N),ke=Me.isMetadataPanelCollapsed,Ie=Me.canAddNewMetadataCriteria,Le=Me.isSearchByMetadataPossible,Re=Me.namespaces,Fe=Me.showMetadataContainer,je=Me.showAdvancedSearch,_e=v.ZP.getFilters(),Ve=$===z.$.SMARTAPP_CONTRACTS,Ue=_e.referrer===z.$.AEC_IMAGE_CLASSIFICATION,Qe=(0,kn.Z)().namespacePreference,Ye=(0,i.useMemo)((function(){return function(e,t){var n={};return null!=t&&t.length&&e&&Object.keys(e).forEach((function(a){var r=t.find((function(e){return e.name===a}));if(r){var o=e[a].filter((function(e){return!!r.properties.find((function(t){return t.name===e}))}));o.length&&(n[a]=o)}})),n}(Qe,Re)}),[Qe,Re]),xe=(0,i.useState)([]),Be=(0,r.Z)(xe,2),ze=Be[0],He=Be[1],Ge=(0,i.useState)(!0),Ke=(0,r.Z)(Ge,2),qe=Ke[0],We=Ke[1],Xe=(0,jt.u5)({enabled:Ve}).data||{smartTags:[],contractCategories:[]},Je=Ve?function(e){var t=e.contractCategoriesData,n=e.isSmartAppContractsLLMExtractionsEnabled,a=void 0!==n&&n,r=e.collection.documentTypeMap;if(!t||!r)return[];var o=t.contractCategories.map((function(e){return e.id})),l=Object.keys(r).filter((function(e){return o.includes(e)})),i=Object.values(r).flat();return[{key:oe.ci.CONTRACT_TYPE,namespace:re.ci,operator:(0,ae.Z)().operator.IN,values:l},i.length&&!a&&{key:oe.ci.CONTRACT_SUB_TYPE,namespace:re.ci,operator:(0,ae.Z)().operator.IN,values:i}].filter(Boolean)}({collection:y,contractCategoriesData:Xe,isSmartAppContractsLLMExtractionsEnabled:ye}):[],$e=(0,Pn.c)({collection:y,customColumns:Ye,privateNamespaceList:ze,showAutoAddedMetadataColumns:qe,namespaces:ze.length>0?ze:Re,highlightAutoAddedMetadataColumns:Ve,contractDocTypesColumns:Je,smartContractSearch:Ve}),et=$e.showLegacyMetadata,tt=$e.filteredMetadataColumns,nt=function(e){var t={};return e.forEach((function(e){var n=e.id.split(":");Array.isArray(t[n[0]])?t[n[0]].push(n[1]):t[n[0]]=[n[1]]})),t}(tt),at=(0,Pn.B)(Ye,tt),rt=(0,c.iR)(),ot=rt.data,lt=(void 0===ot?{}:ot).displaySettings,it=void 0===lt?{}:lt,ct=rt.isLoading,st=it.canSeeDateModifiedColumn,ut=it.canSeeUpdatedByColumn,dt=function(e){var t=e.showMetadata,n=e.collection,a=e.filteredMetadataColumns,r=void 0===a?[]:a,o=e.userMetadataColumns,c=void 0===o?[]:o,s=e.canSeeDateModifiedColumn,u=e.canSeeUpdatedByColumn,d=e.options,m=void 0===d?{}:d,f=e.smartContractSearch,E=void 0!==f&&f,v=e.showMetadataTagColumnsInListing,h=void 0!==v&&v,y=(0,w.Z)("searchResultsShowUpdatedBy"),g=(0,hn.h)().documentRoomId,Z=void 0===g?null:g,C=(0,i.useMemo)((function(){return(0,Rt.B1)(r.map((function(e){return e.id})))}),[r]);return(0,i.useMemo)((function(){return[!(0,b.hy)()&&Sn({id:"select",Header:fn,minWidth:30,width:30,disableResizing:!0,disableSortBy:!0,Cell:mn,alwaysVisible:!0},m.isFirstColumnSticky&&{sticky:"left"}),Sn({id:"name",accessor:function(e){return Sn(Sn({},e),{},{documentRoomId:Z})},Header:(0,p.t)("storage.folder.label.itemName"),Cell:rn.Z,onAccess:function(e){var t=e.folderItem;(0,e.defaultAction)(),(0,yn.Z)(t,n)},minWidth:155,width:E?460:230,maxWidth:Number.MAX_SAFE_INTEGER,alwaysVisible:!0},m.isFirstColumnSticky&&{sticky:"left"}),{id:"status",accessor:function(e){return e},Cell:on.Z,Header:(0,p.t)("storage.folder.label.status"),disableSortBy:!0},!E&&{id:"size",accessor:function(e){return e},Cell:ln.Z,Header:(0,p.t)("storage.folder.label.size"),minWidth:70,width:80,maxWidth:100},s&&{id:"last_modified",accessor:function(e){return e},Cell:nn,Header:(0,p.t)("storage.folder.label.modifiedDate"),minWidth:150,maxWidth:250},y&&u&&{id:"owner",accessor:"owner",Cell:an.Z,Header:(0,p.t)("storage.folder.label.updatedBy"),disableSortBy:!0,minWidth:150,maxWidth:400},{id:"snippet",accessor:"snippet",Cell:gn,Header:(0,p.t)(E?"search.headers.onlyDescription":"search.headers.description"),disableSortBy:!0,minWidth:250,maxWidth:400},t&&{id:"customProperties",accessor:"customProperties",Cell:Cn,Header:(0,p.t)("search.headers.metadata"),disableSortBy:!0,minWidth:250,maxWidth:400,alwaysVisible:!0},h&&{id:"tagsCount",accessor:function(e){return e},Cell:vn,Header:(0,p.t)("storage.folder.label.tagsCount"),minWidth:50,maxWidth:100,disableSortBy:!0}].concat((0,l.Z)(Ee().uniq([].concat((0,l.Z)(C),(0,l.Z)(r),(0,l.Z)(c)),"id"))).filter(Boolean)}),[m.isFirstColumnSticky,E,s,y,u,t,h,C,r,c,Z,n])}({showMetadata:et,collection:y,filteredMetadataColumns:tt,userMetadataColumns:at,canSeeDateModifiedColumn:!de||st,canSeeUpdatedByColumn:!de||ut,options:{isFirstColumnSticky:Ve},smartContractSearch:Ve,showMetadataTagColumnsInListing:ve}),mt=(0,Mn.Z)().columnNamesList,ft=(0,In.Z)().rowSize,pt=(0,i.useRef)(!1),Et=(0,i.useRef)(!1),vt=(0,i.useMemo)((function(){return function(e,t){var n=e.filter((function(e){return e.enabled})).map((function(e){return e.label}));return t.map((function(e){return ci(ci({},e),{},{hidden:!n.includes(e.Header)&&!e.alwaysVisible})}))}(mt,dt)}),[mt,dt]),ht=(0,i.useMemo)((function(){return mt.every((function(e){return e.enabled}))&&ft===Tn.o.default&&!Object.values(Ye).flat().length}),[mt,ft,Ye]),yt=v.ZP.isAdvancedSearchView(),gt=Fe&&Le&&!Ve,Zt=(0,i.useState)((function(){return y.info().currentPage})),bt=(0,r.Z)(Zt,2),Ct=bt[0],Ot=bt[1],St=(0,u.V8)().mutate,Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,K.useMutation)(X({mutationFn:function(e){return q(e)}},e))}().mutate;(0,i.useEffect)((function(){we&&404!==we.response.status&&(0,M.c0)("error",(0,s.e$)(we,(0,p.t)("error.default")))}),[we]);var Pt=(0,i.useCallback)((function(){var e=tt.map((function(e){var t=e.id;return(0,Rt.rh)(t)})).filter(Boolean);if(Ae&&me){var t=dt.filter((function(e){return e.alwaysVisible&&"string"==typeof e.Header})).map((function(e){return e.Header})).concat(Ae.simpleColumns),n=Ae.simpleColumns&&t;(0,Mn.o)((function(){return mi(dt,n,e)})),(0,In.e)(Ae.rowSize),pt.current=!1}else De||((0,Mn.o)((function(){return mi(dt,[],e)})),pt.current=!we)}),[Ae,dt,De,me,we,tt]);(0,i.useEffect)((function(){Pt()}),[De]),(0,i.useEffect)((function(){if(pt.current&&me){var e,t=mt.filter((function(e){return e.enabled})).map((function(e){return e.label})),n=null!==(e=null==Ae?void 0:Ae.customColumns)&&void 0!==e?e:{};St({columns:{simpleColumns:t,customColumns:n},rowSize:ft}),pt.current=!1}}),[mt,ft,St,me,Ae]),(0,i.useEffect)((function(){return function(){E.Z.isSearchViewShown()||qt.Z.abortAllRequests()}}),[]),(0,i.useEffect)((function(){var e,t=null===(e=h.Z.parseUrlHash(G.ZP.location.hash).query)||void 0===e?void 0:e.returnUrl;t&&v.ZP.setReturnUrl(t),!sessionStorage.getItem("aecNotificationShown")&&Ue&&((0,M.c0)(M.em.information,(0,p.t)("search.aecImageClassifierNotification")),sessionStorage.setItem("aecNotificationShown","true"))}),[Ue]);var Tt=(0,i.useState)((function(){return y.isSearchQueryValid()})),At=(0,r.Z)(Tt,2),Dt=At[0],wt=At[1],Mt=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showContractsMetadataColumns,n=void 0===t?null:t,a=e.showLoader,r=e.privateNamespace;null!==n&&n!==qe&&We(n),a&&wt(!0),r&&(Oe?He(Array.isArray(r)?r:[r]):0===ze.length&&He([r]))}),[qe,Oe,ze.length]);(0,i.useEffect)((function(){function e(){if(wt(!1),g.ZP.trigger(g.ZP.Events.Storage.READY),y.setProperty("loadingEndDate",Date.now()),(0,Vt.Z)(y,v.ZP.getFilters(),_e.referrer),pe){var e,t,n=null===(e=y.first())||void 0===e?void 0:e.get("entryId"),a=null===(t=y.first())||void 0===t?void 0:t.get("type").toUpperCase();Nt(te({industry:se,searchQueryBody:JSON.parse(y.searchQueryBodyJson),firstDocumentId:"FILE"===a?n:null,firstDocumentType:a,noResults:0===y.length,offset:y.offsets.at(-1)}))}}return y.on("sync error",e),function(){y.off("sync error",e)}}));var kt=(0,i.useCallback)((function(e){var t=e.label,n=(0,l.Z)(mt),a=n.findIndex((function(e){return e.label===t}));n[a].enabled=!n[a].enabled,(0,Mn.o)(n),pt.current=!0,A.Z.track("Search - Edit view column ".concat(t,": ").concat(n[a].enabled?"On":"Off"))}),[mt]),It=(0,i.useCallback)((function(e){(0,In.e)(e),pt.current=!0,A.Z.track("Search - Edit view row size: ".concat(e===Tn.o.default?"Default":"Large"))}),[]),Ut=(0,i.useCallback)((function(){if(!ht){var e=mi(dt);Object.values(Ye).flat().length&&(Et.current=!0),(0,Mn.o)(e),(0,In.e)(Tn.o.default),(0,kn.s)({});var t={columns:{simpleColumns:e.filter((function(e){return e.enabled})).map((function(e){return e.label})),customColumns:{}},rowSize:Tn.o.default};A.Z.track("Search - Edit view reset to default"),St(t)}}),[Ye,dt,ht,St]),Qt=(0,i.useCallback)((function(){var e;fe&&(0,kn.s)(null!==(e=null==Ae?void 0:Ae.customColumns)&&void 0!==e?e:{})}),[Ae,fe]);(0,i.useEffect)((function(){De||Qt()}),[De]);var Yt=(0,i.useCallback)((function(e){var t,n=null!==(t=null==Ae?void 0:Ae.simpleColumns)&&void 0!==t?t:[];St({columns:{simpleColumns:n,customColumns:e}})}),[St,null==Ae?void 0:Ae.simpleColumns]),xt=(0,i.useCallback)((function(){Yt({}),Et.current=!0}),[Yt]),Bt=(0,i.useCallback)((function(e){Yt(e),Et.current=!0,(0,kn.s)(e)}),[Yt]);(0,i.useEffect)((function(){Et.current&&(Et.current=!1,v.ZP.refreshSearch())}),[Ae]);var zt=(0,i.useCallback)((function(){if(!Dt&&y.length>0){var e=N.getSearchQuery(),t=function(e,t,n){if(!e||0===e.length||!t)return null;var a=e.filter((function(e){return e.type!==S.Z.FOLDER})).filter((function(e){return void 0!==e.score})).map((function(e){return{entryId:e.entryId,name:e.name||"File ".concat(e.entryId),path:e.path||"",score:e.score}}));if(0===a.length)return null;var r=(0,l.Z)(a).sort((function(e,t){return t.score-e.score})),o=r[0].score*(n.docsScoreLimit/100),i=r.filter((function(e){return e.score>=o})).slice(0,n.docsLimit);return{question:t,entryIds:i.map((function(e){return e.entryId})),searchResultFiles:i}}(function(e){return e&&(t=e,"object"===(0,_t.Z)(t)&&null!==t&&"function"==typeof t.toJSON)&&e.toJSON()||[];var t}(y),e,{docsLimit:Ze,docsScoreLimit:be});t&&g.ZP.trigger(g.ZP.Events.Storage.SEARCH_SUMMARY,t)}}),[Dt,y,N,Ze,be]);(0,i.useEffect)((function(){ge&&null!=y&&y.searchId&&Se&&zt()}),[ge,null==y?void 0:y.searchId,zt,Se]),(0,i.useEffect)((function(){var e=function(){return y.requestCurrentPage()};return g.ZP.on(g.ZP.Events.Storage.SEARCH_REFRESH,e),function(){g.ZP.off(g.ZP.Events.Storage.SEARCH_REFRESH,e)}}),[y]);var Ht=null===(t=v.ZP.getSearchOptionsFromHash(G.ZP.location.hash))||void 0===t?void 0:t.selectedItem,Gt=null===(n=v.ZP.getSearchOptionsFromHash(G.ZP.location.hash))||void 0===n?void 0:n.mltId,Wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,V.useQuery)(x({queryKey:B(e),queryFn:function(){return(0,Q.ZP)(U.Z.FSI.ITEM(e))}},t))}(Gt,{enabled:!!Gt&&!!y.length}),Xt=Wt.isLoading,Jt=Wt.data,$t=(0,w.Z)("imageClassificationEnabled"),en=(0,w.Z)("metadataAsModal"),tn=ce||N.getView()||R.LV.LIST,cn=(0,i.useCallback)((function(){v.ZP.clearMetadataParams(),N.closeMetadataSearch(),v.ZP.navigateToSearch(N.getSearchQuery(),$t)}),[$t,N]),sn=(0,i.useCallback)((function(){N.showMetadataSearch()}),[N]),un=(0,i.useState)(!1),dn=(0,r.Z)(un,2),pn=dn[0],En=dn[1],Zn=ie||fi,bn=(0,i.useCallback)((function(e){if(pe){var t,n=y.get(e),a=y.indexOf(n)+1,r=n.get("entryId"),o=y.first(),l=null===(t=y.first())||void 0===t?void 0:t.get("type").toUpperCase(),i=null==n?void 0:n.get("type").toUpperCase();Nt((c={industry:se,searchQueryBody:JSON.parse(y.searchQueryBodyJson),firstDocumentId:"FILE"===l?null==o?void 0:o.get("entryId"):null,firstDocumentType:l,noResults:0===y.length,offset:y.offsets.at(-1)},s={openedDocumentId:"FILE"===i?r:null,openedDocumentRank:a,recentDocument:n.get("recentFile"),openedDocumentType:n.get("type").toUpperCase()},u=s.openedDocumentId,d=s.openedDocumentRank,m=s.openedDocumentType,f=s.recentDocument,ee(ee({},te({industry:c.industry,offset:c.offset,firstDocumentId:c.firstDocumentId,noResults:c.noResults,searchQueryBody:c.searchQueryBody,firstDocumentType:c.firstDocumentType})),{},{eventName:"RESULT_OPEN",openedDocumentId:u,openedDocumentRank:d,openedDocumentType:m,recentDocument:f})))}var c,s,u,d,m,f}),[y,se,Nt,pe]),On=(0,i.useCallback)((function(){(0,b.hy)()?(0,Z.c4)(H.Z.STORAGE.DASHBOARD):g.ch.SEARCH_BACK.trigger()}),[]);if(de&&ct)return i.createElement(P.Z,null);var An=document.querySelector(".header-portal"),Dn=!Dt&&he&&!Ve&&!ge&&!(0,b.On)(),Fn=null===(m=y.toJSON())||void 0===m?void 0:m.filter((function(e){return"folder"!==e.type})).filter((function(e){return void 0!==e.score})).map((function(e){return{entryId:e.entryId,score:e.score}}));return i.createElement("div",{className:f()(si(),"IP19jn7ENn8z_VJi80Zw",(0,o.Z)({},"r7MXZBE6K52bXmXaZ3IU",Ve)),ref:Ne},i.createElement("div",null,!($&&$===z.$.SMARTAPP_CONTRACTS)&&d.createPortal(i.createElement(Rn,null,i.createElement(Ln,{className:si("back"),onClick:On}),i.createElement(Un,{isAdvancedSearchView:yt,referrer:_e.referrer})),An),Dn&&i.createElement(Hl,{question:N.getSearchQuery(),entryIds:Fn,searchId:y.searchId}),gt&&(en?!ke&&i.createElement(El,{namespaces:Re,closeMetadataSearch:sn,canAddNewMetadataCriteria:Ie,searchState:N}):i.createElement("div",{className:si("metadata-search")},i.createElement(Lt,{namespaces:Re,closeMetadataSearch:cn,collapsed:ke,expand:function(){return N.expandAllMetadataCriterias()},canAddNewMetadataCriteria:Ie}))),i.createElement("div",{className:"uEQdqoP1ll61iYVOfxDT"},Ht&&tn!==R.LV.GALLERY&&i.createElement("div",{className:f()("V4mXYaFx0N3CWWYFWRav L1NPGp0OArr9AgHvsxTA C7HhvVmv8inrSQjb607z eugzcnL4uVMlgbRkfTqa","u3I7MfgJur2BA4AYZWpu")},(0,p.t)("search.filters.moreLikeThisMessage",{selectedItem:Ht})),i.createElement(li,{smartContractSearch:Ve}),i.createElement("div",{className:"V_qKaVDeMCbpPkIdKeK9"},Ce&&!Ve&&i.createElement(ml,{showAdvancedSearch:je,selectedItemFromUrl:Ht}),i.createElement(Ar,{searchState:N,selectedItemFromUrl:Ht,collection:y,showAdvancedSearch:je,domains:Pe,referrer:$||_e.referrer,onSmartAppSearch:Mt,setShowAllSmartAppContracts:En,contractCategoriesData:Xe,searchInput:le}),i.createElement("div",{className:"ID3lAcbbG3pEC8qQ7CFi"},i.createElement($l,{collection:y,showAllSmartAppContracts:pn,smartContractSearch:Ve}),me&&i.createElement("div",{className:f()("iFhwdQudiC4qQGQ24NZs")},tn!==R.LV.GALLERY?i.createElement(Tn.Z,{searchView:!0,columnNamesList:mt,rowSize:ft,isDefaultView:ht,namespaces:Re,namespacePreference:Ye,onMetadataReset:xt,onMetadataSubmit:Bt,onChange:kt,onRowSizeChange:It,onReset:Ut,onEditViewToggle:function(e){e&&A.Z.track("Search: Edit view")},metadataFilterNamespacePreference:nt,smartContractSearch:Ve}):i.createElement(j.Z,{collection:y,name:R.af.SEARCH_VIEW,dataTid:"search-gallery-sort"}),i.createElement(L.Z,{viewMode:tn,onViewModeSelect:Zn})))))),i.createElement("div",(0,a.default)({},Ft.gD,{className:f()("search-results-wrapper",C._.SCROLL_AREA,{"smart-contracts-search":Ve},(0,o.Z)({},"cd6f9BmHmnLPXOUXj4nn",!0===he))}),i.createElement(I.Z,{parentRef:Ne,viewMode:tn,name:R.af.SEARCH_VIEW,list2Lines:ft===Tn.o.default,location:"search",collection:y,pageIndex:Ct,folderNavigate:T,onChangePage:function(e){var t=e-1;t>Ct&&y.requestNextPage(),t<Ct&&y.requestPreviousPage(),Ot(t)},isLoading:Dt||De||Y||Xt,noData:i.createElement(wn,{collection:y,isAdvancedSearchView:yt,isMltSearch:!!Ht||Ve}),pageSize:20,displayPath:!0,stickyColumnsEnabled:Ve,columns:vt,withHeader:!De,integrationCallbacks:ue,persistState:!1,autoResetResize:!1,initialSortBy:{sortField:"string"==typeof y.sortField?y.sortField:"",sortOrder:"string"==typeof y.sortDirection?y.sortDirection:ne.B.DESC},manualSortBy:F,documentRoomId:W,components:{FolderItemRowActions:_.Z},autoFetch:!1,topComponent:function(e){return Jt&&i.createElement(di,{selectedItem:Jt,access:e,collection:y})},onAccess:bn,showFilePath:!Ve})))}),{listenTo:["searchState"]})},58034:function(e,t,n){n.d(t,{Z:function(){return s},o:function(){return c}});var a=n(529439),r=n(667294),o=new(n(191472).Z),l="SEARCH_RESULT_COLUMN_NAMES_CHANGE_EVENT",i=[];function c(e){i=e,o.trigger(l,e)}function s(){var e=(0,r.useState)(i),t=(0,a.Z)(e,2),n=t[0],c=t[1];return(0,r.useEffect)((function(){return o.on(l,c),function(){o.off(l)}}),[]),{columnNamesList:n}}},620087:function(e,t,n){n.d(t,{Z:function(){return s},s:function(){return c}});var a=n(529439),r=n(667294),o=new(n(191472).Z),l="SEARCH_RESULT_NAMESPACE_PREFERENCE_CHANGE_EVENT",i={};function c(e){i=e,o.trigger(l,e)}function s(){var e=(0,r.useState)(i),t=(0,a.Z)(e,2),n=t[0],c=t[1];return(0,r.useEffect)((function(){return o.on(l,c),function(){return o.off(l,c)}}),[]),{namespacePreference:n}}},77550:function(e,t,n){n.d(t,{Z:function(){return d},e:function(){return u}});var a=n(529439),r=n(667294),o=n(191472),l=n(876950),i=new o.Z,c="SEARCH_RESULT_ROW_SIZE_CHANGE_EVENT",s=l.o.default;function u(e){s=e,i.trigger(c,e)}function d(){var e=(0,r.useState)(s),t=(0,a.Z)(e,2),n=t[0],o=t[1];return(0,r.useEffect)((function(){return i.on(c,o),function(){return i.off(c,o)}}),[]),{rowSize:n}}},873029:function(e,t,n){n.d(t,{Z:function(){return A}});var a=n(204942),r=n(529439),o=n(667294),l=n(762074),i=n(579621),c=n(779210),s=n(337995),u=n(583025),d=n(730824),m=n(621465),f=n(799532),p=n(698607),E=n(757440),v=n(450672),h=n(460474),y=(n(19309),n(266606)),g=n(680252),Z=n(42594),b=n(451090),C=n(415992),O=n(599950),S=n(626311),N=n(918233);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var T=(0,l.nD)("storage.actions");function A(e){var t=e.disabled,n=e.collection,l=e.disableUpdatedBySort,A=e.useSortPreferences,D=void 0===A?v.Z:A,w=e.name,M=e.dataTid,k=D(),I=(0,r.Z)(k,2),L=I[0],R=I[1],F=(0,E.Z)(),j=(0,h.Z)("documentRoomIndexingEnabled"),_=(0,h.Z)("fileListingColumnFiltersEnabled"),V=(0,b.iR)().data,U=(void 0===V?{}:V).displaySettings,Q=void 0===U?{}:U,Y=Q.canSeeDateModifiedColumn,x=Q.canSeeUpdatedByColumn,B=(0,Z.pL)(),z=o.useState(!1),H=(0,r.Z)(z,2),G=H[0],K=H[1];(0,o.useEffect)((function(){return n.on("sync change",F),function(){n.off("sync change",F)}}),[n,F]);var q=(0,o.useCallback)((function(e){t||K(e)}),[t]);return o.createElement(c.Z,{isOpened:G,onToggle:q,trigger:_?o.createElement("div",null,o.createElement(p.Z,{tooltip:T("sort")},o.createElement(i.Z,{"data-tid":M,"aria-label":T("sort"),type:i.Z.TERTIARY_SUBTLE,disabled:t},o.createElement(i.Z.Icon,{icon:d.d7,customSize:"20px"}),o.createElement(i.Z.Icon,{icon:m.Dd,customSize:f.Z.sizes.S})))):o.createElement(S._O,{disabled:t,dataTid:M})},o.createElement(s.Z,null,(w===N.af.SEARCH_VIEW?[["name","name"],["last_modified","date"],["size","size"]]:[["name","name"],(!B||Y)&&["last_modified","date"],["size","size"],(!B||x)&&!l&&["owner","updatedBy"],j&&B&&["index","index"]]).filter(Boolean).map((function(e){var t=(0,r.Z)(e,2),l=t[0],i=t[1];return o.createElement(u.Z,{key:l,checked:w===N.af.SEARCH_VIEW?n.sortField===l:L.sortField===l,onClick:function(){w===N.af.SEARCH_VIEW?n.setSorting({sortField:l,sortDirection:n.sortOrder||C.B.ASC}):(R("sortField",l),n.setMetadataFields((0,O.Jj)()),n.updateOrder(l)),y.Z.track("Sort in gallery view",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sortOrder:L.sortOrder,sortField:l},(0,g.zs)()))},"data-tid":l},T(i))}))))}},298808:function(e,t,n){n.d(t,{hs:function(){return _},V7:function(){return y},Wy:function(){return p},oR:function(){return w},zO:function(){return f},tk:function(){return P},k0:function(){return E}});var a,r=n(204942),o=n(667294),l=n(762074),i=n(6587),c=n(890851),s=n(516483),u=n(218443),d=(a={},(0,r.Z)(a,c.QW.INTEGER,s.nT),(0,r.Z)(a,c.QW.DECIMAL,s.S_),(0,r.Z)(a,c.QW.STRING,(function(){return!0})),a);function m(e){var t,n=e.value,a=e.onChange,r=e.metadataType,s=[c.QW.INTEGER,c.QW.DECIMAL].includes(r)?(0,l.t)("storage.metadata.metadataColumn.numberMetadataPlaceholder"):null;return o.createElement(u.Z,{className:"K8OC7Z2tNyZknYOFYsfl"},o.createElement(i.Z,{autoFocus:!0,onChange:function(e){e.stopPropagation();var t=e.currentTarget.value;d[r](t)?a({value:t,type:r}):null!=n&&n.value||(e.currentTarget.value="")},onFocus:function(e){e.target.select()},value:null!==(t=null==n?void 0:n.value)&&void 0!==t?t:null,placeholder:s}))}function f(e){var t=e.value,n=e.onChange;return o.createElement(m,{value:t,onChange:n,metadataType:c.QW.INTEGER})}function p(e){var t=e.value,n=e.onChange;return o.createElement(m,{value:t,onChange:n,metadataType:c.QW.DECIMAL})}function E(e){var t=e.value,n=e.onChange;return o.createElement(m,{value:t,onChange:n,metadataType:c.QW.STRING})}var v=n(35089),h=n(658434);function y(e){var t=e.value,n=e.onChange;return o.createElement(u.Z,null,o.createElement("div",{className:"o6GTAysKjA9ct3xCie9N"},o.createElement(v.Z,{zIndex:h.jM,onDayChange:function(e){e&&n({value:new Date(e).getTime(),type:c.QW.DATE})},value:null!=t&&t.value?new Date(+(null==t?void 0:t.value)):void 0})))}var g=n(376507),Z=n(731264),b=n(742087),C=n(471649),O=n(163123);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=e.value,n=e.onChange,a=e.property,r=(0,g.Z)(b.x),l=(0,Z.Z)(r,{class:"tokenfield"}),i={multiValueLabel:function(e){return N(N({},e),{},{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})}};return o.createElement(u.Z,{className:"NrZBCT_kv0PDZIaORng3"},o.createElement(C.Z,{property:a,onChange:function(e){n({value:e.map((function(e){return e.value})),type:a.type}),setTimeout((function(){O.ZP.dispatchEvent(new Event("resize"))}),0)},editValue:null==t?void 0:t.value,menuPortalTarget:l.current,customStyles:i}))}var T=n(93433),A=n(499345),D=n(125624);function w(e){var t=e.value,n=e.onChange,a=e.property,r=(0,o.useMemo)((function(){return[{label:"-",value:""}].concat((0,T.Z)(null==a?void 0:a.data.map((function(e){return{label:o.createElement(A.Z,null,e),value:e}}))))}),[a]);return o.createElement(u.Z,null,o.createElement(D.QS,{options:r,defaultMenuIsOpen:!0,value:null==t?void 0:t.value,onChange:(0,o.useCallback)((function(e){return n({value:e,type:c.QW.ENUM})}),[n])}))}var M=n(579621),k=n(568874),I=n(635398),L=n(57324),R=n(799443),F=n(796413),j=(0,l.nD)("storage.folder.label");function _(e){var t=e.onClick,n=e.columnId,a=(0,F.o)().model,r=(0,L.Uw)(a),l=(0,L.p1)(a),i=n===I.iW.NAME,c=i&&(r||l),s=j(i?"fileNameInlineEditActionTooltip":"metadataInlineEditActionTooltip"),u=(0,R.nD)(r?"lockedFilesCollaboration":"lockedFiles",(0,R.aV)(a,"Rename"));return o.createElement(k.ZP.Table.Body.Row.Cell.InlineEdit.EditButton,{disabled:c,onClick:t,tooltip:c?u:s,size:M.Z.sizes.SMALL})}},138796:function(e,t,n){n.d(t,{C:function(){return B},n9:function(){return x}});var a,r=n(529439),o=n(204942),l=n(667294),i=n(865485),c=n(413976),s=n(890851),u=n(704899),d=n(238701),m=n(125624),f=n(589698),p=n(119179),E=n(792189),v=n(405005),h=n(722332),y=n(844925),g=n(218443),Z=n(943886),b=n(658434),C=n(298808),O=(a={},(0,o.Z)(a,s.QW.INTEGER,(function(){return C.zO})),(0,o.Z)(a,s.QW.DECIMAL,(function(){return C.Wy})),(0,o.Z)(a,s.QW.STRING,(function(){return C.k0})),(0,o.Z)(a,s.QW.DATE,(function(){return C.V7})),(0,o.Z)(a,s.QW.ENUM,(function(e){return function(t){var n=t.value,a=t.onChange;return l.createElement(C.oR,{value:n,onChange:a,property:e})}})),(0,o.Z)(a,s.QW.MULTI_VALUE_STRING,(function(e){return function(t){var n=t.value,a=t.onChange;return l.createElement(C.tk,{value:n,onChange:a,property:e})}})),a),S=n(701162),N=n(731557);function P(e){var t=e.column,n=e.namespaceDefinition,a=e.propDefinition,r=e.Component,o=e.hasAddedColumnViaFilter,i=(0,N.Nv)().folderTagsPresenceMap,c=!(null!=i&&i.get("".concat(n.name,":").concat(a.name)));return l.createElement(r,{key:t.id,column:t,disabled:c,propDefinition:a,namespaceDefinition:n,hasAddedColumnViaFilter:o})}function T(e){var t=e.propDefinition,n=e.namespaceDefinition,a=e.hasAddedColumnViaFilter;return function(e){var r=e.column,o=S.ZP[t.type];return l.createElement(P,{column:r,namespaceDefinition:n,propDefinition:t,Component:o,hasAddedColumnViaFilter:a})}}var A=(0,o.Z)({},(0,f.Z)().propertyType.DATE,(function(e,t){return t?(0,p.uq)(parseInt(e,10)):(0,p.ZU)(parseInt(e,10))}));var D,w=n(294184),M=n.n(w),k=n(760866),I=n(799532),L=n(559157),R=n(698607),F=n(499345),j=n(762074),_=n(172643);function V(e){var t=e.propDefinition,n=e.property,a=t.type===s.QW.MULTI_VALUE_STRING&&Array.isArray(null==n?void 0:n.value),r=(0,l.useMemo)((function(){if(!n||!n.id||!n.value||Array.isArray(n.value)&&0===n.value.filter(Boolean).length)return"-";if(a){var e=n.value;return l.createElement("div",{className:"tooltipMetadataContent"},l.createElement(k.Z,{options:e.map((function(e){return{label:e}})),renderOptionsCountText:function(e){var t=e.count;return(0,j.t)("storage.metadata.optionsCountText",{count:t})}}))}var r=(0,_.Z)(function(e){var t=e.value,n=e.type,a=n===(0,f.Z)().propertyType.DATE&&(0,E.tz)(),r=A[n];return r?r(t,a):t}({value:n.value,type:t.type}));return l.createElement(F.Z,null,r)}),[a,t.type,n]);return l.createElement("div",{className:"xUDPSkZeQHiRPL8nMeXc"},l.createElement("div",{className:M()("MXwVeYe4_tkcoGhgWtXa",(0,o.Z)({},"dUqvuWwLVIzwNg2pmhBA",a))},r),(null==n?void 0:n.inherited)&&l.createElement(R.Z,{tooltip:(0,j.t)("storage.metadata.inherited.inheritedLabelTip",{location:n.inheritedFrom}),disabled:!n.inheritedFrom},l.createElement(I.Z,{icon:L.H0})))}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=(D={},(0,o.Z)(D,s.QW.DATE,{size:167,minSize:167}),(0,o.Z)(D,s.QW.MULTI_VALUE_STRING,{size:237,minSize:237}),(0,o.Z)(D,s.QW.INTEGER,{size:190,minSize:190}),(0,o.Z)(D,s.QW.ENUM,{size:190,minSize:190}),(0,o.Z)(D,s.QW.DECIMAL,{size:190,minSize:190}),D);function x(e){var t=[];return Object.entries(e||{}).map((function(e){var t=(0,r.Z)(e,2);return{namespace:t[0],properties:t[1]}})).forEach((function(e){e.properties.forEach((function(n){t.push({namespace:e.namespace,key:n})}))})),t}function B(e){var t=e.namespaceDefinition,n=e.propDefinition,a=e.autoAdded,r=e.highlight,o=e.property,f=e.canSort,p=void 0!==f&&f,E=e.label,C=e.env,N=e.hasAddedColumnViaFilter,P=(null==n?void 0:n.type)===s.QW.MULTI_VALUE_STRING,A=o.namespace,D=o.key,w=(null==n?void 0:n.type)in Y,M=(0,d.Xn)(C),k=M?{}:function(e){var t=e.propDefinition,n=e.namespaceDefinition,a=e.hasAddedColumnViaFilter,r=t.type in S.ZP,o=(0,Z.Jo)().features.fileListingColumnFiltersEnabled;return((0,u.TY)()||o)&&r?{filter:T({propDefinition:t,namespaceDefinition:n,hasAddedColumnViaFilter:a})}:{}}({propDefinition:n,namespaceDefinition:t,hasAddedColumnViaFilter:N}),I=M?{}:function(e){var t=e.propDefinition,n=e.namespaceDefinition,a=function(e,t){var n=(null==e?void 0:e.scope)!==s.Wj.PROTECTED,a=!1!==(null==e?void 0:e.associated)||e.metadataScopeType===s.Ir.DOCUMENT_TYPE;return!!O[t.type]&&n&&a}(n,t),r=n.metadataScopeType===s.Ir.DOCUMENT_TYPE,o=(0,Z.r0)("fileListingColumnFiltersEnabled");return{enableEditing:function(e){var t,l,i=a&&(0,v.j)(e.permission);return e.type===h.Z.FILE?r&&i?null!==(t=null===(l=n.documentExtensions)||void 0===l?void 0:l.includes(e.extension))&&void 0!==t&&t:i:!(e.type!==h.Z.FOLDER||!o||r)&&i},edit:function(e){var n,a=e.onSave,r=e.onChange,o=e.onToggle,i=e.value,c=null===(n=O[t.type])||void 0===n?void 0:n.call(O,t);return l.createElement(g.Z,null,l.createElement(y.Z.Table.Cell.EditCell.PopoveredActions,{onCancel:o,onSave:function(){return a(i)},zIndex:b.cZ,usePortal:!1},l.createElement("span",null,l.createElement(c,{value:i,onChange:r}))))}}}({propDefinition:n,namespaceDefinition:t});return Q(Q({id:"".concat(A,":").concat(D),accessorFn:function(e){return function(e,t,n,a){var r=(0,i.nY)(e,t,n);if(a&&"string"==typeof(null==r?void 0:r.value))try{r.value=r.value.split(",").map((function(e){return e.trim()}))}catch(e){}return r}(e,A,D,P)},cell:function(e){var t=e.getValue;return l.createElement(V,{property:t(),propDefinition:n})},header:function(){var e,r=(0,m.$H)().size;return l.createElement(c.Z,{metadataKey:"".concat(A,":").concat(D),namespace:null!==(e=null==t?void 0:t.displayName)&&void 0!==e?e:A,property:null==n?void 0:n.displayName,autoAdded:a,manualEllipsis:!1,size:r})},meta:{isHighlighted:r,isMetadataColumn:!0},enableResizing:!0,enableSorting:p&&!(P||(0,u.TY)()),size:w?Y[n.type].size:180,minSize:w?Y[n.type].minSize:150,label:E,maxSize:Number.MAX_SAFE_INTEGER},k),I)}}}]);