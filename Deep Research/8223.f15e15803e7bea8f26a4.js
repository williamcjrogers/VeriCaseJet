"use strict";(self.webpackChunkEgnyte_CommonUI=self.webpackChunkEgnyte_CommonUI||[]).push([[8223],{310307:function(e,t,n){n.d(t,{X:function(){return m},r:function(){return E}});var a=n(204942),r=n(388767),i=n(240701),o=n(105171),l=n(23661);function c(e){return(0,l.ZP)(i.Z.AI_SEARCH.SUMMARY.ROOT,{method:l.I5.POST,body:e})}function s(e){var t=e.searchId,n=e.query,a=e.reaction,r=void 0===a||a,c=e.comments,s=void 0===c?"":c,u=e.rating,d=void 0===u?0:u,m=e.referrer,E=void 0===m?"":m,p={category:o.eu.AI_SEARCH_SUMMARY,subcategory:"",context:{referrer:E,subjects:[{type:"searchId",id:t}],extended_attributes:{query:n}},feedback:{response:r?"THUMBS_UP":"THUMBS_DOWN",extended_attributes:{},rating:d,comments:s}};return(0,l.ZP)(i.Z.CHAT_GPT.SUMMARY_FEEDBACK,{method:l.I5.POST,body:p})}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return(0,r.useMutation)(d({mutationFn:c},e))},E=function(e){return(0,r.useMutation)(d({mutationFn:s},e))}},111527:function(e,t,n){var a=n(487462),r=n(529439),i=n(667294),o=n(69150);t.Z=function(e){return function(t){var n=(0,i.useState)(!1),l=(0,r.Z)(n,2),c=l[0],s=l[1],u=(0,i.useState)(null),d=(0,r.Z)(u,2),m=d[0],E=d[1],p=(0,i.useCallback)((function(){s(!1),E(null)}),[]),f=(0,i.useMemo)((function(){return{hasConversationStarted:c,setHasConversationStarted:s,clearCurrentConfigurationContext:p,currentConfiguration:m,setCurrentConfiguration:E}}),[p,m,c]);return i.createElement(o.Z.Provider,{value:f},i.createElement(e,(0,a.default)({onClearChat:p},t)))}}},936751:function(e,t,n){n.d(t,{f:function(){return Sn}});var a=n(204942),r=n(93433),i=n(529439),o=n(667294),l=n(996974),c=n(914578),s=n(280129),u=n.n(s),d=n(32570),m=n(397404),E=n(762074),p=n(221752),f=n(294184),v=n.n(f),g=n(605017),b=n(956688),S=n(461498),h=n(85946),Z=n(96506),y=n(683680),T=n(158274),C=n(934140),I=n(379683),O=n(362246),A=n(449529),P=n(229218),w=n(726759),N=n(897766),k=n(588310),R=(0,E.nD)("knowledgeBaseAssistant.sidebarRight"),D=function(e){var t,n=e.selectedAgent,r=void 0===n?null:n,l=e.onConversationAction,c=e.entryPoint,s=e.isExpanded,u=e.onExpandedChange,d=(0,b.Or)(y.j.ACTIVITY_PANEL),m=d.width,E=d.setWidth,p=(0,o.useState)(!1),f=(0,i.Z)(p,2),D=f[0],L=f[1],_=null!=s?s:D,B=(0,o.useCallback)((function(e){u?u(e):L(e)}),[u]),F=(0,o.useCallback)((function(e){var t=e>T.FL;B(t),E(t?e:b.M)}),[B,E]),M=(0,o.useCallback)((function(){return B(!_)}),[B,_]),j=(0,o.useCallback)((function(){B(!1)}),[B]),x=(0,o.useMemo)((function(){return m<=T.NQ?T.NQ:m}),[m]);return o.createElement(g.Z,{side:g.Z.sides.RIGHT,width:_?x:T.FL,minWidth:T.FL,maxWidth:(0,I.xS)(!0),className:v()(k.Z.sidebar,k.Z.sidebarHistory,(t={},(0,a.Z)(t,k.Z.collapsedAssistant,!_),(0,a.Z)(t,k.Z.collapsed,!_),t)),onWidthChange:F,"data-tid":"sidebar-right-agent","data-pendoid":"sidebar-right","aria-expanded":_,disableResize:!_,endDragOnMinWidth:!0,withHandlebar:!0},o.createElement("aside",{className:k.Z.content,role:"none"},_&&o.createElement("div",{className:v()(k.Z.contentContainer,k.Z.expanded),"data-pendoid":S.Oy[S.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY].view,"data-tid":"sidebar-content-container-agent"},o.createElement(A.y,{closeSidebar:j,showBackIcon:!1},o.createElement(A.w,null,R("history.label"))),o.createElement(N.v,{pendoId:S.Oy[S.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY].content},o.createElement(P.Z,{selectedAgent:r,onConversationSelect:l,entryPoint:c}))),o.createElement(C.Z,{className:v()((0,a.Z)({},k.Z.expanded,_))},!(0,Z.On)()&&o.createElement(O.cy,{isExpanded:_,isSelected:_,onClick:function(e){_||(0,h.bP)({entryPoint:c,agentName:null==r?void 0:r.name,identifier:null==r?void 0:r.id,subType:null==r?void 0:r.subType}),M(),e.stopPropagation()}}),o.createElement(w.Z,{isExpanded:_}))))},L=n(143046),_=n(776327),B=n(69150),F=n(264802),M=n(40513),j=n(590624),x=n(950568),H=n(923942),V=n(70808),U=function(e){var t=e.isExpanded,n=e.setIsExpanded,a=e.showInSidePanel,r=e.children,i=e.agentName,l=e.agentId,c=e.entryPoint,s=e.subType;return a?o.createElement(o.Fragment,null,r):o.createElement(V.Z,{fillHeight:!0,isExpanded:t,onToggle:function(){n(!t);var e={agentName:i,entryPoint:c,subType:s,identifier:l};t?(0,h.BN)(e):(0,h.A6)(e)},placement:"placement-left","data-tid":"agent-configuration-side-panel"},r)},K=n(403455),Y=n(289098),G=n(819082),z=n(193416),q=n(260554),W=n(694780),Q=n(871639),X=n(115861),J=n(364687),$=n.n(J),ee=n(950455),te=n(698607),ne=n(638859),ae=n(793866),re=n(215105),ie="codeYear",oe="egnyte.selectedFilesAndFolders",le="webSearch.selectedSources",ce=n(494090),se=n(532116);function ue(e){var t=e.isSelected,n=e.data,a=e.isMulti,r=void 0!==a&&a;return o.createElement(ce.Z,{onClick:c.noop,selected:t},o.createElement(ce.Z.Selection,{actionType:r?se.P.MULTI_SELECT:se.P.SINGLE_SELECT,name:n.label}),o.createElement(ce.Z.Content,null,o.createElement(ce.Z.Label,null,n.label)))}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=(0,E.nD)("codebookAgent.agentExecution.configuration"),pe=(0,m.Sh)({namespace:"copilot/agents/codebooks"}).showNotification;function fe(e){var t,n=e.setSourceSelectionDisabled,a=e.onFilterChange,r=e.areMetadataFiltersDisabled,l=e.showInSidePanel,s=void 0!==l&&l,u=(0,ne.Z)(),d=(0,o.useState)([]),p=(0,i.Z)(d,2),f=p[0],v=p[1],g=(0,o.useState)([]),b=(0,i.Z)(g,2),S=b[0],h=b[1],Z=(0,o.useState)([]),y=(0,i.Z)(Z,2),T=y[0],C=y[1],I=(0,K.u6)(),O=I.values,A=I.setFieldValue,P=(0,B.E)().hasConversationStarted,w=(0,ae.mm)().mutateAsync,N=(0,ae.dV)(),k=N.mutateAsync,R=N.isLoading,D=function(){var e=(0,X.Z)($().mark((function e(){var t,n,a,r,i,o,l,c=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.jurisdiction,a=t.initialLoad,r=void 0!==a&&a,i={jurisdiction:n},e.prev=2,e.next=5,k(i);case 5:if(o=e.sent,l=(0,W.X6)(o),u()){e.next=9;break}return e.abrupt("return");case 9:r&&(v(l.jurisdictionOptions),C(l.buildingTypeOptions)),h(l.yearOptions),r||l.yearOptions.find((function(e){return e.value===O.codeYear}))||A(ie,""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),pe(m.em.error,(0,E.t)("error.default"));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){r||D({initialLoad:!0})}),[r]);var L=function(){var e=(0,X.Z)($().mark((function e(t){var r,i,o,l,s,d;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.prevValues,i=t.nextValues,r){e.next=3;break}return e.abrupt("return");case 3:if(r.jurisdiction===i.jurisdiction&&r.codeYear===i.codeYear&&(0,c.isEqual)(r.buildingTypes,i.buildingTypes)){e.next=29;break}if(l={jurisdiction:i.jurisdiction||"",codeYear:i.codeYear||"",buildingTypes:(null===(o=i.buildingTypes)||void 0===o?void 0:o.map((function(e){return e.value})))||[]},sessionStorage.setItem(Q.jm,JSON.stringify(l)),i.jurisdiction){e.next=8;break}return e.abrupt("return");case 8:if(null==n||n(!0),e.prev=9,i.jurisdiction===r.jurisdiction){e.next=13;break}return e.next=13,D(l);case 13:return e.next=15,w(l);case 15:if(s=e.sent,u()){e.next=18;break}return e.abrupt("return");case 18:d=s.results.map((function(e){return me(me({},e),{},{type:H.Ss.FILE.toLowerCase()})})),A(oe,d),null==a||a(d),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),pe(m.em.error,(0,E.t)("error.default"));case 26:return e.prev=26,u()&&(null==n||n(!1)),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[9,23,26,29]])})));return function(t){return e.apply(this,arguments)}}(),_=null==O||null===(t=O.egnyte)||void 0===t?void 0:t.enabled,F=P||r||R||!_,M=F||!O.jurisdiction;return o.createElement(te.Z,{tooltip:Ee("metadataFiltersTooltip"),disabled:!r},o.createElement("div",null,o.createElement(G.Z,{name:"jurisdiction",type:G.Z.TYPES.SELECT,label:Ee("jurisdiction"),"aria-label":Ee("jurisdiction"),labelProps:{hasColon:!1,required:!0,disabled:F},control:function(e){var t=e.field;return o.createElement(ee.Z,{onChange:function(e){A(t.name,e),(0,re.v1)(s?H.eR.SIDEBAR:H.eR.COPILOT_HUB)},value:t.value,options:f,isDisabled:F,isSearchable:!0,renderOption:ue})}}),o.createElement(G.Z,{name:ie,type:G.Z.TYPES.SELECT,label:Ee("codeYear"),"aria-label":Ee("codeYear"),labelProps:{hasColon:!1,required:!0,disabled:M},control:function(e){var t=e.field;return o.createElement(te.Z,{tooltip:Ee("validationMessages.jurisdiction"),disabled:!_||!M},o.createElement(ee.Z,{onChange:function(e){A(t.name,e),(0,re.vb)(s?H.eR.SIDEBAR:H.eR.COPILOT_HUB)},value:t.value,options:S,isDisabled:M,"data-tid":"code-year-select",isSearchable:!0,renderOption:ue}))}}),o.createElement(G.Z,{name:"buildingTypes",type:G.Z.TYPES.SELECT,label:Ee("buildingTypes"),"aria-label":Ee("buildingTypes"),labelProps:{hasColon:!1,disabled:F},control:function(e){var t=e.field;return o.createElement(ee.Z,{onChange:function(e){A(t.name,e),(0,re.k9)(s?H.eR.SIDEBAR:H.eR.COPILOT_HUB)},value:t.value,options:T,isDisabled:F,hideSelectedOptions:!1,closeMenuOnSelect:!1,isMulti:!0,isSearchable:!0,renderOption:function(e){var t=e.data,n=e.isSelected;return o.createElement(ue,{isSelected:n,data:t,isMulti:!0})}})}}),o.createElement(q.Z,{onChange:L,runOnInit:!0})))}var ve=n(799532),ge=n(531081),be=n(782084),Se=n(962284),he=n(809742),Ze=n(579621),ye=n(610861),Te=n(354111),Ce=n(681680),Ie=n(576329);function Oe(e){var t=e.item,n=e.isSelected,a=e.onSelectionChange,r=e.disabled,i=void 0!==r&&r,l=e.disabledHint,c=void 0===l?"":l;return o.createElement(te.Z,{tooltip:i&&c},o.createElement("div",{className:"lT9IHw7y2vE65xp4E8_A"},o.createElement(Ie.Z,{checked:n,indeterminate:!1,disabled:i,onChange:function(e){e.stopPropagation(),a(t,e.target.checked)},onClick:function(e){return e.stopPropagation()},"data-tid":"file-checkbox","aria-label":"Select ".concat(t.name)})))}var Ae=n(499345),Pe=n(323063),we=n(162134),Ne=n(799756);function ke(e){var t=e.item,n=null==t?void 0:t.path.split("/").pop(),a=t.displayedName||t.name||n;return o.createElement("div",{className:"sDnfxtlEhonnHa44Wwaq"},o.createElement("span",{className:"K_GefqMfnk5xvyPqTk9l"},o.createElement(we.Z,{name:a,type:Pe.dt.FILE})),o.createElement("div",{className:"jZqWlsJHbmHoKctL7NS9"},o.createElement("span",null,o.createElement(Ne.Z,{maxLinesCount:1,trimWhitespace:!0},a)),o.createElement("span",{className:"TTLL4yZUUV91r6eDCq8L"},o.createElement(Ae.Z,null," ",t.path," "))))}var Re=(0,E.nD)("codebookAgent"),De=(0,E.nD)("codebookAgent"),Le=function(e){var t=e.selectedFiles,n=e.showLoader,a=e.allowedExtensions,r=void 0===a?[]:a,l=e.onSelectionChange,c=e.initialSelection,s=e.filteredSources,u=e.noFilterSelected,m=(0,o.useState)(""),E=(0,i.Z)(m,2),p=E[0],f=E[1],v=(0,o.useState)((function(){return c&&c.length>0?new Set(c.map((function(e){return e.entryId}))):new Set})),g=(0,i.Z)(v,2),b=g[0],S=g[1];(0,o.useEffect)((function(){var e=new Set((null==t?void 0:t.map((function(e){return e.entryId})))||[]);S(e)}),[t]);var h=(0,o.useMemo)((function(){return c&&0!==c.length?c.filter((function(e){return!r||0===r.length||e&&e.entryId})):[]}),[c,r]),Z=(0,o.useCallback)((function(e,t){var n=new Set(b);if(t?n.add(e.entryId):n.delete(e.entryId),S(n),l){var a=(null==c?void 0:c.filter((function(e){return n.has(e.entryId)})))||[];l(a)}}),[b,l,c]),y=function(e){var t=e.selectedFiles,n=void 0===t?new Set:t,a=e.onSelectionChange,r=e.noFilterSelected,i=new Set(e.filteredSources.map((function(e){return e.entryId})));return[{id:"selection",accessor:function(e){return e.entryId},width:20,minWidth:20,disableSortBy:!0,disableResizing:!0,Cell:function(e){var t=e.row,l=i.has(t.original.entryId),c=r||!l;return o.createElement(Oe,{item:t.original,isSelected:n.has(t.original.entryId),onSelectionChange:a,disabled:c,disabledHint:Re(r?"buildingCodeAnalystEgnyteSources.noFilterSelected":"buildingCodeAnalystEgnyteSources.fileNotInFilter")})}},{id:"name",Header:Re("suggestedFiles.columns.fileName"),enableSorting:!0,accessor:function(e){return e.name},width:200,minWidth:200,disableResizing:!0,Cell:function(e){var t=e.row;return o.createElement(ke,{item:t.original})}}]}({selectedFiles:b,onSelectionChange:Z,filteredSources:s,noFilterSelected:u}),T=(0,o.useCallback)((function(e){return e.id}),[]);return o.createElement("div",{"data-tid":"file-list",className:"PxCM4v2cNCZiAGqs05v2"},o.createElement("div",{className:"Y6Bbz9KoQvkGtNsJFTTs"},o.createElement(Ce.Z,{value:p,placeholder:De("suggestedFiles.searchPlaceholder"),onChange:function(e){return f(e.target.value)},onClear:function(){return f("")}})),n?o.createElement("div",{className:"VE6X3dGgF2sfY1byclOF"},o.createElement(d.Z,null)):0===h.length?o.createElement("div",{className:"AWVDDZQjcdJpZnvfuSGG"},De("suggestedFiles.noResults")):o.createElement("div",{className:"yoopipCzTjHHhvs19vdW"},o.createElement(Te.Z,{columns:y,data:h,getRowId:T,withCondensedView:!1,features:{sort:!0,pagination:!1,virtualList:!0},configuration:{withHeader:!0,withPagination:!1,withSelection:!1}})))},_e=(0,E.nD)("button.label"),Be=(0,E.nD)("codebookAgent.buildingCodeAnalystEgnyteSources");function Fe(e){var t=e.selectedFiles,n=e.originalFormValues,a=e.filteredSources,r=e.noFilterSelected,l=e.showLoader,c=e.onSelectionChange,s=(0,o.useState)(t),u=(0,i.Z)(s,2),d=u[0],m=u[1],E=function(){(0,ye.GZ)()};return(0,o.useEffect)((function(){m(t)}),[t]),o.createElement(o.Fragment,null,o.createElement(ye.ZP.Header,null,o.createElement(ye.ZP.Title,null,Be("title"))),o.createElement(ye.ZP.Body,null,o.createElement("div",null,o.createElement("div",{className:"l9pq9AlxwVIWJQlQXa7A di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},Be("subtitle")),o.createElement(ye.ZP.Subtitle,null,Be("description"))),o.createElement(Le,{selectedFiles:d,showLoader:l,allowedExtensions:Q.IG,onSelectionChange:function(e){return m(e)},initialSelection:n,filteredSources:a,noFilterSelected:r})),o.createElement(ye.ZP.Footer,null,o.createElement(Ze.Z,{type:Ze.Z.SECONDARY,onClick:E},_e("cancel")),o.createElement(Ze.Z,{onClick:function(){c(d),E()}},_e("save"))))}var Me=(0,E.nD)("codebookAgent.buildingCodeAnalystWebSources.columns");function je(e){var t=e.item,n=e.isSelected,a=e.onSelectionChange;return o.createElement("div",{className:"DsxyYmWNpRs0XBjtVq9_"},o.createElement(Ie.Z,{checked:n,indeterminate:!1,onChange:function(e){e.stopPropagation(),a(t,e.target.checked)},onClick:function(e){return e.stopPropagation()},"data-tid":"file-checkbox","aria-label":Me("selectItem",{item:t})}))}function xe(e){var t=e.item;return o.createElement("div",{className:"_3mOiMoEVcr6KjAC13GTN"},o.createElement("span",{className:"MKViG4agexmh_amYyYvj"},o.createElement(ve.Z,{icon:be.j,size:ve.Z.sizes.L})),o.createElement("div",{className:"_9k9PCbHdho4GaUokcnng"},o.createElement("span",{className:"BQOAQdxOBDU_q9eM2NTQ"},o.createElement(Ae.Z,null,t))))}var He=(0,E.nD)("codebookAgent.buildingCodeAnalystWebSources"),Ve=(0,E.nD)("codebookAgent.buildingCodeAnalystWebSources"),Ue=function(e){var t=e.selectedSources,n=e.originalSelectedSources,a=void 0===n?[]:n,r=e.onSelectionChange,l=(0,o.useState)(""),c=(0,i.Z)(l,2),s=c[0],u=c[1],d=(0,o.useMemo)((function(){return new Set(t)}),[t]),m=(0,o.useMemo)((function(){if(!s)return a.map((function(e){return{source:e}}));var e=s.toLowerCase();return a.filter((function(t){return t.toLowerCase().includes(e)})).map((function(e){return{source:e}}))}),[a,s]),E=(0,o.useCallback)((function(e,t){if(r){var n=new Set(d);t?n.add(e):n.delete(e);var i=a.filter((function(e){return n.has(e)}));r(i)}}),[r,a,d]),p=(0,o.useMemo)((function(){return function(e){var t=e.selectedItems,n=void 0===t?new Set:t,a=e.onSelectionChange;return[{id:"selection",accessor:function(e){return e.source},width:20,minWidth:20,disableSortBy:!0,disableResizing:!0,Cell:function(e){var t=e.row;return o.createElement(je,{item:t.original.source,isSelected:n.has(t.original.source),onSelectionChange:a})}},{id:"name",Header:He("columns.sourceName"),enableSorting:!0,accessor:function(e){return e.source},width:200,minWidth:200,disableResizing:!0,Cell:function(e){var t=e.row;return o.createElement(xe,{item:t.original.source})}}]}({selectedItems:d,onSelectionChange:E})}),[d,E]),f=(0,o.useCallback)((function(e){return e.source}),[]);return o.createElement("div",{"data-tid":"file-list",className:"GcsP6XkjGGzURQ06HOi7"},o.createElement("div",{className:"GGkWl5UFSbDpBB37msDh"},o.createElement(Ce.Z,{value:s,placeholder:Ve("searchPlaceholder"),onChange:function(e){return u(e.target.value)},onClear:function(){return u("")}})),m&&0!==m.length?o.createElement("div",{className:"eDLWc4efWiOjIPYXinrs","data-tid":"source-list"},o.createElement(Te.Z,{columns:p,data:m,getRowId:f,withCondensedView:!1,features:{sort:!0,stickyHeader:!0,pagination:!1},configuration:{withHeader:!0,withPagination:!1,withSelection:!1}})):o.createElement("div",{className:"l9KHaWMyGr2Ns0ckN4TF"},Ve("noResults")))},Ke=(0,E.nD)("button.label"),Ye=(0,E.nD)("codebookAgent.buildingCodeAnalystWebSources");function Ge(e){var t=e.selectedSources,n=e.originalSelectedSources,a=e.onSelectionChange,r=(0,o.useState)(t),l=(0,i.Z)(r,2),c=l[0],s=l[1],u=function(){(0,ye.GZ)()};return o.createElement(o.Fragment,null,o.createElement(ye.ZP.Header,null,o.createElement(ye.ZP.Title,null,Ye("title"))),o.createElement(ye.ZP.Body,null,o.createElement("div",null,o.createElement("div",{className:"JBnVBXPmeWTrTAt7lylC di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},Ye("subtitle")),o.createElement(ye.ZP.Subtitle,null,Ye("description"))),o.createElement(Ue,{selectedSources:c,originalSelectedSources:n,onSelectionChange:s})),o.createElement(ye.ZP.Footer,null,o.createElement(Ze.Z,{type:Ze.Z.SECONDARY,onClick:u},Ke("cancel")),o.createElement(Ze.Z,{onClick:function(){a(c),u()}},Ke("save"))))}var ze=n(197022),qe=n(620539);function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=(0,E.nD)("agents.agentCreation.form.fields"),Je=(0,E.nD)("agents.webSources.labels"),$e=(0,E.nD)("codebookAgent.agentExecution.configuration");function et(e){var t,n,a,r,l,c,s,u,d,m,p,f,v=e.originalSources,g=e.filteredSources,b=e.disabled,S=void 0!==b&&b,h=e.showInSidePanel,Z=void 0!==h&&h,y=e.agentData,T=(0,K.u6)(),C=T.values,I=T.setFieldValue,O=(0,o.useState)(!1),A=(0,i.Z)(O,2),P=A[0],w=A[1],N=null==C||null===(t=C.egnyte)||void 0===t?void 0:t.enabled,k=null==C||null===(n=C.webSearch)||void 0===n?void 0:n.enabled,R=!(null==y||null===(a=y.additionalFields)||void 0===a||!a.extractionFailed),D=(null==y?void 0:y.unprocessedPaths)&&(null==y||null===(r=y.unprocessedPaths)||void 0===r?void 0:r.length)>0,L=(null==C||null===(l=C.egnyte)||void 0===l?void 0:l.selectedFilesAndFolders)||[],_=null==C||null===(c=C.webSearch)||void 0===c?void 0:c.type,B=(null==C||null===(s=C.webSearch)||void 0===s?void 0:s.selectedSources)||[],F=new Set((null==y||null===(u=y.unprocessedPaths)||void 0===u?void 0:u.map((function(e){return e.entryId})))||[]),M=null==v||null===(d=v.egnyte)||void 0===d||null===(m=d.selectedFilesAndFolders)||void 0===m?void 0:m.filter((function(e){return!F.has(e.entryId)})),j=L.filter((function(e){return!F.has(e.entryId)}))||[],x=(0,o.useCallback)((function(e){var t,n,a,r,i=e.prevValues,o=e.nextValues,l=null==i||null===(t=i.egnyte)||void 0===t||null===(n=t.selectedFilesAndFolders)||void 0===n?void 0:n.length,c=null==o||null===(a=o.egnyte)||void 0===a||null===(r=a.selectedFilesAndFolders)||void 0===r?void 0:r.length;c<l?w(!0):c!==l&&P&&w(!1)}),[P]);return o.createElement("div",{className:"mSm22_7vPyWZaC06Ze8s"},P&&o.createElement(he.Z,{className:"sOtrDD6DWsgSy41G51ih",type:he.Z.types.INFO,fullWidth:!0},$e("deselectedAlert")),R&&o.createElement(ze.Z,{sidebarMode:Z}),D&&o.createElement(qe.Z,{agentData:y}),o.createElement("div",null,o.createElement(Y.Switch,{name:"egnyte.enabled","data-tid":"egnyte-switch",onChange:function(e){var t,n,a=e.target.checked;!a&&null!=C&&null!==(t=C.egnyte)&&void 0!==t&&t.enabled?I("egnyte.enabled",!1):(I("egnyte.enabled",a),I(oe,null==C||null===(n=C.egnyte)||void 0===n?void 0:n.selectedFilesAndFolders))},label:Xe("labels.egnyteSource.egnyte"),"aria-label":Xe("labels.egnyteSource.egnyte"),infoTooltip:(0,E.t)("codebookAgent.createCodebookAgent.egnyteSource.info"),disabled:S||!(null!=v&&null!==(p=v.egnyte)&&void 0!==p&&p.enabled)}),N&&o.createElement(Se.Z,{gap:1,alignItems:"center",marginLeft:4,paddingLeft:1},o.createElement(ve.Z,{icon:ge.vS,size:ve.Z.sizes.M}),$e("selectedFile",{count:j.length}),o.createElement(Ze.Z,{disabled:S,"data-tid":"egnyte-switch-edit",type:Ze.Z.TERTIARY,onClick:function(){!function(e){var t=e.selectedFiles,n=e.originalFormValues,a=e.filteredSources,r=e.noFilterSelected,i=e.showLoader,l=e.onSelectionChange;(0,ye.Ll)(o.createElement(Fe,{selectedFiles:t,originalFormValues:n,filteredSources:a,noFilterSelected:r,showLoader:i,onSelectionChange:l}),{onRequestClose:ye.GZ,size:ye.ZP.sizes.XL,withCloseButton:!0})}({selectedFiles:j,originalFormValues:M||[],filteredSources:g,noFilterSelected:!C.jurisdiction||!C.codeYear,showLoader:!1,onSelectionChange:function(e){var t=e.map((function(e){return Qe(Qe({},e),{},{type:H.Ss.FILE.toLowerCase()})}));I(oe,t)}}),(0,re._f)(Z?H.eR.SIDEBAR:H.eR.COPILOT_HUB)}},(0,E.t)("button.label.edit")))),o.createElement("div",null,o.createElement(Y.Switch,{name:"webSearch.enabled","data-tid":"web-search-switch",onChange:function(e){var t,n,a=e.target.checked;!a&&null!=C&&null!==(t=C.webSearch)&&void 0!==t&&t.enabled?I("webSearch.enabled",!1):(I("webSearch.enabled",a),I(le,null==C||null===(n=C.webSearch)||void 0===n?void 0:n.selectedSources))},label:Xe("labels.webSource.webSearch"),"aria-label":Xe("labels.webSource.webSearch"),infoTooltip:Xe("info.webSearch"),disabled:S||!(null!=v&&null!==(f=v.webSearch)&&void 0!==f&&f.enabled)}),k&&o.createElement(Se.Z,{gap:1,alignItems:"center",marginLeft:4,paddingLeft:1},_===H.D5.ALL?o.createElement(Se.Z,{alignItems:"center",marginTop:.5,gap:1},o.createElement(ve.Z,{icon:be.j,size:ve.Z.sizes.M}),o.createElement("span",null,Je("all"))):o.createElement(o.Fragment,null,o.createElement(ve.Z,{icon:be.j,size:ve.Z.sizes.M}),$e("selectedWebSource",{count:null==B?void 0:B.length}),o.createElement(Ze.Z,{disabled:S,"data-tid":"web-search-edit",type:Ze.Z.TERTIARY,onClick:function(){var e,t;!function(e){var t=e.selectedSources,n=e.originalSelectedSources,a=e.onSelectionChange;(0,ye.Ll)(o.createElement(Ge,{selectedSources:t,originalSelectedSources:n,onSelectionChange:a}),{onRequestClose:ye.GZ,size:ye.ZP.sizes.XL,withCloseButton:!0})}({selectedSources:(null==C||null===(e=C.webSearch)||void 0===e?void 0:e.selectedSources)||[],originalSelectedSources:(null==v||null===(t=v.webSearch)||void 0===t?void 0:t.selectedSources)||[],onSelectionChange:function(e){I(le,e)}}),(0,re.A3)(Z?H.eR.SIDEBAR:H.eR.COPILOT_HUB)}},(0,E.t)("button.label.edit"))))),o.createElement(q.Z,{onChange:x}))}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=(0,E.nD)("agents.agentExecution.configuration"),rt=(0,E.nD)("codebookAgent.agentExecution.configuration"),it=function(e){var t,n=e.agentData,a=e.showInSidePanel,r=(0,B.E)(),l=r.hasConversationStarted,s=r.currentConfiguration,u=r.setCurrentConfiguration,d=(0,o.useState)(!1),m=(0,i.Z)(d,2),E=m[0],p=m[1],f=(0,o.useState)([]),v=(0,i.Z)(f,2),g=v[0],b=v[1],S=(0,o.useMemo)((function(){return(0,x.HY)(n.paths||[],n.invalidPaths||[])}),[n.paths,n.invalidPaths]),h=(0,o.useMemo)((function(){return nt({jurisdiction:"",codeYear:"",buildingTypes:[]},S)}),[S]);(0,o.useEffect)((function(){var e=sessionStorage.getItem(Q.jm);if(e)try{var t=JSON.parse(e),n=t.jurisdiction,a=t.codeYear,r=t.buildingTypes;u(nt(nt({},h),{},{jurisdiction:n,codeYear:a,buildingTypes:(null==r?void 0:r.map((function(e){return{label:e,value:e}})))||[],isValid:!0,error:""}))}catch(e){sessionStorage.removeItem(Q.jm)}}),[u,h]);var Z=s||h,y=!(null!=S&&null!==(t=S.egnyte)&&void 0!==t&&t.enabled);return o.createElement(K.J9,{initialValues:Z,enableReinitialize:!0,onSubmit:c.noop},o.createElement(K.l0,null,o.createElement("div",{className:"jv2P_37eZRIUZAkNB4xp","data-tid":"codebooks-configuration"},o.createElement("div",{className:"sHvnsYj0f9pFEFjNaeXD Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",dangerouslySetInnerHTML:{__html:rt("subtitle")}}),o.createElement(fe,{setSourceSelectionDisabled:p,onFilterChange:b,areMetadataFiltersDisabled:y,showInSidePanel:a}),o.createElement(G.Z,{name:"sources",type:G.Z.TYPES.TEXTAREA,label:at("sources"),"aria-label":at("sources"),labelProps:{hasColon:!1,required:!0,bold:!0},control:function(){return o.createElement(et,{originalSources:S,filteredSources:g,disabled:E||l,showInSidePanel:a,agentData:n})}})),o.createElement(q.Z,{onChange:function(e){var t=e.nextValues,n=(0,W.OZ)(t),a=n.isValid,r=n.validationMessage;u(nt(nt({},t),{},{isValid:a,error:r}))},runOnInit:!0})))},ot=n(777814),lt=(0,E.nD)("button.label");function ct(e){var t=e.disabled,n=e.onReset;return o.createElement("div",{className:"mtishek8hYNeG1vg9eD9"},o.createElement(Ze.Z,{type:Ze.Z.TERTIARY,disabled:t,onClick:n},o.createElement(Ze.Z.Icon,{icon:ot.b}),(0,E.t)("button.label.resetToDefault")),o.createElement(Ze.Z,{disabled:t,htmlType:"submit"},lt("save")))}var st=n(735691),ut=(0,E.nD)("agents.deepResearch.configuration"),dt=n(379499),mt=function(e){var t=e.errorMessage;return o.createElement("div",{className:"NKWDaYV1CDPA7b9xOVHU"},o.createElement(ve.Z,{icon:dt.no,size:ve.Z.sizes.S}),o.createElement("div",{role:"alert","aria-label":t,className:"uZ_Bo71LIPhGdaoRChLV _ECQ7RA2eMt14uHOuLCz QspI3Sow0uF6jJWV3_4r cMD1Ln5gNqHc7P7v_G_6"},t))},Et="RXcw8PFOp6Ym8Wx7AUya Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6";function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=(0,E.nD)("agents.agentExecution.configuration"),gt=(0,E.nD)("agents.deepResearch"),bt=function(e){var t=e.showInSidePanel,n=e.goToAgent,a=e.agentData,r=(0,B.E)(),i=r.hasConversationStarted,l=r.setCurrentConfiguration,c=r.currentConfiguration,s=ft(ft({},(0,x.HY)([],(null==a?void 0:a.invalidPaths)||[])),{},{egnyte:{enabled:!0,type:H.EB.ALL}}),u=c||s,d=(0,o.useCallback)(function(){var e=(0,X.Z)($().mark((function e(t,n){var a,r,i,o,c,s,u,d,m,E,p,f,v,g,b,S;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=t.nextValues,e.next=3,n.validateForm(g);case 3:b=e.sent,S=0===Object.keys(b).length,l({isValid:S,error:(null==b?void 0:b.sources)||"",egnyte:{enabled:null===(a=g.sources)||void 0===a||null===(r=a.egnyte)||void 0===r?void 0:r.enabled,type:null===(i=g.sources)||void 0===i||null===(o=i.egnyte)||void 0===o?void 0:o.type,selectedFilesAndFolders:(null===(c=g.sources)||void 0===c||null===(s=c.egnyte)||void 0===s?void 0:s.selectedFilesAndFolders)||[]},webSearch:{enabled:null===(u=g.sources)||void 0===u||null===(d=u.webSearch)||void 0===d?void 0:d.enabled,selectedSources:null===(m=g.sources)||void 0===m||null===(E=m.webSearch)||void 0===E?void 0:E.selectedSources,type:null!==(p=g.sources)&&void 0!==p&&null!==(f=p.webSearch)&&void 0!==f&&null!==(v=f.selectedSources)&&void 0!==v&&v.length?H.D5.SELECTED:H.D5.ALL}});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[l]);return o.createElement(K.J9,{initialValues:{subType:H.AC.DEEP_RESEARCH_AGENT,sources:u},enableReinitialize:!0,validationSchema:st.Ry().shape({subType:st.Z_().min(2).max(128).required(),sources:st.Ry().shape({egnyte:st.Ry().shape({enabled:st.O7(),type:st.Z_(),selectedFilesAndFolders:st.IX().optional()}),webSearch:st.Ry().shape({enabled:st.O7(),type:st.Z_(),selectedSources:st.IX().optional()})}).test("at-least-one-source",ut("sources"),(function(e){var t,n,a=e;return Boolean((null==a||null===(t=a.egnyte)||void 0===t?void 0:t.enabled)||(null==a||null===(n=a.webSearch)||void 0===n?void 0:n.enabled))})).test("at-least-one-file-or-folder",ut("selectedFilesAndFolders"),(function(e){var t,n,a,r,i,o=e;return!(null!=o&&null!==(t=o.egnyte)&&void 0!==t&&t.enabled)||(null==o||null===(n=o.egnyte)||void 0===n?void 0:n.type)===H.EB.ALL||(null==o||null===(a=o.egnyte)||void 0===a?void 0:a.type)===H.EB.SELECTED&&(null===(r=(null==o||null===(i=o.egnyte)||void 0===i?void 0:i.selectedFilesAndFolders)||[])||void 0===r?void 0:r.length)>0})).test("at-least-one-web-source",ut("selectedWebSources"),(function(e){var t,n,a,r,i,o=e;return!(null!=o&&null!==(t=o.webSearch)&&void 0!==t&&t.enabled)||(null==o||null===(n=o.webSearch)||void 0===n?void 0:n.type)===H.D5.ALL||(null==o||null===(a=o.webSearch)||void 0===a?void 0:a.type)===H.D5.SELECTED&&(null===(r=(null==o||null===(i=o.webSearch)||void 0===i?void 0:i.selectedSources)||[])||void 0===r?void 0:r.length)>0}))}),onSubmit:function(){null==n||n()}},(function(e){var n=e.setFieldValue;return o.createElement(K.l0,null,o.createElement("div",{className:"WAoSQnRyQ_rNcrOjolUJ","data-tid":"deep-research-configuration"},o.createElement("div",{className:Et},gt("configuration.subTitle")),o.createElement("div",{className:Et},gt("additionalText")),o.createElement(G.Z,{name:"sources",type:G.Z.TYPES.TEXTAREA,label:vt("sources"),labelProps:{hasColon:!1},control:function(e){var a=e.error;return o.createElement(z.Z,{disabled:i},a&&o.createElement(mt,{errorMessage:a}),t&&o.createElement(ct,{disabled:i||!!a,onReset:function(){n("sources",s)}}))}})),o.createElement(q.Z,{onChange:d,runOnInit:!0}))}))},St=n(457688),ht=n(992939),Zt=n(360460),yt=n(787781),Tt=n(579099),Ct=n(557155),It=n(45596),Ot=(0,E.nD)("button.label"),At=(0,E.nD)("agents.extraction.configuration.filePickerModal");function Pt(e){var t=e.defaultFolder,n=void 0===t?"":t,a=e.onFilesSelection,r=e.onClose,l=(0,o.useState)(null),c=(0,i.Z)(l,2),s=c[0],u=c[1],d=!s;return o.createElement(o.Fragment,null,o.createElement(ye.ZP.Header,null,o.createElement(ye.ZP.Title,null,At("title")),o.createElement(ye.ZP.Subtitle,null,At("subtitle"))),o.createElement(ye.ZP.Body,null,o.createElement(It.Z,{defaultFolder:n?{path:n}:null,className:"z9eLtV0WszqEPhiRgqbe",isMultiple:!1,onChange:u,isValidFileEntry:function(e){return!!e.askPossible||!!e.isCopilotMultiSelectAllowed}})),o.createElement(ye.ZP.Footer,null,o.createElement(Ct.Z,{type:Ct.Z.SECONDARY,onClick:r},Ot("back")),o.createElement(Ct.Z,{onClick:function(){return a(s)},disabled:d},Ot("continue"))))}var wt=(0,E.nD)("agents.extraction");function Nt(e){var t,n,a=e.name,r=e.disabled,i=void 0!==r&&r,l=(0,Zt.A)().extractionInProgress,c=(0,K.u6)(),s=c.values,u=c.setFieldValue,d=s.selectedFile;(0,o.useEffect)((function(){l||u(a,{name:void 0})}),[l,a,u]);var m=(0,o.useCallback)((function(){var e;e={defaultFolder:null!=d&&d.path?yt.ZP.getParentPath(null==d?void 0:d.path):"",onFilesSelection:function(e){(0,ye.GZ)(),u(a,e)},onClose:ye.GZ},(0,ye.Ll)(o.createElement(Pt,e),{size:ye.ZP.sizes.XL})}),[a,d,u]);return o.createElement("div",{className:"saorb9oTWVao_4huD6FE"},o.createElement("div",{className:"VfKafcTbpteEZBm93Ihm"},(null==d?void 0:d.name)&&o.createElement(Tt.Z,{className:"hoWp1BiuISjoYYPEnszg",type:Pe.dt.FILE,name:null!==(t=null==d?void 0:d.name)&&void 0!==t?t:""}),o.createElement("div",{className:"TVwJrBUyPWWgwwur379Y"},o.createElement(Ae.Z,null,null!==(n=null==d?void 0:d.name)&&void 0!==n?n:""),o.createElement(Ae.Z,{className:"EIYSCFXRHFHQD7rcuQ_Q"},null!=d&&d.path?yt.ZP.getParentPath(null==d?void 0:d.path):"")),o.createElement(Ze.Z,{type:Ze.Z.SECONDARY,onClick:m,disabled:i},wt("configuration.selectButton"))))}function kt(e){var t=e.disabled,n=void 0!==t&&t;return o.createElement(G.Z,{name:"selectedFile",type:G.Z.TYPES.TEXTAREA,label:wt("configuration.fileToExtract"),"aria-label":wt("configuration.fileToExtract"),labelProps:{hasColon:!1,required:!0},control:function(e){var t=e.field;return o.createElement(Nt,{name:t.name,disabled:n})}})}var Rt=n(487462),Dt=n(356123),Lt=n(760866),_t=n(890851),Bt=n(246714),Ft=n(559090),Mt=(0,E.nD)("agents.extraction.configuration");function jt(e){var t,n=e.disabled,a=void 0!==n&&n,r=(0,K.u6)(),i=r.values,l=r.setFieldValue,c=null==i?void 0:i.namespace,s=null!==(t=null==c?void 0:c.properties)&&void 0!==t?t:[],u=(0,Bt.C)(),d=u.isLoading,m=u.getAllNamespaces,E=(0,o.useMemo)((function(){return d?[]:m({scope:_t.Wj.PUBLIC}).filter((function(e){return!e.schemaSystemGenerated})).map((function(e){var t=e.name;return{label:e.displayName||t,value:t}})).sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())}))}),[d,m]),p=(0,o.useCallback)((function(e){var t=m({scope:_t.Wj.PUBLIC}).find((function(t){return t.name===e}));l("namespace",t)}),[l,m]);return o.createElement("div",null,o.createElement(G.Z,{name:"namespace.name",type:G.Z.TYPES.SELECT,label:Mt("metadataSection"),"aria-label":Mt("metadataSection"),labelProps:{hasColon:!1,required:!0},control:function(e){var t=e.field;return o.createElement(ee.Z,{onChange:p,options:E,value:t.value,isLoading:d,isDisabled:a,isSearchable:!0})}}),null!=s&&s.length?o.createElement("div",{className:"KbMCJeMhEtudW07YC8np"},o.createElement("div",null,Mt("metadataProperties")),o.createElement("div",(0,Rt.default)({className:"LxOwsUmtYuWL4g4goFwB"},Ft.Z),o.createElement(Dt.Z,{renderViewMoreText:function(e){var t=e.count;return Mt("metadataNamespace.viewMoreText",{count:t})},viewLessText:Mt("metadataNamespace.viewLessText")},s.map((function(e){var t=e.name,n=e.displayName;return o.createElement(Lt.Z,{key:t,label:n||t,options:[],renderOptionsCountText:function(e){var t=e.count;return Mt("metadataNamespace.optionsCountText",{count:t})}})}))))):null)}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=(0,E.nD)("agents.extraction"),Ut=function(e){var t=e.goToAgent,n=e.agentData,a=(0,B.E)(),r=a.hasConversationStarted,i=a.currentConfiguration,l=a.setCurrentConfiguration,c=(0,Zt.A)().extractionInProgress,s=Ht({selectedFile:{name:void 0},namespace:{name:void 0,displayName:"",properties:[]}},(0,o.useMemo)((function(){return(0,x.HY)([],n.invalidPaths||[])}),[n.invalidPaths])),u=i||s;return o.createElement(K.J9,{initialValues:Ht({subType:H.AC.EXTRACTION_AGENT},u),enableReinitialize:!0,onSubmit:function(){return null==t?void 0:t()}},o.createElement(K.l0,null,o.createElement("div",{className:"op3grRA6rGdGLR4clLCI","data-tid":"extraction-configuration"},o.createElement("div",{className:"QEt49E9xjO3OqdTzLcnI Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},Vt("configuration.subTitle")),o.createElement(jt,{disabled:r||c}),o.createElement(kt,{disabled:r||c}),o.createElement(Ze.Z,{onClick:function(){(0,ht.Q)(!0),(0,Zt.U)(!0)},disabled:!(null!=i&&i.isValid)||r||c},Vt("configuration.extractButton"))),o.createElement(q.Z,{onChange:function(e){var t=e.nextValues,n=(0,St.OZ)(t),a=n.isValid,r=n.validationMessage;l(Ht(Ht({},t),{},{isValid:a,error:r}))},runOnInit:!0})))},Kt=(0,E.nD)("agents.agentExecution.configuration"),Yt=function(e){var t,n,r=(0,j.Z)().aiAgentsSourceSelectorFeatureEnabled,i=e.showInSidePanel,l=void 0!==i&&i,c=e.isHidden,s=e.goToAgent,u=e.agentData,d=(0,B.E)().setCurrentConfiguration,m=u||{},E=m.subType,p=m.instruction,f=m.paths,g=void 0===f?[]:f,b=m.invalidPaths,S=void 0===b?[]:b,h=(null==u?void 0:u.subType)===H.AC.USER_DEFINED,Z=!r||!h;return n=E===H.AC.DEEP_RESEARCH_AGENT?o.createElement(bt,{showInSidePanel:l,goToAgent:s,agentData:u}):E===H.AC.EXTRACTION_AGENT?o.createElement(Ut,{goToAgent:s,agentData:u}):E===H.AC.CODEBOOKS_AGENT?o.createElement(it,{agentData:u,showInSidePanel:l}):o.createElement(K.J9,{initialValues:{instruction:p,subType:E,sources:(0,x.HY)(g,S)},enableReinitialize:!0,onSubmit:F.Z},o.createElement(K.l0,null,o.createElement(Y.Textarea,{name:"instruction",label:Kt("instructions"),rows:7,disabled:!0}),Z&&o.createElement(G.Z,{name:"sources",type:G.Z.TYPES.TEXTAREA,label:Kt("sources"),labelProps:{hasColon:!1},control:function(){return o.createElement(z.Z,{disabled:!0})}}))),(0,o.useEffect)((function(){return function(){l&&d(null)}}),[d,u.id,l]),o.createElement("div",{"data-tid":"configuration-switcher",className:v()("DUZd187NgU_JiNMRFzab",(t={},(0,a.Z)(t,"ovkkCu6wekhFPxc5ClQA",l),(0,a.Z)(t,"pUf80CdYwunVPyJcfTrN",!l),(0,a.Z)(t,"h0crCtNUpkz18BCXcIh7",c),t))},n)},Gt=n(987927),zt=n(821442),qt=n(140816),Wt=n(296924),Qt=n(153672),Xt=n(338637),Jt=n(264928),$t=n(723789),en=n(594185);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=(0,E.nD)("agents");function rn(e){var t,n=e.selectedAgent,a=(0,Qt.ZP)().data,r=a.user.id,i=!((0,Wt.GJ)(a)||r===(null===(t=n.createdByUser)||void 0===t?void 0:t.userId)),l=function(e){(0,Jt.c4)("".concat(Xt._j.AGENTS).concat(e))};return o.createElement(qt.E,{direction:"column",alignItems:"flex-start",gap:1},an("invalidSource.tooltip",{context:n.sourcesStatus}),!i&&o.createElement(zt.Z,{onClick:function(){(0,en.z)(nn(nn({},(0,$t.s5)(n)),{},{sourcesStatus:n.sourcesStatus,invalidPaths:n.invalidPaths,entryPoint:H.eR.INVALID_SOURCES_ALERT,onNavigateToAgent:l})),(0,h.I4)({agentName:n.name,identifier:n.id,entryPoint:H.eR.INVALID_SOURCES_ALERT,subType:n.subType})}},an("invalidSource.reconfigure")))}function on(e){var t=e.agentData;return o.createElement("div",{className:"nQBAecL9YdWxXGTF3EZA"},o.createElement(he.Z,{className:"y0sZ3jf4l87cCF9PAFto",type:t.sourcesStatus===L.e3.INVALID?he.Z.types.ERROR:he.Z.types.WARN,fullWidth:!0},o.createElement(rn,{selectedAgent:t})))}var ln=n(4845),cn=n(621465),sn=n(723417),un=n(779210),dn=n(367283),mn=n(337995),En=n(583025),pn=function(e){var t=e.agentList,n=e.onAgentSelect,r=e.selectedAgent,i=e.showHistoryInHeader,l=void 0!==i&&i;return o.createElement("div",{className:v()("Em_7VIg9rqG_DQwXJwhN",(0,a.Z)({},"KYO5n_6I5_jCuXqJMxdF",l))},o.createElement(un.Z,{trigger:o.createElement(dn.Z,{className:"iJGFl_zxtmmc8G1rHAWV DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR","aria-label":"Select Agent","data-tid":"select-agent"},o.createElement(Ae.Z,{maxLength:64,tooltip:null==r?void 0:r.name},null==r?void 0:r.name))},o.createElement(mn.Z,{className:"zkz70tcg_V49uxwRYGqx"},null==t?void 0:t.map((function(e){var t=e.id===(null==r?void 0:r.id);return o.createElement(En.Z,{key:e.id,onClick:function(){null==n||n(e)},checked:t},o.createElement(Ae.Z,{tooltip:null==e?void 0:e.name},null==e?void 0:e.name))})))))},fn=function(e){var t=e.onBack,n=e.selectedAgent,a=e.agentDropdownValues,r=void 0===a?[]:a,i=e.handleAgentSelect,l=e.onNewChatClick,c=e.onHistoryTabClick,s=e.sidebarExpanded,u=void 0!==s&&s,d=(0,Z.On)();return o.createElement("header",{className:"ifkLgef1h6frYjiCBNNj","data-tid":"agent-header"},o.createElement(ln.Z,{icon:cn.Mn,size:ln.Z.sizes.MEDIUM,onClick:t,type:ln.Z.GHOSTED,"aria-label":"Back"}),o.createElement(pn,{agentList:r,onAgentSelect:i,selectedAgent:n,showHistoryInHeader:d}),d&&c&&o.createElement(O.cy,{isExpanded:u,isSelected:u,onClick:c}),o.createElement(sn.Z,{disableTooltip:!0,showButtonLabel:!0,onClick:l}))};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn=(0,m.Sh)({namespace:"copilot/agents"}).showNotification;function Sn(e){var t,n,a,s,f=e.showInSidePanel,v=e.selectedAgentSidePanel,g=e.conversationId,b=e.executionId,S=e.isConfigurationView,y=e.navigateToAgent,T=e.onClearChat,C=e.agentId,I=e.goToAgent,O=e.handleBack,A=void 0===O?F.Z:O,P=(0,l.UO)(),w=f?"":null!==(t=(null==P?void 0:P.id)||C)&&void 0!==t?t:"",N=(0,j.Z)().aiAgentsSourceSelectorFeatureEnabled,k=(0,B.E)(),R=k.currentConfiguration,V=k.setHasConversationStarted,K=k.setCurrentConfiguration,Y=(0,o.useState)(!1),G=(0,i.Z)(Y,2),z=G[0],q=G[1],W=(0,o.useState)({}),Q=(0,i.Z)(W,2),X=Q[0],J=Q[1],$=(0,o.useState)(g||null),ee=(0,i.Z)($,2),te=ee[0],ne=ee[1],ae=(0,o.useState)(!1),re=(0,i.Z)(ae,2),ie=re[0],oe=re[1],le=(0,o.useState)(b||null),ce=(0,i.Z)(le,2),se=ce[0],ue=ce[1],de=(0,o.useState)([]),me=(0,i.Z)(de,2),Ee=me[0],pe=me[1],fe=(0,o.useState)((0,c.uniqueId)("chatbot-")),ve=(0,i.Z)(fe,2),ge=ve[0],be=ve[1],Se=(0,o.useState)(v||null),he=(0,i.Z)(Se,2),Ze=he[0],ye=he[1],Te=(0,o.useState)(!1),Ce=(0,i.Z)(Te,2),Ie=Ce[0],Oe=Ce[1],Ae=(null===(n=window.location.hash)||void 0===n?void 0:n.split("?")[1])||"",Pe=u().parse(Ae),we=Pe.executionId,Ne=Pe.conversationId,ke=(0,Z.On)(),Re=[L.e3.INVALID,L.e3.PARTIAL_INVALID].includes(null==Ze?void 0:Ze.sourcesStatus),De=[H.AC.CODEBOOKS_AGENT,H.AC.DEEP_RESEARCH_AGENT,H.AC.EXTRACTION_AGENT],Le=(0,p.ye)({includePlaceholderData:!0,includeProcessingStatistics:!0},{refetchOnWindowFocus:!1,onSuccess:function(e){var t,n=null==e||null===(t=e.content)||void 0===t?void 0:t.find((function(e){return e.id===w}));n&&(ye(n),De.includes(n.subType)&&q(!0))},onError:function(){bn(m.em.error,(0,E.t)("error.default"))},enabled:!f&&0===Object.keys(X).length}),_e=Le.data,Be=Le.isFetching,Fe=null!==(a=null==_e||null===(s=_e.content)||void 0===s?void 0:s.filter((function(e){return e.status===H.xx.ACTIVE})))&&void 0!==a?a:[],Me=(null==Ze?void 0:Ze.subType)===H.AC.DEEP_RESEARCH_AGENT,je=(null==Ze?void 0:Ze.subType)===H.AC.CODEBOOKS_AGENT,xe=(null==Ze?void 0:Ze.subType)===H.AC.EXTRACTION_AGENT,He=(0,p.hE)(null==Ze?void 0:Ze.id,te,{enabled:!(null==Ze||!Ze.id)&&!!te&&ie,retry:!1,onSuccess:function(e){var t;if(null!=e&&null!==(t=e.history)&&void 0!==t&&t.length){var n=(0,x.XQ)(e.history,null==Ze?void 0:Ze.subType);if(Me){var a,i=e.selectedItems,o=(null==i||null===(a=i.includedWebUrls)||void 0===a?void 0:a.map((function(e){return e.url})))||[],l=(null==i?void 0:i.files)||[],c=(null==i?void 0:i.folders)||[],s=[].concat((0,r.Z)(l),(0,r.Z)(c)).map((function(e){return gn(gn({},e),{},{type:e.entryId?M.jJ.FILE:M.jJ.FOLDER})}));K({isValid:!0,error:"",egnyte:{enabled:!(null==i||!i.allEgnyteSearch)||(null==s?void 0:s.length)>0,type:null!=i&&i.allEgnyteSearch?H.EB.ALL:H.EB.SELECTED,selectedFilesAndFolders:s},webSearch:{enabled:!(null==i||!i.webSearch),selectedSources:(null==o?void 0:o.length)>0?o:void 0,type:(null==o?void 0:o.length)>0?H.D5.SELECTED:H.D5.ALL}})}if(je){var u,d=e.selectedItems,m=(null==d||null===(u=d.agentExecutionFilterItems)||void 0===u?void 0:u.codebooksAgentExecutionFilterItems)||{},E=m.jurisdiction,p=m.codeYear,f=m.buildingTypes;K(gn(gn({},R),{},{jurisdiction:E,codeYear:p,buildingTypes:(null==f?void 0:f.map((function(e){return{label:e,value:e}})))||[],isValid:!0,error:""}))}pe(n),oe(!1)}},onError:function(){oe(!1),bn(m.em.error,(0,E.t)("error.default"))}}).isFetching,Ve=(0,o.useCallback)((function(e){Oe((function(e){return!e})),Ie||(0,h.bP)({entryPoint:H.eR.COPILOT_HUB,agentName:null==Ze?void 0:Ze.name,identifier:null==Ze?void 0:Ze.id,subType:null==Ze?void 0:Ze.subType}),e.stopPropagation()}),[Ie,null==Ze?void 0:Ze.name,null==Ze?void 0:Ze.id,null==Ze?void 0:Ze.subType]),Ue=(0,o.useCallback)((function(){be((0,c.uniqueId)("chatbot-")),ue(null),ne(null),pe([]),oe(!1),K(null),null==T||T()}),[T,K]);if((0,o.useEffect)((function(){null!=Ze&&Ze.id&&Ze.id!==(null==v?void 0:v.id)&&Ue(),v&&ye(v)}),[v,Ue]),(0,o.useEffect)((function(){return _.ZP.on(_.ZP.Events.Chatbot.NEW_CHAT,Ue),function(){_.ZP.off(_.ZP.Events.Chatbot.NEW_CHAT,Ue)}}),[Ue]),(0,o.useEffect)((function(){g&&oe(!0)}),[g]),(0,o.useEffect)((function(){if(we){var e,t=null==_e||null===(e=_e.content)||void 0===e?void 0:e.filter((function(e){return e.id===w}))[0];t&&(ye(t),ue(we),(null==t?void 0:t.subType)===H.AC.DEEP_RESEARCH_AGENT&&V(!0))}}),[null==_e?void 0:_e.content,we,w,V]),(0,o.useEffect)((function(){Ne&&(ne(Ne),oe(!0))}),[Ne]),(0,o.useEffect)((function(){!f&&Re&&bn((null==Ze?void 0:Ze.sourcesStatus)===L.e3.INVALID?m.em.error:m.em.warn,o.createElement(rn,{selectedAgent:Ze}))}),[Ze,Re,f]),Be)return o.createElement("div",{className:"grtAGe51sMnhZOoTbIEB"},o.createElement(d.Z,null));var Ke=!f||f&&S,Ye=!f||f&&!S;return o.createElement("div",{className:"zRJqmPPBjITMHTqpBFDK","data-tid":"agent-execution"},o.createElement("div",{className:"qOpR4CkVbm8A4uMresIz"},o.createElement("div",{className:"sK2Mye_fsVWnNms0Ss4g"},!f&&o.createElement(fn,{onBack:A,onNewChatClick:function(){(0,h.K3)({agentName:null==Ze?void 0:Ze.name,identifier:null==Ze?void 0:Ze.id,entryPoint:H.eR.COPILOT_HUB,subType:null==Ze?void 0:Ze.subType}),!Me||z||f||q(!0),Ue()},handleAgentSelect:function(e){Ue(),e.id!==(null==Ze?void 0:Ze.id)&&(null==y||y(e.id)),J(e),ye(e),e.subType===H.AC.DEEP_RESEARCH_AGENT&&q(!0)},selectedAgent:Ze,agentDropdownValues:Ze?Fe:[],onHistoryTabClick:Ve,sidebarExpanded:Ie}),f&&Re&&o.createElement(on,{agentData:Ze}),o.createElement("div",{className:"AETbAZivxk971SyzBuRs"},!(N&&Me)&&o.createElement(U,{isExpanded:z,setIsExpanded:q,showInSidePanel:f,agentName:null==Ze?void 0:Ze.name,agentId:null==Ze?void 0:Ze.id,entryPoint:f?H.eR.SIDEBAR:H.eR.COPILOT_HUB,subType:null==Ze?void 0:Ze.subType},o.createElement(Yt,{agentData:Ze,isHidden:!Ke,goToAgent:I,showInSidePanel:f})),o.createElement(Gt.Z,{key:ge,agentData:Ze,isLoading:He,history:Ee,conversationId:te,executionId:se,isHidden:!Ye,sidebarMode:f,toggleConfiguration:f?F.Z:q})))),!f&&(!ke||Ie)&&!xe&&o.createElement(D,{onConversationAction:function(e){ne(e.original.id),oe(!0),Me&&z&&!f&&q(!1),Me&&V(!0)},selectedAgent:Ze,entryPoint:H.eR.COPILOT_HUB,isExpanded:Ie,onExpandedChange:Oe}))}},166139:function(e,t,n){n.d(t,{Ch:function(){return E},MM:function(){return m},ae:function(){return d},xP:function(){return u}});var a=n(601714),r=n(461498),i=n(158274),o=n(762074),l=n(338637),c=n(143046),s=(0,o.nD)("copilotHub"),u=function(e){var t=e.egnyteCopilot,n=e.list,a=void 0===n?[]:n,i=e.knowledgeBaseId,o=e.isCodebookAgent,l=void 0!==o&&o,s=e.isSmartAppCodebooksEnabled,u=void 0!==s&&s;if(!i&&!a.length)return{filteredData:[]};var d=a.filter((function(e){return l?[r.YN.ACTIVE].includes(e.status)&&e.subType===c.Tn.CODEBOOKS_AGENT:u?[r.YN.ACTIVE].includes(e.status)&&e.subType!==c.Tn.CODEBOOKS_AGENT:[r.YN.ACTIVE].includes(e.status)})),m=null==d?void 0:d.find((function(e){return e.kbaId.id===i}));return t&&i===t.id&&(m=t),{filteredData:d,selectedKnowledgeBase:m}},d=function(e){var t=e.path,n=e.id;return t?t==="/".concat(l.H$):!!n&&n===i.eB},m=function(){var e=s("description.default"),t=s("description.sng");return a.Z.isAdmin()&&a.Z.isUserAllowedToAccessProtect()?[e,"\n\n",t]:[e]},E=function(e){var t=e.path;return!!t&&t.startsWith("/".concat(l._j.CODEBOOK_AGENTS))}},817208:function(e,t,n){var a=n(667294),r=n(583025),i=n(713147),o=n(158274),l=n(762074),c=n(276141),s=n(125085),u=(0,l.nD)("knowledgeBaseAssistant.dropdown");t.Z=function(e){var t=e.handleSelect,n=(0,c.U)(),l=n.selectedKba,d=n.globalCopilotData;return a.createElement(a.Fragment,null,a.createElement(r.Z,{key:"egnyte-copilot",className:s.Z.item,onClick:function(){return t(d)},checked:(null==l?void 0:l.id)===o.eB},u("egnyteCopilot")),a.createElement(i.Z,null))}},625450:function(e,t,n){n.d(t,{Z:function(){return le}});var a=n(529439),r=n(204942),i=n(667294),o=n(294184),l=n.n(o),c=n(354111),s=n(221752),u=n(833331),d=n(85946),m=n(487462),E=n(115861),p=n(145987),f=n(364687),v=n.n(f),g=n(555492),b=n(535801),S=n(762074),h=n(994295),Z=n(225364),y=n(397404),T=n(154177),C=n(4845),I=n(698607);function O(e){var t=e.handleClick,n=e.tooltipText,a=e.btnText,r=e.icon;return i.createElement(I.Z,{tooltip:n},i.createElement(C.Z,{onClick:t,type:C.Z.OUTLINED,"aria-label":a,icon:r}))}var A=n(610861),P=n(579621),w=n(80373),N=(0,S.nD)("knowledgeBaseAssistant.conversation");function k(e){var t=e.onClose,n=e.onConfirm;return i.createElement(w.Z,{onCancel:t,onConfirm:function(){n({onClose:t})},confirmButtonVariant:P.Z.variants.DESTRUCTIVE,messages:{title:N("delete.title"),body:i.createElement("span",null,N("delete.info")),cancel:(0,S.t)("button.label.cancel"),confirm:N("delete.delete")}})}var R=["children","row","configuration"],D=(0,S.nD)("knowledgeBaseAssistant.conversation.delete");function L(e){var t=e.children,n=e.row,a=e.configuration,r=(0,p.Z)(e,R),o=(0,s.j1)().mutate,l=(0,g.Z)(),c=l.isHovered,u=l.hoverProps,d=function(){var e=(0,E.Z)(v().mark((function e(t){var i,l,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.onClose,null==a||null===(i=a.mixPanelEventActions)||void 0===i||null===(l=i.logConversationHistoryDeleteConfirmed)||void 0===l||l.call(i),e.next=4,o({id:a.knowledgeBaseId,conversationId:n.original.id},{onSuccess:function(){var e,t;(0,y.c0)(y.em.success,D("notification.success")),c(),null==r||null===(e=(t=r).resetSelection)||void 0===e||e.call(t)},onError:function(e){if((0,T.k0)(e)){var t=(0,T.e$)(e,"");t&&(0,y.c0)(y.em.error,t)}else(0,y.c0)(y.em.error,D("notification.generalError"))}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=(null==a?void 0:a.selected)===n.original.id,C=f?{}:u;return i.createElement(b.X2,(0,m.default)({row:n},C,{configuration:a},r),t,c&&!f&&i.createElement(b.FK,null,i.createElement(O,{handleClick:function(e){var t,r;a.handleRename(n.original.id),null==a||null===(t=a.mixPanelEventActions)||void 0===t||null===(r=t.logConversationHistoryRenameClicked)||void 0===r||r.call(t),e.stopPropagation()},btnText:(0,S.t)("button.label.rename"),icon:h.fL,tooltipText:(0,S.t)("button.label.rename")}),i.createElement(O,{handleClick:function(e){var t,n;null==a||null===(t=a.mixPanelEventActions)||void 0===t||null===(n=t.logConversationHistoryDeleteClicked)||void 0===n||n.call(t),function(e){var t=e.onConfirm;(0,A.h7)(i.createElement(k,{onClose:A.Mr,onConfirm:t}),{onRequestClose:A.Mr})}({onConfirm:d}),e.stopPropagation()},btnText:(0,S.t)("button.label.delete"),icon:Z.gt,tooltipText:(0,S.t)("button.label.delete")})))}var _=(0,i.memo)(L),B=n(727484),F=n.n(B),M=n(499345),j=n(799532),x=n(947124),H=n(119179),V=n(247953),U=n(105171),K=n(379828),Y=n(6587),G=(0,S.nD)("knowledgeBaseAssistant.conversation"),z=function(e){var t=e.value,n=e.handleChange,a=e.handleKeyDown,r=e.handleClose;return i.createElement("div",{className:"mQc98BgHRJAnAdk0iNrR"},i.createElement("div",{className:"MMibfKvANlCmqD6u2iQe"},i.createElement(Y.Z,{type:"text",onChange:n,value:t,onKeyDown:a,autoFocus:!0,"data-tid":"rename-title"})),i.createElement(I.Z,{tooltip:G("rename.label")},i.createElement(j.Z,{className:"_9Q80_7POpShjPXO7s3FY",size:j.Z.sizes.M,"aria-label":G("rename.label"),icon:K.H,onClick:r})))},q=n(531081),W=n(603954),Q=(0,S.nD)("knowledgeBaseAssistant.conversation.multiSelection");function X(e){var t=e.selectedItems,n=e.showIcon;if(!t||void 0!==n&&!n)return null;var a=(0,W.RA)({selectedItems:t}),r=a.context,o=a.name,l=a.count;return i.createElement(I.Z,{tooltip:Q("tooltip",{context:r,name:i.createElement(J,{text:o}),itemCount:i.createElement(J,{text:l})})},i.createElement("span",{"data-tid":"conversation-icon"},i.createElement(j.Z,{icon:q.vS,size:j.Z.sizes.M,className:"Cjb1Zs5S3kn_TRej79t3"})))}function J(e){var t=e.text;return i.createElement("span",{className:"X9JdX6_xR1QmAzZD2meR gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},t)}var $=["value","row"],ee=(0,S.nD)("knowledgeBaseAssistant"),te=n(124333),ne=(0,S.nD)("knowledgeBaseAssistant.conversation"),ae=function(){return i.createElement("div",{className:"tvOdBFE3W_YBkdjfYPeQ"},i.createElement(te.Z,{illustration:"up-to-date"},i.createElement(te.Z.Heading,null,ne("empty.heading")),i.createElement(te.Z.Description,null,ne("empty.description"))))},re=n(267807);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var oe=[{accessor:"title",Cell:function(e){var t=e.value,n=e.row,r=(0,p.Z)(e,$),o=(0,s.z0)().mutate,l=(0,i.useState)(t),c=(0,a.Z)(l,2),u=c[0],d=c[1],m=n.original,f=m.selectedItems,g=m.askRequestType,b=function(e){var t,n;null==e||e.stopPropagation(),null==r||null===(t=(n=r).resetSelection)||void 0===t||t.call(n)},S=function(){var e=(0,E.Z)(v().mark((function e(){var t,a,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={conversationId:n.original.id,id:r.knowledgeBaseId,title:u||ee("conversation.untitled")},null==r||null===(t=r.mixPanelEventActions)||void 0===t||null===(a=t.logConversationHistoryRenameSaved)||void 0===a||a.call(t),e.next=4,o(i,{onSuccess:function(){var e,t;null==r||null===(e=(t=r).resetSelection)||void 0===e||e.call(t)},onError:function(e){if((0,T.k0)(e)){var t,n=(0,T.lt)(e),a=(0,T.e$)(e,""),r=null!=n&&null!==(t=n.title)&&void 0!==t&&t.length?"".concat(ee("conversation.rename.title"),": ").concat(null==n?void 0:n.title):a;(0,y.c0)(y.em.error,r)}else(0,y.c0)(y.em.error,ee("conversation.rename.genericError"))}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(r.selected===n.original.id)return i.createElement(z,{value:u,handleChange:function(e){e.stopPropagation(),d(e.target.value)},handleClose:b,handleKeyDown:function(e){e.stopPropagation(),e.key===V.U.ENTER?S():e.key===V.U.ESC&&b()}});var h=g!==U.J1.AGENT&&!(f&&f.allEgnyteSearch&&0===f.files.length&&0===f.folders.length);return i.createElement("div",{className:"hOViTAu2xnNlk4WkrfNA"},i.createElement("div",null,i.createElement(X,{showIcon:h,selectedItems:n.original.selectedItems})),i.createElement("div",{className:"PH3th1cMqTR75WKBzBWx"},i.createElement(M.Z,{tooltip:t},t)))},minWidth:200,maxWidth:240},{accessor:"lastModifiedAt",Cell:function(e){var t=e.value,n=F()(t).fromNow();return i.createElement("div",{className:"XR8hv0sbbVRJK7JhFrAF"},i.createElement(j.Z,{icon:x.bd,size:j.Z.sizes.M}),i.createElement(M.Z,{forceShowTooltip:!0,tooltip:(0,H.jQ)(t)},n))},minWidth:80,maxWidth:110}],le=function(e){var t,n=e.knowledgeBaseId,o=e.onConversationSelect,m=e.isAgent,E=e.agentName,p=e.entryPoint,f=e.agentSubType,v=(0,s.ku)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({enabled:!0},u.S)),g=v.data,b=v.isLoading,S=v.isFetching,h=v.isError,Z=(0,i.useState)(null),y=(0,a.Z)(Z,2),T=y[0],C=y[1],I=(0,i.useRef)(),O=null!==(t=null==g?void 0:g.conversations)&&void 0!==t?t:[],A=!h&&!b&&!S&&0===O.length,P=function(e){T!==e.original.id&&(m?(0,d.tj)({agentName:E,identifier:n,entryPoint:p,subType:f}):(0,re.q6)(),o(e))},w={agentName:E,identifier:n,entryPoint:p,subType:f},N={logConversationHistoryDeleteClicked:m?function(){return(0,d.Ms)(w)}:re.UQ,logConversationHistoryDeleteConfirmed:m?function(){return(0,d.AG)(w)}:re.f3,logConversationHistoryRenameClicked:m?function(){return(0,d.GZ)(w)}:re.T6,logConversationHistoryRenameSaved:m?function(){return(0,d.d6)(w)}:re.G0};return i.createElement("div",{className:l()("RV4tCO8Te74mXBfdL54P",(0,r.Z)({},"WRHlTN7HrvR6VqkijOxQ",A)),"data-tid":"conversation-list"},i.createElement(c.Z,{ref:I,name:"knowledgeBase:conversation",isLoading:b||S,noData:i.createElement(ae,null),columns:oe,isEmpty:A,data:O,manualSortBy:!0,getRowProps:function(e){return{onClick:function(){return null==P?void 0:P(e)}}},configuration:{withHeader:!1,handleRename:function(e){C(e)},resetSelection:function(){C(null)},selected:T,knowledgeBaseId:n,mixPanelEventActions:N},Row:_}))}},823166:function(e,t,n){var a=n(529439),r=n(667294),i=n(137958);t.Z=function(e){var t=e.folderId,n=(0,i.D9)(t),o=(0,a.Z)(n,2),l=o[0],c=o[1],s=(0,r.useState)(!1),u=(0,a.Z)(s,2),d=u[0],m=u[1];return(0,r.useEffect)((function(){c&&t&&l!==t&&m(!0)}),[c,l,t]),{routeChanged:d}}},164792:function(e,t,n){n.d(t,{_:function(){return f}});var a,r=n(204942),i=n(667294),o=n(294184),l=n.n(o),c=n(880223),s=n(460474),u=n(499345),d=n(119179),m=n(589698),E=(0,c.Z)("search-results-metadata-prop"),p=(a={},(0,r.Z)(a,(0,m.Z)().propertyType.DATE,(function(e){return(0,d.ZU)(parseInt(e,10))})),(0,r.Z)(a,(0,m.Z)().propertyType.MULTI_VALUE_STRING,(function(e){try{return JSON.parse(e||"").join(", ")}catch(t){if(t instanceof SyntaxError)return e;throw t}})),a);function f(e){var t=e.value,n=e.type,a=p[n],r=a?a(t):t;return"".concat(r)}t.Z=function(e){var t=e.name,n=e.type,a=e.value,r=(0,s.Z)("searchDynamicColumnEnabled"),o=f({value:a,type:n});return i.createElement("div",{className:E(),"data-tid":"metadata-property"},i.createElement(u.Z,{tooltip:o},i.createElement("span",{className:E("name"),"data-tid":"metadata-property-name"},t),i.createElement("span",{className:l()(E("value"),{wrappedText:r}),"data-tid":"metadata-property-value"},o)))}},953501:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(667294),r=n(294184),i=n.n(r),o=n(444840),l=n(372442),c=n(499345),s=function(e){var t=e.user,n=e.children,r=e.avatar,s=i()("rskpBEFpbamUU749N25e",r&&"BL2yjq0aoM_6fG3CsYYH");return a.createElement("span",null,a.createElement("div",{className:"GuWsQd0PZJjzdf74zuRl"},n),a.createElement("div",{className:s},a.createElement(o.Z,{size:o.Z.SMALL,user:t,isColored:!0,className:"LLITjhkvYrbjf5kb6TTV"}),a.createElement("div",{className:"lTRdiS57E7IwJhlVV8wb"},a.createElement(l.Z,{useSuffix:!0,user:t,className:"ddicmh5jsZqVQKEF9XAZ"}),a.createElement(c.Z,{disableTooltip:!0},t.email))))}},653117:function(e,t,n){n.d(t,{S:function(){return i}});var a=n(153672),r=n(691409),i=function(){var e=(0,a.ZP)().data;return(0,r.Zr)(e)}},286378:function(e,t,n){var a=n(667294),r=n(294184),i=n.n(r),o=n(621465),l=n(722610),c=n(762074),s=n(4845),u=n(698607),d=n(588310),m=(0,c.nD)("knowledgeBaseAssistant");t.Z=function(e){var t=e.closeSidebar,n=e.showBackIcon,r=e.onBack,E=e.children;return a.createElement("div",{className:i()(d.Z.sidebarHeader,d.Z.expanded),"data-tid":"sidebar-header"},n&&a.createElement(s.Z,{type:s.Z.GHOSTED,size:s.Z.sizes.SMALL,className:d.Z.backIcon,"aria-label":m("sidebarRight.header.back"),icon:o.Mn,onClick:function(){return null==r?void 0:r()}}),E,a.createElement(u.Z,{tooltip:(0,c.t)("button.label.close"),placement:"top"},a.createElement(s.Z,{onClick:t,size:s.Z.sizes.SMALL,type:s.Z.OUTLINED,icon:l.xv,"aria-label":m("sidebarRight.header.close"),"data-pendoid":"sidebar-header-close-button","data-tid":"sidebar-header-close-button"})))}},449529:function(e,t,n){n.d(t,{y:function(){return a.Z},w:function(){return o}});var a=n(286378),r=n(667294),i=n(499345);function o(e){var t=e.children;return r.createElement(i.Z,{className:"ONErnkbMdQ7UMrBox3UO DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR"},t)}},911308:function(e,t,n){var a=n(667294),r=n(588310);t.Z=function(e){var t=e.children,n=e.pendoId;return a.createElement("div",{id:"storage-sidebar-right-content",className:r.Z.contentWrapper,"data-pendoid":n},t)}},897766:function(e,t,n){n.d(t,{v:function(){return a.Z}});var a=n(911308)},355401:function(e,t,n){n.d(t,{q:function(){return c}});var a=n(264802),r=n(461498),i=n(667294),o=n(158274),l=(0,i.createContext)({flowType:r.ZZ.ACTIVITY,setFlowType:a.Z,knowledgeBaseSubFlowType:null,setKnowledgeBaseSubFlowType:a.Z,closeSidebar:a.Z,onConversationAction:a.Z,isKnowledgeBaseCopilotHubRoute:!1,folderId:"",documentRoomId:"",folderPath:"",selectedItems:o.R5,isExpanded:!1,onTabClick:a.Z});function c(){return(0,i.useContext)(l)}t.Z=l},229218:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(667294),r=n(625450),i=function(e){var t=e.selectedAgent,n=e.onConversationSelect,i=e.entryPoint;return a.createElement("div",{className:"zz8ACwUANyUr50JwdIZE","data-tid":"agent-history"},(null==t?void 0:t.id)&&a.createElement(r.Z,{isAgent:!0,knowledgeBaseId:t.id,onConversationSelect:n,agentName:t.name,entryPoint:i,agentSubType:t.subType}))}},44406:function(e,t,n){n.d(t,{f:function(){return Mn}});var a=n(529439),r=n(667294),i=n(57363),o=n(461498),l=n(155570),c=n(339594),s=n(987407),u=n(947124),d=n(722610),m=n(762074),E=n(460474),p=n(140816),f=n(4845),v=n(723417),g=n(93433),b=n(204942),S=n(221752),h=n(887275),Z=n(776327),y=n(923942),T=n(276141),C=n(267807),I=n(92242),O=n(415992),A=n(833331),P=n(904975),w=n(441043),N=n(338637),k=n(105171),R=n(327226),D=n(629825),L=n(143046),_=n(652233),B=n(792189),F=n(111527),M=n(310307),j=n(601714),x=n(922545),H=(0,m.nD)("search.AISearchSuggestion");function V(e,t){return{type:k.C7.ERROR,content:t||H("summaryUnavailable"),question:e,questionId:Date.now(),feedback:null,skillType:o.lV.Q_AND_A,isSearchSummaryError:!0}}var U=n(85946),K=n(936751),Y=n(294184),G=n.n(Y),z=n(779210),q=n(319783),W=n(13764),Q=n(317771),X=n(698607),J=n(821442),$=n(386616),ee=n(379499),te=n(799532),ne=n(892973),ae=n(264802),re=(0,m.nD)("copilotHub"),ie=function(e){var t=e.fileLimit,n=e.folderName,a=e.triggerReprocess,i=e.name,o=e.showActionItems;return r.createElement(X.Z,{tooltip:r.createElement(ne.Z,{fileLimit:t,knowledgeBaseName:i,folderName:n,showActionText:o}),actions:o&&r.createElement(J.Z,{onClick:a,"data-tid":"re-process"},re("reprocess")," ",r.createElement(J.Z.Icon,{icon:$.P}))},r.createElement(f.Z,{onClick:ae.Z,icon:ee.no,variant:te.Z.variants.ERROR,"aria-label":re("reprocess")}))},oe=n(487462),le=n(367283),ce=n(499345);function se(e){var t=e.assistantName,n=e.forwardedRef,a=e.onClick,i=e.children,o=e.className;return r.createElement("div",{className:"TFXcuU8Pycl5D7jGSnyQ"},r.createElement(le.Z,{ref:n,className:G()("FGoQD1kTw8aiNbzuXWr0 DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR",o),"data-pendoid":"ai-assistant-dropdown-trigger-button","aria-label":"Select knowledge base","data-tid":"select-knowledge-base",onClick:a},r.createElement(ce.Z,{className:"CCxnyXzolcFmV6xdhSr5",maxLength:64,tooltip:t},t)),i)}var ue=r.forwardRef((function(e,t){return r.createElement(se,(0,oe.default)({forwardedRef:t},e))})),de=n(817208),me=n(583025),Ee=n(713147),pe=n(51505),fe=n(579621),ve=n(877970),ge=n(979331),be=n(125085),Se=(0,m.nD)("copilotHub.agents"),he=(0,m.nD)("knowledgeBaseAssistant.dropdown"),Ze=function(e){var t=e.handleSelect,n=e.searchValue,a=e.isSearchActive,i=(0,_.a)(),o=i.agentList,l=i.selectedAgent,c=(0,ge.Z)().canPerformAgentOperation,s=(0,r.useMemo)((function(){return o.filter((function(e){return e.name.toLowerCase().includes(n.trim().toLowerCase())}))}),[o,n]);return r.createElement(r.Fragment,null,r.createElement("div",{className:be.Z.section},r.createElement("p",{className:be.Z.knowledgeBaseLabel},Se("title")),a&&0===s.length?r.createElement("p",{className:be.Z.noResults},he("noResults")):(null==s?void 0:s.length)>0?s.map((function(e){var n=e.id===(null==l?void 0:l.id);return r.createElement(me.Z,{key:e.id,className:be.Z.item,onClick:function(){t(e)},checked:n},r.createElement(ce.Z,{tooltip:e.name},e.name))})):r.createElement(r.Fragment,null,r.createElement("p",{className:be.Z.notAvailable},Se("dropdown.notAvailable")),c&&r.createElement(fe.Z,{type:fe.Z.TERTIARY,onClick:function(){(0,ve.Z)({entryPoint:y.eR.SIDEBAR}),(0,U.Rm)({entryPoint:y.eR.SIDEBAR})}},r.createElement(fe.Z.Icon,{icon:pe.hd}),r.createElement("span",{className:be.Z.createNew},Se("dropdown.createNew"))))),r.createElement(Ee.Z,null))},ye=n(681680),Te=(0,m.nD)("knowledgeBaseAssistant.dropdown");function Ce(e){var t=e.searchValue,n=e.setSearchValue;return r.createElement("div",{className:"SgyRyeqsQDOv8FgYQ8NX"},r.createElement(ye.Z,{"data-tid":"search-input",value:t,placeholder:Te("searchPlaceholder"),onChange:function(e){var t=e.target.value;n(t)},onClick:function(e){e.stopPropagation()},onClear:function(e){n(""),e.stopPropagation()}}))}var Ie=n(337995);function Oe(e){var t=e.children;return r.createElement(Ie.Z,{className:"GU0I283V4iRMS1rFRvSe","data-pendoid":"ai-assistant-dropdown-list"},t)}var Ae=n(449654),Pe=(0,m.nD)("knowledgeBaseAssistant.dropdown"),we=function(){var e=(0,ge.Z)().canPerformKnowledgeBaseOperation;return r.createElement(r.Fragment,null,r.createElement("p",{className:be.Z.notAvailable},Pe("notAvailable")),e&&r.createElement(fe.Z,{type:fe.Z.TERTIARY,onClick:function(){(0,Ae.Z)({entryPoint:o.eR.SIDEBAR})}},r.createElement(fe.Z.Icon,{icon:pe.hd}),r.createElement("span",{className:be.Z.createNew},Pe("createNew"))))},Ne=(0,m.nD)("knowledgeBaseAssistant.dropdown");function ke(e){var t=e.kbaListFiltered,n=e.showCopilot,a=e.showAgents,i=e.isSearchActive,o=e.selectedKba,l=e.handleSelect,c=(0,E.Z)("isGlobalCopilotEnabled");return r.createElement(r.Fragment,null,r.createElement("div",{className:G()((0,b.Z)({},be.Z.section,a))},(n||a)&&r.createElement("p",{className:be.Z.knowledgeBaseLabel},Ne("label")),t.map((function(e){var t=e.id===(null==o?void 0:o.id);return r.createElement(me.Z,{key:e.id,className:be.Z.item,onClick:function(){return l(e)},checked:t},r.createElement(ce.Z,{tooltip:null==e?void 0:e.name},null==e?void 0:e.name))}))),i&&0===t.length&&r.createElement("p",{className:be.Z.noResults},Ne("noResults")),!i&&c&&0===t.length&&r.createElement(we,null))}var Re=function(e){var t,n,i,l,c=e.Trigger,s=void 0===c?ue:c,u=(0,E.Z)("isGlobalCopilotEnabled"),d=(0,E.Z)("documentRoomPortalEnabled"),m=(0,R.Z)(),p=m.canPerformKnowledgeBaseOperation,f=m.canViewAgents,v=(0,Q.Z)().handleReprocess,g=(0,T.U)(),S=g.onKbaSelect,h=g.selectedKba,y=g.kbaList,I=void 0===y?[]:y,O=g.fileLimit,A=void 0===O?0:O,P=g.withScopedItems,w=(0,_.a)(),N=w.onAgentSelect,D=w.selectedAgent,L=(0,r.useState)(""),B=(0,a.Z)(L,2),F=B[0],M=B[1],j=F.trim().length>0,x=(0,r.useMemo)((function(){return I.filter((function(e){return e.name.toLowerCase().includes(F.trim().toLowerCase())}))}),[I,F]),H=(0,r.useMemo)((function(){var e;return null==h||null===(e=h.paths)||void 0===e?void 0:e.some((function(e){return!(0,W.Jg)(e.permission)}))}),[null==h?void 0:h.paths]),V=function(e){(0,C.$H)({selectionWay:o.El.SIDEBAR_DROPDOWN_LIST_VIEW}),P&&Z.ZP.trigger(Z.ZP.Events.Storage.SELECTION.DESELECT_ALL),(null==e?void 0:e.type)===k.J1.AGENT?N(e):S(e)},U=null!=h&&null!==(t=h.paths)&&void 0!==t&&null!==(n=t[0])&&void 0!==n&&n.path?(0,q.dX)(null==h||null===(i=h.paths)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.path,{appendSlash:!1}):"",K=x.find((function(e){return e.id===(null==h?void 0:h.id)})),Y=(null==K?void 0:K.subStatus)===o.$b.OVER_LIMIT,X=(null==D?void 0:D.name)||(null==h?void 0:h.name),J=u&&!d,$=u&&!d&&f;return r.createElement("div",{className:be.Z.assistantDropdown},r.createElement(z.Z,{trigger:r.createElement(s,{assistantName:X,className:G()((0,b.Z)({},be.Z.limit,Y))},Y&&r.createElement(ie,{fileLimit:A,triggerReprocess:function(){v({payload:{details:h,fileLimit:A}})},folderName:U,name:X,showActionItems:Y&&p&&!H}))},r.createElement(Ce,{searchValue:F,setSearchValue:M}),r.createElement(Oe,null,J&&r.createElement(de.Z,{handleSelect:V}),$&&r.createElement(Ze,{handleSelect:V,searchValue:F,isSearchActive:j}),r.createElement(ke,{kbaListFiltered:x,showCopilot:J,showAgents:$,isSearchActive:j,selectedKba:h,handleSelect:V}))))},De=n(69150),Le=n(911308),_e=n(449529),Be=n(71458),Fe=n(590624),Me=n(116450),je=(0,m.nD)("knowledgeBaseAssistant.sidebarRight.header"),xe=(0,m.nD)("smartAppContract.sideBarRight"),He=function(e){var t=e.isLoading,n=(0,T.U)(),a=n.selectedKba,i=n.withContracts,o=(0,_.a)().selectedAgent;return!a&&!o||i?r.createElement(_e.w,null,function(e,t){return e?"":t?xe("headerTitle"):je((0,Me.p)()?"documentRoomPortalTitle":"title")}(t,i)):r.createElement(Re,null)},Ve=n(389779),Ue=n(355401),Ke=n(588310),Ye=(0,m.nD)("knowledgeBaseAssistant.sidebarRight"),Ge=(0,m.nD)("agents.sidebarRight");function ze(e){var t=e.selectedKba,n=e.showBackIcon,a=e.isLoading,i=e.onCloseSidebar,l=e.onHistoryClick,c=e.onNewChatClick,s=e.onConfigurationClick,d=(0,Fe.Z)().aiAgentsSourceSelectorFeatureEnabled,m=(0,T.U)().onKbaSelect,E=(0,_.a)().onAgentSelect,p=(0,Ue.q)().setFlowType,g=(0,r.useCallback)((function(){p(o.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY),null==l||l()}),[p,l]),b=(null==t?void 0:t.type)===k.J1.AGENT;return d&&(b=b&&(null==t?void 0:t.subType)!==y.AC.DEEP_RESEARCH_AGENT),r.createElement(_e.y,{closeSidebar:i,showBackIcon:n,onBack:function(){m(null),E(null)}},r.createElement(He,{isLoading:a}),t&&r.createElement(r.Fragment,null,b&&r.createElement("span",{className:Ke.Z.configurationIcon},r.createElement(Ve.C.Tooltiped,{tooltip:Ge("configuration.label"),placement:"top"},r.createElement(Ve.C,{onClick:function(){p(o.ZZ.AGENT_CONFIGURATION),null==s||s()},size:f.Z.sizes.SMALL,icon:Be.y,ariaLabel:Ge("configuration.iconTooltip"),dataPendoId:"sidebar-header-configuration-button",testId:"sidebar-header-configuration-button"}))),r.createElement("span",{className:Ke.Z.historyIcon},r.createElement(Ve.C.Tooltiped,{tooltip:Ye("history.label"),placement:"top"},r.createElement(Ve.C,{onClick:g,size:f.Z.sizes.SMALL,icon:u.PO,className:Ke.Z.closeIcon,ariaLabel:Ye("history.iconTooltip"),dataPendoId:"sidebar-header-history-toggle-button",testId:"sidebar-header-history-toggle-button"}))),r.createElement(v.Z,{iconButtonType:f.Z.OUTLINED,asIconButton:!0,iconButtonSize:f.Z.sizes.SMALL,onClick:c})))}var qe=n(145987),We=n(621465),Qe=["assistantName"];function Xe(e){var t=e.assistantName,n=(0,qe.Z)(e,Qe),a=(0,T.U)().onKbaSelect;return r.createElement(p.E,{gap:.5},r.createElement(f.Z,{icon:We.Mn,onClick:function(){a(null)},"aria-label":(0,m.t)("button.label.goBack")}),r.createElement(le.Z,(0,oe.default)({},n,{chevron:!1}),r.createElement(J.Z,{as:"a"},t,r.createElement(J.Z.Icon,{icon:We.Dd}))))}var Je=r.forwardRef((function(e,t){return r.createElement(Xe,(0,oe.default)({forwardedRef:t},e))})),$e=(0,m.nD)("agents.sidebarRight"),et=function(e){var t=e.isLoading,n=e.selectedKba,a=e.conversationId,i=e.executionId,l=e.showBackIcon,c=e.closeSidebar,s=e.setFlowType,u=e.withHeader,d=e.isConfigurationView,m=(0,De.E)().clearCurrentConfigurationContext,E=(0,r.useCallback)((function(){null==s||s(o.ZZ.KBA_ASSISTANT)}),[s]);return r.createElement(r.Fragment,null,u&&r.createElement(ze,{isLoading:t,selectedKba:n,showBackIcon:l,onCloseSidebar:c,onHistoryClick:function(){(0,U.bP)({agentName:null==n?void 0:n.name,identifier:null==n?void 0:n.id,entryPoint:y.eR.SIDEBAR,subType:null==n?void 0:n.subType})},onNewChatClick:function(){(0,U.K3)({agentName:null==n?void 0:n.name,identifier:null==n?void 0:n.id,entryPoint:y.eR.SIDEBAR,subType:null==n?void 0:n.subType}),null==m||m()},onConfigurationClick:function(){(0,U.ez)({agentName:null==n?void 0:n.name,identifier:null==n?void 0:n.id,entryPoint:y.eR.SIDEBAR,subType:null==n?void 0:n.subType})}}),!u&&!d&&n&&r.createElement("div",{className:"MP_JpTX52XlIk7AHRfR_"},r.createElement(Re,{Trigger:Je})),d&&r.createElement(_e.y,{closeSidebar:c,showBackIcon:!0,onBack:E},r.createElement(_e.w,null,$e("configuration.title"))),r.createElement(Le.Z,{pendoId:"sidebar-ai-assistant-content"},r.createElement(K.f,{selectedAgentSidePanel:n,conversationId:a,executionId:i,isConfigurationView:d,showInSidePanel:!0,goToAgent:E})))},tt=n(625450),nt=function(e){var t,n=e.onConversationSelect,a=(0,T.U)().selectedKba;return r.createElement("div",{className:"z196nD6ICO0EW_4zuNzQ"},(null==a||null===(t=a.kbaId)||void 0===t?void 0:t.id)&&r.createElement(tt.Z,{knowledgeBaseId:a.kbaId.id,onConversationSelect:n}))},at=n(32570),rt=function(e){var t=e.children,n=e.isLoading,a=e.helpText;return n?r.createElement("div",{className:Ke.Z.spinner,"data-tid":"loader"},r.createElement(at.Z,{size:at.Z.MEDIUM}),a&&r.createElement("div",{className:Ke.Z.loadingText},a)):t},it=(0,m.nD)("knowledgeBaseAssistant.sidebarRight");function ot(e){var t=e.onClick;return r.createElement(fe.Z,{type:fe.Z.TERTIARY,onClick:t},r.createElement(fe.Z.Icon,{icon:We.Mn}),it("history.label"))}var lt=(0,m.nD)("knowledgeBaseAssistant.sidebarRight"),ct=function(e){var t=e.onConversationSelect,n=e.isLoading,a=e.withHeader,i=(0,Ue.q)(),l=i.closeSidebar,c=i.isKnowledgeBaseCopilotHubRoute,s=i.setFlowType,u=function(){s(o.ZZ.KBA_ASSISTANT)};return r.createElement(r.Fragment,null,a&&r.createElement(_e.y,{closeSidebar:l,showBackIcon:!c,onBack:u},r.createElement(_e.w,null,lt("history.label"))),r.createElement(Le.Z,{pendoId:o.Oy[o.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY].content},r.createElement(rt,{isLoading:n},r.createElement(r.Fragment,null,!a&&r.createElement("div",{className:"y96_Y4Qo46M_ozPUgx3c"},r.createElement(ot,{onClick:u})),r.createElement(nt,{onConversationSelect:t})))))},st=n(45697),ut=n.n(st),dt=n(430703),mt=n(42594),Et=n(395614),pt=n(299989),ft=n(190544),vt=n(163221),gt=n(124333),bt=n(615788),St=n(133106),ht=n(154177),Zt=n(397404),yt=n(223901),Tt=(0,m.nD)("knowledgeBaseAssistant.emptyView"),Ct=(0,m.nD)("knowledgeBaseAssistant.createKnowledgeBaseAssistant");function It(){var e=(0,St.$)(),t=(0,yt.Oi)();return r.createElement(r.Fragment,null,t&&r.createElement(fe.Z,{onClick:function(){return null==e?void 0:e({},{onSuccess:function(){(0,Zt.c0)(Zt.em.success,Ct("create.createdForDocumentRoom"))},onError:function(e){if((0,ht.k0)(e)){var t=(0,ht.e$)(e,"");t&&(0,Zt.c0)(Zt.em.error,t)}else(0,Zt.c0)(Zt.em.error,Tt("create.errorForDocumentRoom"))}})},type:fe.Z.PRIMARY,"aria-label":Tt("create")},r.createElement(fe.Z.Icon,{icon:pe.hd}),Tt("create")))}var Ot=n(739232),At=n(564782),Pt=(0,m.nD)("knowledgeBaseAssistant.emptyView"),wt=function(){return(0,R.Z)().canPerformKnowledgeBaseOperation?r.createElement(fe.Z,{type:fe.Z.TERTIARY,onClick:function(){(0,At.Z)({entryPoint:o.eR.SIDEBAR,featureName:P.xJ.ASSISTANTS})}},r.createElement(fe.Z.Icon,{icon:Ot.C}),Pt("configuration")):null},Nt=(0,m.nD)("knowledgeBaseAssistant.emptyView"),kt=function(){var e=(0,mt.pL)(),t=(0,ge.Z)().canPerformKnowledgeBaseOperation;return r.createElement("div",{className:"w2KV24eJVTRKvlQif2jJ"},r.createElement(gt.Z,{illustration:bt.Z.types.SAD_WHALE},r.createElement(gt.Z.Heading,null,Nt(e?"documentRoomPortalTitle":"title")),r.createElement(gt.Z.Description,null,Nt(e?"documentRoomPortalDescription":t?"description.withAccess":"description.withoutAccess")),e?r.createElement(It,null):r.createElement(wt,null)))},Rt=(0,m.nD)("knowledgeBaseAssistant.pendingView"),Dt=function(){return r.createElement("div",{className:"B2b9omYit2eZMxReu8kw"},r.createElement(gt.Z,{illustration:bt.Z.types.CONFIRMATION},r.createElement(gt.Z.Heading,null,Rt("title")),r.createElement(gt.Z.Description,null,Rt("description"))))},Lt=n(128358),_t=n(5567),Bt=n(724958),Ft=n(686388),Mt=n(416675),jt=["children","className"];function xt(e){var t=e.children,n=e.className,a=(0,qe.Z)(e,jt);return r.createElement("div",(0,oe.default)({},a,{className:G()("EWc6OVQHKps2ji10lkn9",n)}),t)}xt.Title=function(e){var t=e.className,n=e.children;return r.createElement("p",{className:G()("FkPJl3QqnLYyG45YtISK eugzcnL4uVMlgbRkfTqa",t)},n)},xt.Description=function(e){var t=e.className,n=e.children;return r.createElement("div",{className:G()("XnNA2W_XgarAosNdyewc QspI3Sow0uF6jJWV3_4r",t)},n)};var Ht=xt,Vt=(0,m.nD)("knowledgeBaseAssistant.assistantCards.banner"),Ut=function(){return r.createElement(Ht,{className:"O07TQAIMuOsBEqqaDWSw"},r.createElement(Ht.Title,{className:"V7hqeFCK5C1gp531AJNL C7HhvVmv8inrSQjb607z eugzcnL4uVMlgbRkfTqa"},Vt("title")),r.createElement(Ht.Description,{className:"DSfLIZ7AWgl_gq34G3yB C7HhvVmv8inrSQjb607z"},Vt("description")))},Kt=(0,m.nD)("knowledgeBaseAssistant.assistantList"),Yt=function(){var e=(0,mt.pL)(),t=(0,T.U)(),n=t.onKbaSelect,i=t.kbaList,l=void 0===i?[]:i,c=(0,r.useState)(!1),s=(0,a.Z)(c,2),u=s[0],d=s[1],m=(0,Lt.F)(),E=(0,r.useRef)(null),p=(0,Ft.Z)({ref:E,box:"border-box"}).width;(0,r.useEffect)((function(){if(e){var t=null==m?void 0:m();t&&n(t)}}),[e,m,n]);var f=(0,r.useMemo)((function(){return function(e){var t=e.list,n=e.width,a=void 0===n?0:n;if(e.viewAll)return{itemsToRender:t,showViewAllButton:!1};var r=t.slice(0,3);return a&&a>564&&(r=t.slice(0,6)),{itemsToRender:r,showViewAllButton:(null==t?void 0:t.length)>r.length}}({list:l,viewAll:u,width:p})}),[l,u,p]),v=f.itemsToRender,g=f.showViewAllButton;return r.createElement("div",{className:"FOTAvzR1eVemtR1iSDEq","data-tid":"assistants-list"},r.createElement("div",{className:"_rO_3ZCsrVta265U_FTw"},r.createElement(Mt.Z,{className:"tie_oIadIh97KSrwNJ7t"}),r.createElement(Ut,null)),r.createElement("div",{className:"tN7M6SE70XEiU2cp3dOg",ref:E},v.map((function(e){return r.createElement(Bt.Z,{onClick:function(){return function(e){(0,C.$H)({selectionWay:o.El.SIDEBAR_LIST_VIEW}),n(e)}(e)},title:e.name,description:e.description,icon:_t[e.iconName],"data-tid":"assistant-card",key:e.id})}))),g&&r.createElement(fe.Z,{type:fe.Z.TERTIARY,size:fe.Z.sizes.LARGE,onClick:function(){(0,C.fH)(),d(!0)},"data-pendoid":"ai-assistant-list-view-all-button"},Kt("viewAllAssistants")))};function Gt(e){var t,n=e.initialMessages,a=e.onClearChat,i=(0,I.T)(),l=(0,Ue.q)(),c=l.folderId,s=l.folderPath,u=l.selectedItems,d=l.searchSummary,m=(0,T.U)(),E=m.selectedKba,p=m.kbaList,f=void 0===p?[]:p,v=m.pendingKba,g=m.isScopedHistorySelected,b=m.withGlobalCopilot,S=m.withScopedItems,h=m.withContracts,Z=m.fetchInitialFollowupQuestions,y=void 0===Z||Z,C=(0,r.useMemo)((function(){return{selectedKba:E}}),[E]),O=c,A=s,P=w.Z.isStorageListingShown({location:i}),R=w.Z.isSearchViewShown(),D=P?o.Y9.FOLDER_LISTING:o.Y9.OTHER,L=(0,pt.F)(N.FR,void 0,{enabled:b,staleTime:ft.iL}).data,_=null==L?void 0:L.id,B=(0,r.useMemo)((function(){return!h&&(void 0!==(null==d?void 0:d.searchResultFiles)?d.searchResultFiles.length>0:!R)}),[h,R,d]);return(0,mt.pL)()&&v&&!f.length?r.createElement(Dt,null):E?(P||(A=N.FR,O=_),r.createElement("div",{className:"ZKTZPuykGwCF9z0p1Q_4"},r.createElement(dt.P,{mixpanelLabel:k.Q7.KBA,kbaConfig:C,currentScreen:b?D:null,withKba:!0,folderId:O,folderPath:A,withGlobalCopilot:b,showSourcesSelector:B,key:null==E||null===(t=E.kbaId)||void 0===t?void 0:t.id,initialMessages:n,onClearChat:a,referrer:vt.N.KNOWLEDGE_BASE_SIDEBAR,selectedItemsForCopilot:u,withScopedItems:S,isScopedHistorySelected:g,withContracts:h,fetchInitialFollowupQuestions:y}))):f.length?b?null:r.createElement("div",{className:"bReLYJxNAsSpbtEBtOpY"},r.createElement(Yt,null)):r.createElement(kt,null)}var zt=Gt;Gt.propType={initialMessages:ut().arrayOf(ut().shape(Et.o)),onClearChat:ut().func};var qt=n(343778);function Wt(e){return e.selectedKba?r.createElement(Re,{Trigger:Je}):null}var Qt=function(e){var t=e.isLoading,n=e.selectedKba,a=e.showBackIcon,i=e.initialMessages,l=e.onClearChat,c=e.closeSidebar,s=e.withHeader,u=e.loadingHelpText;return(0,r.useEffect)((function(){(0,qt.UW)(k.Q7.KBA)}),[]),r.createElement(r.Fragment,null,s&&r.createElement(ze,{isLoading:t,selectedKba:n,showBackIcon:a,onCloseSidebar:c,onHistoryClick:function(){(0,C.Ql)(o.eR.SIDEBAR)}}),r.createElement(Le.Z,{pendoId:"sidebar-ai-assistant-content"},r.createElement(rt,{isLoading:t,helpText:u},r.createElement(r.Fragment,null,!s&&r.createElement("div",{className:"yog2ZpFwtRWWwAJ_oN8y","data-tid":"assistant-select"},r.createElement(Wt,{selectedKba:n})),r.createElement(zt,{initialMessages:i,onClearChat:l})))))},Xt=n(607026),Jt=n(158274),$t=n(260932),en=n(823166);function tn(){var e=(0,E.Z)("isGlobalCopilotEnabled"),t=(0,E.Z)("isSmartAppContractsChatFeatureEnabled"),n=(0,Ue.q)(),i=n.selectedItems,l=n.knowledgeBaseSubFlowType,c=n.folderId,s=(0,en.Z)({folderId:c}).routeChanged,u=(0,$t.E8)(i).totalSelected,d=e&&l===o.lu.GLOBAL_COPILOT&&u>0,m=t&&l===o.lu.CONTRACTS&&u>0,p=!s&&(d||m),f=(0,r.useState)(p),v=(0,a.Z)(f,2),g=v[0],b=v[1];return(0,r.useEffect)((function(){b(p)}),[p]),{withScopedItems:g}}var nn=n(229218),an=(0,m.nD)("knowledgeBaseAssistant.sidebarRight"),rn=function(e){var t=e.onConversationSelect,n=e.isLoading,a=e.withHeader,i=(0,Ue.q)(),l=i.closeSidebar,c=i.setFlowType,s=(0,De.E)().setHasConversationStarted,u=(0,_.a)().selectedAgent,d=function(){c(o.ZZ.KBA_ASSISTANT)};return r.createElement(r.Fragment,null,a&&r.createElement(_e.y,{closeSidebar:l,showBackIcon:!0,onBack:d},r.createElement(_e.w,null,an("history.label"))),r.createElement(Le.Z,{pendoId:o.Oy[o.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY].content},r.createElement(rt,{isLoading:n},r.createElement(r.Fragment,null,!a&&r.createElement("div",{className:"Z2P26YY57hez11OiB1Fr"},r.createElement(ot,{onClick:d})),r.createElement(nn.Z,{selectedAgent:u,onConversationSelect:function(e){t(e),(null==u?void 0:u.subType)===y.AC.DEEP_RESEARCH_AGENT&&s(!0)},entryPoint:y.eR.SIDEBAR})))))},on=n(359541);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=n(166139);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mn=(0,m.nD)("smartAppContract");function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fn=(0,m.nD)("search.AISearchSuggestion"),vn=(0,F.Z)((function(e){var t,n,i,l,c=e.withHeader,s=e.selectedKba,u=e.onSelectKba,d=(0,I.T)(),m=(0,r.useState)(""),p=(0,a.Z)(m,2),f=p[0],v=p[1],b=(0,r.useState)(""),F=(0,a.Z)(b,2),U=F[0],K=F[1],Y=(0,Ue.q)(),G=Y.folderId,z=Y.flowType,q=Y.setFlowType,W=Y.documentRoomId,Q=Y.isKnowledgeBaseCopilotHubRoute,X=Y.onConversationAction,J=Y.closeSidebar,$=Y.folderPath,ee=Y.knowledgeBaseSubFlowType,te=Y.setKnowledgeBaseSubFlowType,ne=Y.searchSummary,ae=(0,E.Z)("isGlobalCopilotEnabled"),re=(0,E.Z)("documentRoomPortalEnabled"),ie=(0,E.Z)("isSmartAppCodebooksEnabled"),oe=(0,E.Z)("isSmartAppAgentsEnabled"),le=(0,E.Z)("isSmartAppContractsChatFeatureEnabled"),ce=(0,R.Z)().canPerformAgentOperation,se=(null==s?void 0:s.id)===Jt.eB,ue=(0,B.tz)()&&le,de=tn().withScopedItems,me=(0,r.useState)(null),Ee=(0,a.Z)(me,2),pe=Ee[0],fe=Ee[1],ve=W?{documentRoomId:W}:void 0,ge=(0,h.Z)({folderId:G,flowType:z,knowledgeBaseSubFlowType:ee}),be=(0,r.useState)(!1),Se=(0,a.Z)(be,2),he=Se[0],Ze=Se[1],ye=(0,D.Z)().setIsSelected,Te=(null==s?void 0:s.type)===k.J1.AGENT,Ce=(0,S.hE)(null==s||null===(t=s.kbaId)||void 0===t?void 0:t.id,f,pn({enabled:!!f&&!he&&!Te},A.S)),Ie=function(){var e=(0,E.Z)("isGlobalCopilotEnabled"),t=(0,E.Z)("isSmartAppContractsChatFeatureEnabled"),n=tn().withScopedItems,a=(0,B.tz)()&&t,i=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,on.xr)({includeProcessingStatistics:!0,includeUsageStats:!0,includePrompts:!0,status:P.Q_.ACTIVE},cn({enabled:t},A.S)),a=n.data,r=n.isLoading,i=null!==(e=null==a?void 0:a.content)&&void 0!==e?e:[],o=i.find((function(e){return e.status===P.Q_.ACTIVE}));return{contracts:i,isLoading:r,selectedContract:o}}(a),o=i.selectedContract;return(0,r.useMemo)((function(){if(a&&o)return{config:(0,Xt.HL)(dn(dn({},o),{},{description:mn("copilot.description.default")}))};if(e){var t,r,i=n?"":null!==(t=null===(r=(0,sn.MM)())||void 0===r?void 0:r.join(""))&&void 0!==t?t:"";return{config:(0,Xt.Tn)({description:i})}}return{config:void 0,type:null}}),[e,o,a,n])}().config,Oe=!(null==s||null===(n=s.kbaId)||void 0===n||!n.id||Q||z!==o.ZZ.KBA_ASSISTANT||Te||f||he),Ae=(0,S.gE)(null==s||null===(i=s.kbaId)||void 0===i?void 0:i.id,pn({enabled:Oe},A.S)),Pe=(0,S.ah)(pn(pn({},ve),{},{includePrompts:!0,sortBy:[P.K0.NAME],sortDirection:[O.B.ASC]}),pn({enabled:!0},A.S)),we=Pe.data,Ne=Pe.isLoading,ke=Pe.isSuccess,Re=(0,S.ye)({includePlaceholderData:ce,includeProcessingStatistics:!0,status:y.xx.ACTIVE},pn({enabled:oe},A.S)),De=Re.data,Le=Re.isLoading,_e=function(e){var t,n=e.selectedKnowledgeBase;return(null==n?void 0:n.type)===k.J1.AGENT?o.lu.AGENT:(null==n||null===(t=n.kbaId)||void 0===t?void 0:t.id)===Jt.eB?o.lu.GLOBAL_COPILOT:o.lu.KBA},Be=function(e){var t=e.searchSummaryEventPayload,n=e.isSearchSummaryViewEnabled,i=e.onComplete,l=(0,r.useState)(null),c=(0,a.Z)(l,2),s=c[0],u=c[1],d=(0,M.X)({onSuccess:function(e,t){var n=e.sources&&e.sources.length>0,a=e.summary&&""!==e.summary.trim();if(n&&a){var r,i,l=(null===(r=e.sources)||void 0===r?void 0:r.map((function(e){var t=(0,x.Z)(e.path);return{entryId:e.entryId,filename:e.name,objectId:e.entryId,previewUrl:j.Z.getFilePreviewUrl(e.id),chunks:[],path:(null==t?void 0:t.folderPath)||e.path}})))||[],c={type:k.C7.RESPONSE,content:"**".concat(H("aiOverviewTitle"),": ").concat(t.question,"**\n\n\n").concat(e.summary),question:t.question,questionId:Date.now(),feedback:null,citations:l,searchResults:(null===(i=e.sources)||void 0===i?void 0:i.map((function(e){return{entryId:e.entryId,name:e.name,path:e.path}})))||[],skillType:o.lV.Q_AND_A};u(c)}else{var s=(null==e?void 0:e.summary)||H("summaryNotAvailableForResults");u(V(t.question,s))}},onError:function(e,t){u(V(t.question,H("summaryTemporarilyUnavailable")))}});(0,r.useEffect)((function(){if(n&&t){var e=t.question,a=t.entryIds;d.mutate({question:e,entryIds:a})}}),[n,t]);var m=(0,r.useRef)(d.isLoading);return(0,r.useEffect)((function(){m.current&&!d.isLoading&&i&&i(),m.current=d.isLoading}),[d.isLoading,i]),{isLoading:d.isLoading,error:d.error,searchSummaryMessage:s}}({isSearchSummaryViewEnabled:(null==ne?void 0:ne.isViewEnabled)||!1,searchSummaryEventPayload:(null==ne?void 0:ne.eventPayload)||null,onComplete:function(){var e,t;null==ne||null===(e=ne.setIsViewEnabled)||void 0===e||e.call(ne,!1),null==ne||null===(t=ne.setEventPayload)||void 0===t||t.call(ne,null)}}),Fe=Be.searchSummaryMessage,Me=Be.isLoading,je=Be.error;(0,r.useEffect)((function(){if(Q&&null!=we&&we.content){var e=d.hash.split("/"),t=e[e.length-1],n=we.content||[],a=(ae&&Ie?[Ie].concat((0,g.Z)(n)):n).find((function(e){return e.status===o.YN.ACTIVE&&(e.kbaId.id===t||t===N.H$)}));u(a)}}),[Q,Ie,ae,G,d.hash,null==we?void 0:we.content,u]),(0,r.useEffect)((function(){var e=(null==ge?void 0:ge.flowType)!==z,t=(null==ge?void 0:ge.knowledgeBaseSubFlowType)!==ee,n=ee===o.lu.GLOBAL_COPILOT,a=(null==ge?void 0:ge.folderId)===G,r=!Q&&(e||a&&!s)&&(null==we?void 0:we.content);if(![null==ge?void 0:ge.flowType,z].includes(o.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY)&&ee!==o.lu.AGENT)if(r&&!ue){var i=null==we?void 0:we.content.find((function(e){return e.status===o.YN.ACTIVE&&e.paths.some((function(e){return e.folderId===G||(null==$?void 0:$.startsWith(e.path))}))})),l=null==we?void 0:we.content.find((function(e){return e.status===o.YN.CREATED&&e.paths.some((function(e){return e.folderId===G}))}));!w.Z.isStorageListingShown({location:d})&&G&&$&&!re&&(i=void 0),ae&&!re&&(!s&&!i||de&&n)&&(i=Ie),u(i),fe(l),te(_e({selectedKnowledgeBase:i}))}else t&&n&&!re&&!ue?(u(Ie),te(o.lu.GLOBAL_COPILOT)):ue&&u(Ie)}),[ae,null==we?void 0:we.content,G,null==ge?void 0:ge.folderId,s,Ie,z,null==ge?void 0:ge.flowType,$,Q,u,d,de,null==ge?void 0:ge.knowledgeBaseSubFlowType,ee,se,te,re,Te,ue]);var xe=function(){(0,C.CG)(),u(null),v(""),J()},He=(0,r.useCallback)((function(e){v(""),u(e),te(_e({selectedKnowledgeBase:e}))}),[u,te]),Ve=(0,r.useMemo)((function(){return!!(f&&null!=Ce&&Ce.data&&null!=Ce&&Ce.isSuccess)&&(null==Ce?void 0:Ce.data.askRequestType)===k.J1.MULTI_SELECTION}),[null==Ce?void 0:Ce.data,null==Ce?void 0:Ce.isSuccess,f]),Ke=(0,r.useMemo)((function(){return(null==we?void 0:we.content.filter((function(e){return ie?e.status===o.YN.ACTIVE&&e.subType!==L.Tn.CODEBOOKS_AGENT:e.status===o.YN.ACTIVE})))||[]}),[we,ie]),Ye=(0,r.useMemo)((function(){return{selectedKba:s,globalCopilotData:Ie,onKbaSelect:He,kbaList:Ke,pendingKba:pe,fileLimit:null==we?void 0:we.fileLimit,isScopedHistorySelected:Ve,withGlobalCopilot:se,withScopedItems:de,withContracts:ue,fetchInitialFollowupQuestions:!(null!=ne&&ne.isViewEnabled||Fe||je)}}),[s,Ie,He,Ke,pe,null==we?void 0:we.fileLimit,Ve,se,de,ue,null==ne?void 0:ne.isViewEnabled,Fe,je]),Ge=(0,r.useCallback)((function(e){u(e),te(_e({selectedKnowledgeBase:e}))}),[u,te]),ze=(0,r.useCallback)((function(){null==q||q(o.ZZ.AGENT_CONFIGURATION)}),[q]),qe=(0,r.useMemo)((function(){return{withAgents:Te,selectedAgent:s,agentList:(null==De?void 0:De.content.filter((function(e){return e.status===y.xx.ACTIVE})))||[],onAgentSelect:Ge,goToConfiguration:ze}}),[Te,s,De,Ge,ze]),We=(0,r.useMemo)((function(){return de||he?[]:Fe?[pn(pn({},Fe),{},{isAIOverview:!0})]:f&&null!=Ce&&Ce.data&&null!=Ce&&Ce.isSuccess?(0,Xt.F2)(null==Ce?void 0:Ce.data):!f&&null!=Ae&&Ae.data&&null!=Ae&&Ae.isSuccess?(0,Xt.F2)(null==Ae?void 0:Ae.data):[]}),[he,null==Ce?void 0:Ce.data,null==Ce?void 0:Ce.isSuccess,f,null==Ae?void 0:Ae.data,null==Ae?void 0:Ae.isSuccess,de,Fe]);(0,r.useEffect)((function(){f&&Z.ZP.trigger(Z.ZP.Events.Storage.SELECTION.DESELECT_ALL)}),[f]),(0,r.useEffect)((function(){Ze(!1)}),[null==s||null===(l=s.kbaId)||void 0===l?void 0:l.id,null==s?void 0:s.id]),(0,r.useEffect)((function(){Fe&&null!=ne&&ne.isViewEnabled&&Ze(!1)}),[Fe,null==ne?void 0:ne.isViewEnabled]),(0,r.useEffect)((function(){return ye(se),function(){ye(!1)}}),[ye,se]);var Qe=!0;!(ke&&0===we.content.length||null!=Ae&&Ae.isSuccess)&&(null!=Ae&&Ae.isLoading||null!=Ae&&Ae.isFetching||ae&&!s)||(Qe=!1);var Xe=Ne||Me&&(null==ne?void 0:ne.isViewEnabled)||Qe||(null==Ce?void 0:Ce.isLoading)&&!!f||ae&&!s;return ee===o.lu.AGENT&&Te?r.createElement(T.Z.Provider,{value:Ye},r.createElement(_.Z.Provider,{value:qe},z===o.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY?r.createElement(rn,{onConversationSelect:function(e){q(o.ZZ.KBA_ASSISTANT),v(e.original.id),K(e.original.executionId)},isLoading:Le,withHeader:c}):z===o.ZZ.AGENT_CONFIGURATION?r.createElement(et,{selectedKba:s,conversationId:f,isLoading:Xe,closeSidebar:xe,setFlowType:q,withHeader:!1,isConfigurationView:!0}):r.createElement(et,{selectedKba:s,conversationId:f,executionId:U,isLoading:Xe,closeSidebar:xe,withHeader:c,setFlowType:q}))):r.createElement(T.Z.Provider,{value:Ye},r.createElement(_.Z.Provider,{value:qe},z===o.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY?r.createElement(ct,{onConversationSelect:function(e){var t,n;Q?X({payload:{conversationId:null==e||null===(t=e.original)||void 0===t?void 0:t.id,knowledgeBaseId:null==s||null===(n=s.kbaId)||void 0===n?void 0:n.id}}):(Ze(!1),q(o.ZZ.KBA_ASSISTANT),v(e.original.id))},isLoading:Ne,withHeader:c}):r.createElement(Qt,{selectedKba:s,isLoading:Xe,loadingHelpText:Me?fn("generatingOverview"):void 0,closeSidebar:xe,initialMessages:We,onClearChat:function(){Ze(!0),Ve&&v("")},withHeader:c})))})),gn="COPILOT",bn="EXPLORE",Sn="EGNYTE_COPILOT_TABS";var hn=n(652421),Zn=(0,m.nD)("knowledgeBaseAssistant.sidebarRight.tabs");function yn(){var e=(0,i.Sv)().data,t=void 0===e?[]:e;return r.createElement(p.E,{gap:.5},r.createElement("span",null,Zn("explore")),t.length>0&&r.createElement(hn.Z,{color:hn.Z.BLUE,type:hn.Z.types.FILLED},t.length))}var Tn="GAs2mxEAx1LwcqmJTVDB",Cn=n(153672),In=n(296924),On=n(120491),An=n(581355),Pn=n(451545);function wn(e){var t=e.href;return r.createElement(J.Z,{as:"a",href:t,target:"_blank"},(0,m.t)("button.label.learnMore")," ",r.createElement(J.Z.Icon,{icon:Pn.g}))}var Nn=(0,m.nD)("recommendations.plg.copilot.promotion");function kn(){return r.createElement(X.Z,{tooltip:Nn("secondaryButtonTooltip"),actions:r.createElement(wn,{href:On.Z.recommendations.ASK_MODULE})},r.createElement(J.Z,null,Nn("secondaryButton"),r.createElement(J.Z.Icon,{icon:An.yo})))}var Rn=(0,m.nD)("recommendations.plg.copilot.promotion");function Dn(){return r.createElement(X.Z,{tooltip:Rn("primaryButtonTooltip"),actions:r.createElement(wn,{href:On.Z.recommendations.EGNYTE_COPILOT})},r.createElement(fe.Z,{type:fe.Z.PRIMARY},Rn("primaryButton"),r.createElement(fe.Z.Icon,{icon:An.yo})))}var Ln=(0,m.nD)("recommendations.plg.copilot.promotion");function _n(){var e=(0,Cn.ZP)().data,t=(0,In.GJ)(e);return r.createElement(gt.Z,{illustration:"sad-whale"},r.createElement(gt.Z.Heading,{testId:"copilot-promotion-title"},Ln("title")),r.createElement(gt.Z.Description,{testId:"copilot-promotion-description"},Ln("description",{context:t?"admin":"user"})),t&&r.createElement(Dn,null),r.createElement(kn,null))}var Bn=(0,m.nD)("knowledgeBaseAssistant.sidebarRight");function Fn(){var e=(0,E.Z)("isKbaEnabled"),t=function(){var e,t=(0,E.Z)("isKbaEnabled"),n=(0,i.Sv)().data,a=void 0===n?[]:n;return(0,r.useState)((e={isKbaEnabled:t,hasRecommendations:a.length>0}).isKbaEnabled&&!e.hasRecommendations?gn:bn)}(),n=(0,a.Z)(t,2),g=n[0],b=n[1],S=(0,Ue.q)(),h=S.closeSidebar,Z=S.setFlowType,y=(0,r.useState)(null),T=(0,a.Z)(y,2),C=T[0],I=T[1];return r.createElement(r.Fragment,null,r.createElement("div",{className:"l9SmPFgmbthmvih4dc2D"},r.createElement(l.Z,{type:l.Z.TYPE.PRIMARY,selectedTabKey:g,tabsKey:Sn,onChange:b,className:"RgzpOhyRSueiA8oNUL4z"},r.createElement(c.Z,{tabKey:gn},Bn("tabs.copilot")),r.createElement(c.Z,{tabKey:bn},r.createElement(yn,null))),r.createElement(p.E,null,C&&r.createElement(r.Fragment,null,r.createElement(Ve.C.Tooltiped,{tooltip:Bn("history.label")},r.createElement(Ve.C,{icon:u.PO,onClick:function(){return Z(o.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY)},ariaLabel:Bn("history.iconTooltip"),dataPendoId:"sidebar-header-history-toggle-button",testId:"sidebar-header-history-toggle-button",size:f.Z.sizes.SMALL})),r.createElement(v.Z,{iconButtonType:f.Z.OUTLINED,asIconButton:!0,iconButtonSize:f.Z.sizes.SMALL})),r.createElement(Ve.C.Tooltiped,{tooltip:(0,m.t)("button.label.close")},r.createElement(Ve.C,{icon:d.xv,onClick:h,ariaLabel:Bn("header.close"),dataPendoId:"sidebar-header-close-button",testId:"sidebar-header-close-button",size:f.Z.sizes.SMALL})))),r.createElement(s.Z,{tabKey:gn,selectedTabKey:g,tabsKey:Sn,className:Tn},e?r.createElement(vn,{withHeader:!1,onSelectKba:I,selectedKba:C}):r.createElement("div",{className:"L29VsK86rqxjB44JEhUJ"},r.createElement(_n,null))),r.createElement(s.Z,{tabKey:bn,selectedTabKey:g,tabsKey:Sn,className:Tn},r.createElement("div",{className:"K7vPbz5jZsKfT_xXl890"},r.createElement(i.KX,null))))}function Mn(){var e=(0,i.K0)(),t=(0,Ue.q)(),n=t.isKnowledgeBaseCopilotHubRoute,l=t.knowledgeBaseSubFlowType,c=(0,r.useState)(null),s=(0,a.Z)(c,2),u=s[0],d=s[1];return e&&!n&&l!==o.lu.CONTRACTS?r.createElement(Fn,null):r.createElement(vn,{withHeader:!0,onSelectKba:d,selectedKba:u})}},522171:function(e,t,n){n.d(t,{EE:function(){return r},Eu:function(){return d},Fk:function(){return m},O6:function(){return E},S9:function(){return f},Xw:function(){return u},_F:function(){return l},rh:function(){return c},tQ:function(){return p},vP:function(){return o},w6:function(){return s}});var a=n(266606),r={HELP:"Help",UNIVERSITY:"University",PRODUCT_UPDATES:"Product Updates",COMMUNITY:"Community"};function i(e,t,n){var r=t?" ".concat(t):"",i="Embedded Sidepanels: ".concat(e).concat(r);n?a.Z.track(i,n):a.Z.track(i)}function o(e,t){i("Search Initiated",e,{"Search Query":t.searchQuery})}function l(e,t){i("Search Results Displayed",e,{"Search Query":t.searchQuery})}function c(e){var t=e.searchQuery;i("Search Suggestions Displayed",r.HELP,{"Search Query":t})}function s(e,t){i("Article Opened",e,{"Article ID":t.articleId})}function u(e){i("View More Links",e)}function d(e){i("Contact Support Link Click",e)}function m(e){i("Contact Support Form Opened",e)}var E={EGNYTE_USERS:"Egnyte Users",ADMINISTRATORS:"Administrators",WEBINARS:"Webinars",QUICK_TIPS:"Quick Tips"};function p(e){i("Tile Links",r.UNIVERSITY,{"Tile ID":e})}function f(){i("Link Opened",r.COMMUNITY)}},934140:function(e,t,n){var a=n(667294),r=n(294184),i=n.n(r),o=n(588310);t.Z=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return a.createElement("div",{className:i()(o.Z.fixedColumn,r),"data-tid":"sidebarfixed-section","data-pendoid":"sidebar-right-fixed"},t)}},607026:function(e,t,n){n.d(t,{HL:function(){return S},Tn:function(){return b},F2:function(){return g}});var a=n(204942),r=n(105171),i=n(461498),o=n(143046),l=n(534733),c=n(762074),s=n(904975);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t){if(e&&t&&0!==t.length&&/<citation[^>]*>/g.test(e)){var n,a=new Map,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}(e.matchAll(/<citation\s+data-index="(\d+)"\s+data-source-text="([^"]*)"[^>]*>/g));try{var i=function(){var e=n.value,r=parseInt(e[1],10);if(Number.isInteger(r)&&r>=1){var i=e[2].replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),o=t.find((function(e){return e.chunks.some((function(e){var t=e.sourceText.replace(/"/g,"").replace(/\n/g," ").replace(/\r/g," ").replace(/\s+/g," ").trim(),n=i.replace(/\s+/g," ").trim();return t.includes(n)||n.includes(t)}))}));if(o)a.set(r,o);else{var l=t[Math.min(r-1,t.length-1)];l&&a.set(r,l)}}};for(r.s();!(n=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return a.size>0?a:void 0}}var m=n(48200);var E=n(158274);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(0,c.nD)("copilotHub"),g=function(e){var t=[];return e&&(null==e?void 0:e.status)!==i.YN.DELETED&&null!=e&&e.history?(e.history.forEach((function(n,a){var i={content:n.question,isSummary:!1,systemGeneratedQuestion:void 0,type:r.C7.USER_MESSAGE},o=function(e){var t=function(e){if(!e||0===e.length)return null;var t=new Map,n=new Map,a={value:0},i=[],o=function(e){return e.filter((function(e){return null==e?void 0:e.trim()})).map((function(e){try{var t=(0,m.E9)(e.trim());return t.name===r.YO.TEXT_CHUNK?t:null}catch(e){return null}})).filter((function(e){return null!==e}))}(e);return o.forEach((function(e){var r,o=null!==(r=e.data)&&void 0!==r?r:{},l=o.text,c=void 0===l?"":l,s=o.citations,u=void 0===s?[]:s;if(i.push(c),u.length>0){var d=u.map((function(e){return function(e,t,n,a){var r=function(e,t,n,a){var r=e.entryId||"".concat(e.filename,"-").concat(e.objectId),i=t.get(r);return void 0===i&&(a.value+=1,i=a.value,t.set(r,i),n.set(i,e)),{index:i}}(e,t,n,a),i=r.index,o=e.chunks.map((function(e){return e.sourceText})).join(" ").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\n/g," ").replace(/\r/g," ");return'<citation data-index="'.concat(i,'" data-source-text="').concat(o,'">').concat(i,"</citation>")}(e,n,t,a)})).join("");i.push(d)}})),t.size>0?{content:i.join(""),citationMapping:t}:null}(e.events);return t?{content:t.content,citationMapping:t.citationMapping}:e.answer.contentWithInlineCitations?{content:e.answer.contentWithInlineCitations,citationMapping:d(e.answer.contentWithInlineCitations,e.answer.citations)}:{content:e.answer.responseText,citationMapping:void 0}}(n),l=o.content,c=o.citationMapping,s={citations:n.answer.citations||[],content:l,feedback:null,question:n.question,questionId:n.answer.questionId||a,searchResults:n.answer.searchResults||[],type:r.C7.RESPONSE,conversationId:null==e?void 0:e.id,skillType:n.answer.skillType,isQuestionIdFromResponse:!!n.answer.questionId,citationMapping:c,modelDetails:n.modelDetails};t.push(i,s)})),t):[]},b=function(e){var t=e.description;return{id:E.eB,kbaId:{id:E.eB},progress:100,name:v("egnyteCopilot"),description:"",paths:[{id:"copilot-egnyte-id",kbaId:E.eB,folderId:"copilot-egnyte-folderId",path:"/Shared",permission:l.$A.ADMIN,status:i.YN.ACTIVE}],status:i.YN.ACTIVE,type:s.T5.KNOWLEDGE_BASE,createdBy:v("created.createdBy"),createdByUser:{firstName:v("created.firstName"),lastName:v("created.lastName"),userId:1,avatarEosObjectId:"avatarEosObjectId",userName:v("created.userName")},noResponseMessage:"",createdOn:E.Y.getTime(),iconName:"aiSpark",subType:o.Tn.USER_DEFINED,systemGeneratedDescription:t,prompts:[],subStatus:i.$b.WITHIN_LIMIT}},S=function(e){return f(f({},e),{},{iconName:"aiSpark",systemGeneratedDescription:e.description})}},451442:function(e,t,n){n.d(t,{Z:function(){return Fi}});var a=n(204942),r=n(529439),i=n(667294),o=n(294184),l=n.n(o),c=n(601714),s=n(776327),u=n(153672),d=n(605017),m=n(956688),E=n(215671),p=n(143144),f=n(497326),v=n(360136),g=n(182963),b=n(661120),S=n(19309),h=n(986456),Z=n.n(h),y=n(13764),T=(n(318450),n(190544)),C=n(240701),I=n(23661);var O=function(e){(0,v.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,b.Z)(t);if(n){var r=(0,b.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,g.Z)(this,e)});function r(){return(0,E.Z)(this,r),a.apply(this,arguments)}return(0,p.Z)(r,[{key:"isForDelete",value:function(){var e=this.get("action");return e===r.ACTION_TYPES.DELETE_FILE||e===r.ACTION_TYPES.DELETE_FOLDER}},{key:"isForMove",value:function(){var e=this.get("action");return(e===r.ACTION_TYPES.MOVE_FILE||e===r.ACTION_TYPES.MOVE_FOLDER)&&!this.get("details.rename")}},{key:"isForRename",value:function(){var e=this.get("action");return(e===r.ACTION_TYPES.MOVE_FILE||e===r.ACTION_TYPES.MOVE_FOLDER)&&this.get("details.rename")}},{key:"isFolderAction",value:function(){var e=this.get("action"),t=e===r.ACTION_TYPES.RESTORE_FROM_TRASH&&!this.get("details.entryId");return e===r.ACTION_TYPES.ADD_FOLDER||e===r.ACTION_TYPES.MOVE_FOLDER||e===r.ACTION_TYPES.COPY_FOLDER||t}},{key:"isCommentAction",value:function(){var e=this.get("action");return e===r.ACTION_TYPES.SET_COMMENT_EVENT||e===r.ACTION_TYPES.REMOVE_COMMENT_EVENT}},{key:"isForAddedComment",value:function(){return this.get("action")===r.ACTION_TYPES.SET_COMMENT_EVENT}},{key:"isForRemovedComment",value:function(){return this.get("action")===r.ACTION_TYPES.REMOVE_COMMENT_EVENT}},{key:"isForCopy",value:function(){var e=this.get("action");return e===r.ACTION_TYPES.COPY_FILE||e===r.ACTION_TYPES.COPY_FOLDER}},{key:"getThumbnailUrl",value:function(){return this.get("details._self.linkedResources.itemThumbnail.url")}},{key:"getCommentText",value:function(){return this.get("details.commentText")}},{key:"getSourceProp",value:function(e){return this.get("details.source.".concat(e))}},{key:"getTargetProp",value:function(e){return this.get("details.target.".concat(e))}},{key:"getSourceName",value:function(){return this.getSourceProp("name")}},{key:"getSourcePath",value:function(){return this.getSourceProp("path")}},{key:"getSourceParentPath",value:function(){return this.getSourceProp("parentPath")}},{key:"getTargetName",value:function(){return this.getTargetProp("name")}},{key:"getTargetPath",value:function(){return this.getTargetProp("path")}},{key:"getTargetParentPath",value:function(){return this.getTargetProp("parentPath")}}]),r}(S.Z.Model);(0,a.Z)(O,"ACTION_TYPES",{ADD_FILE:"ADD_FILE",COPY_FILE:"COPY_FILE",MOVE_FILE:"MOVE_FILE",DELETE_FILE:"DELETE_FILE",ADD_FOLDER:"ADD_FOLDER",COPY_FOLDER:"COPY_FOLDER",MOVE_FOLDER:"MOVE_FOLDER",DELETE_FOLDER:"DELETE_FOLDER",RESTORE_FROM_TRASH:"RESTORE_FROM_TRASH",SET_COMMENT_EVENT:"SET_COMMENT_EVENT",REMOVE_COMMENT_EVENT:"REMOVE_COMMENT_EVENT",RENAME:"RENAME"});var A=O,P=function(e){Z().extend(this,e||{})};Z().extend(P.prototype,{url:function(){return C.Z.FOLDER_ACTIVITIES({folderId:this.folderId,withViewerOnly:this.permission===y.vk.ViewerOnly||void 0})},parse:function(e){return Z().reject(e.results,{action:A.ACTION_TYPES.REMOVE_COMMENT_EVENT})}});var w=P;var N=function(e){(0,v.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,b.Z)(t);if(n){var r=(0,b.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,g.Z)(this,e)});function i(){var e;(0,E.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,a.Z)((0,f.Z)(e),"model",A),e}return(0,p.Z)(i,[{key:"initialize",value:function(e,t){return t=t||{},this.adapter=t.adapter||new w(t),S.Z.Collection.prototype.initialize.apply(this,arguments)}}]),i}(S.Z.Collection),k=N,R=n(460474),D=n(92242),L=n(970770),_=n(267807),B=n(461498),F=n(264802),M=n(57363),j=n(641822),x=n(327226),H=n(977771),V=n(184614),U=n(441043),K=n(653117),Y=n(645816),G=n(962284),z=n(136988),q=n(639896),W=(0,i.createContext)(void 0);function Q(e){var t=e.children,n=e.value;return i.createElement(W.Provider,{value:n},t)}function X(){var e=(0,i.useContext)(W);if(void 0===e)throw new Error("useQuickViewContext must be used within a QuickViewProvider");return e}var J=n(986619),$=n(604769),ee=n(491568),te=n(779210),ne=n(499039),ae=n(528348),re=n(867071),ie=n(641175),oe=n(355401),le=n(337995),ce=n(581162),se=n(318890),ue=n(540810),de=n(369889),me=n(347392),Ee=n(974127),pe=n(762074),fe=n(93433),ve=n(946264),ge=n(72722),be=n(491067),Se=n(17791),he=n(654777),Ze=n(26136),ye=n(353487),Te=n(274042),Ce=n(406306),Ie=n(358156),Oe=n(840258),Ae=n(828800),Pe=n(824063),we="Dln1nbAY4tgpQbDP1Gvh",Ne=n(151548),ke=n(579621),Re=n(15726),De=n(278714),Le=n(621465),_e=n(799532),Be=n(345247),Fe=n(698607),Me=n(26346),je=(0,pe.nD)("quickView");function xe(){return i.createElement(i.Fragment,null,i.createElement(ke.Z.Icon,{icon:De.T}),je("actions.edit"))}function He(e){var t=e.integrationCallbacks,n=X(),a=n.selectedItem,o=n.location,l=function(e){var t=e.selectedItem,n=e.location,a=e.placement,r=e.integrationCallbacks,o=(0,J.A)({selectedItems:[t],location:n}),l=(0,Me.Z)({folderItem:t,placement:a,integrationCallbacks:r,computedActions:o}),c=l.prioritizedApps,s=void 0===c?[]:c,u=l.defaultApp,d=l.currentApp,m=null!=u&&u.isAllowed?u:void 0,E=s.filter((function(e){return e.isAllowed||e.disabledReason})),p=(0,i.useMemo)((function(){return[].concat((0,fe.Z)(E.map((function(e){return(0,$.hV)({id:(0,Be.rh)(e),label:e.name,iconUrl:e.iconUrl,onClick:e.action,tooltip:(0,Be.m5)({app:e,currentApp:d,selectedItem:t}),disabledReason:e.disabledReason})}))),[(0,Be.iG)(),(0,Be.d3)()])}),[d,E,t]),f=(0,i.useMemo)((function(){return(0,$.mz)(p,o)}),[p,o]);return{defaultApp:m,currentApp:d,computedEditActions:f}}({selectedItem:a,location:o,placement:ue.Z.QUICK_VIEW,integrationCallbacks:t}),c=l.computedEditActions,s=l.defaultApp,u=l.currentApp;if(0===c.length)return null;if(function(e){return 1===e.length&&[Be.lh.EDIT_PDF_ACTION_ID,Be.lh.WEBEDIT_ACTION_ID].includes(e[0].id)}(c)){var d=(0,r.Z)(c,1)[0],m=d.disabledReason,E=d.label,p=d.onClick;return i.createElement(Fe.Z,{tooltip:m||E},i.createElement(ke.Z,{type:ke.Z.PRIMARY,onClick:function(){return p({selectedItems:[a]})},"data-tid":"quick-view--edit-button-single"},i.createElement(xe,null)))}if(function(e,t){return 1===e.length&&t&&e[0].id===(0,Be.rh)(t)}(c,s)){var f=(0,Be.m5)({app:s,currentApp:u,selectedItem:a});return i.createElement(Fe.Z,{tooltip:f||(0,pe.t)("actions.collaboration.editIn",{name:null==s?void 0:s.name})},i.createElement(ke.Z,{type:ke.Z.PRIMARY,onClick:null==s?void 0:s.action,"data-tid":"quick-view--edit-button-default-app"},i.createElement(xe,null)))}return i.createElement(Re.Z,{"data-tid":"quick-view--edit-button-group"},s&&i.createElement(Fe.Z,{tooltip:(0,pe.t)("actions.collaboration.editIn",{name:s.name})},i.createElement(ke.Z,{type:ke.Z.PRIMARY,onClick:s.action,"data-tid":"quick-view--edit-button-default"},i.createElement(xe,null))),c.length>0&&i.createElement(te.Z,{trigger:i.createElement(ke.Z,{type:ke.Z.PRIMARY,"data-tid":"quick-view--edit-dropdown-trigger"},!s&&i.createElement(xe,null),i.createElement(ke.Z.Icon,{icon:Le.Dd,customSize:_e.Z.sizes.S}))},i.createElement(le.Z,{className:we},i.createElement(ee.S,{schema:c,tidPrefix:"quick-view--edit-actions",onClickProps:{selectedItems:[a]}}))))}var Ve=n(841413),Ue=n(2764),Ke=n(381908),Ye=n(823592),Ge=n(954033),ze=(0,pe.nD)("quickView");function qe(e){var t=e.integrationCallbacks,n=X().selectedItem,a=(0,i.useMemo)((function(){return(0,Ke.n)({getIntegrationActions:Ue.Z.getOpenInActions.bind(Ue.Z),folderItems:(0,Ye.xH)([n]),integrationCallbacks:t,placement:Ge.Z.CONTEXT_MENU_OPEN_IN})}),[t,n]),r=(0,Be.Xt)({openInApps:a}).actions;return 0===r.length?null:i.createElement(te.Z,{trigger:i.createElement(ne.Z,{type:ke.Z.PRIMARY,"data-tid":"quick-view--open-dropdown-trigger"},i.createElement(ne.Z.Icon,{icon:Ve.g}),ze("actions.open"))},i.createElement(le.Z,{className:we},i.createElement(ee.S,{schema:r,tidPrefix:"quick-view--more-actions",onClickProps:{selectedItems:[n]}})))}function We(){var e=X(),t=e.selectedItem,n=e.integrationCallbacks;return(0,Ne.d)([t])?i.createElement(He,{integrationCallbacks:n}):i.createElement(qe,{integrationCallbacks:n})}function Qe(e){var t=e.action,n=e.icon,a=e.onClick,r=e.label,o=e.text;return function(e){return e.allowed||!!e.reason}(t)?i.createElement(Fe.Z,{tooltip:t.reason},i.createElement(ke.Z,{disabled:!!t.reason,type:ke.Z.SECONDARY,"aria-label":r,onClick:a,"data-tid":"quick-view--action-".concat(r)},i.createElement(ke.Z.Icon,{icon:n}),o)):null}var Xe=n(272316),Je=(0,pe.nD)("quickView");function $e(){var e=X(),t=e.selectedItem,n=e.location,a=e.integrationCallbacks,o=(0,oe.q)().documentRoomId,l=function(e){var t=e.selectedItems,n=e.integrationCallbacks,a=e.location,o=(0,J.A)({selectedItems:t,location:a}),l=(0,r.Z)(t,1)[0],c=(0,u.ZP)().data,s=(0,R.Z)("unifiedCopyAndMoveEnabled"),d=(0,R.Z)("contextMenuShortcutsEnabled"),m=(0,i.useMemo)((function(){return[(0,be.P1)({env:c,isContextMenuShortcutsEnabled:d}),(0,be.cs)({env:c}),(0,be.sE)(),(0,be.qf)()].concat((0,fe.Z)(s?[(0,be.sp)({env:c,isContextMenuShortcutsEnabled:d})]:[(0,be.yz)(),(0,be.j9)({env:c})]),[(0,be.jF)()])}),[c,d,s]),E=(0,ve.q9)({folderId:l.id.toString()},{enabled:o.SendUploadRequest.allowed}).data,p=void 0===E?[]:E,f=(0,Te.O)({selectedItem:l}),v=(0,Pe.iV)({selectedItem:l}),g=(0,i.useMemo)((function(){return[(0,Se.Dj)(),f,(0,Se.Oi)(),(0,Se.lL)(p),v]}),[v,f,p]),b=(0,Ie.MP)(),S=(0,i.useMemo)((function(){return[b,(0,Ie.sL)({shouldGoToFolderPath:a!==z.GJ.STORAGE})]}),[b,a]),h=(0,he.x5)({selectedItems:t}),Z=(0,Ze.PD)({item:t[0]}),y=(0,ye.jC)({selectedItems:t,integrationCallbacks:n}),T=(0,Ce.uE)({selectedItems:t}),C=(0,Ae.bd)({selectedItems:t}),I=(0,i.useMemo)((function(){return[T,(0,Ce.fm)()]}),[T]),O=(0,ge.ZP)({selectedItems:t}),A=(0,i.useMemo)((function(){return[(0,Oe.KY)(),O,(0,Oe.BM)(),(0,Oe.Ah)(),(0,Oe.GQ)(),(0,Oe._8)()]}),[O]);return(0,i.useMemo)((function(){return[(0,$.sS)({id:"primary-actions",actions:m}),(0,$.sS)({id:"secondary-actions",actions:g}),(0,$.sS)({id:"copilot-actions",actions:S}),(0,$.sS)({id:"egnyte-actions",actions:I}),(0,$.sS)({id:"folder-actions",actions:A}),(0,$.sS)({id:"more-actions",actions:[C]}),(0,$.sS)({id:"integrations",actions:[y]}),(0,$.sS)({id:"file-properties-actions",actions:[Z]}),(0,$.sS)({id:"destructive-actions",actions:h})]}),[m,g,S,I,A,C,y,Z,h])}({selectedItems:[t],integrationCallbacks:a,location:n}),c=(0,J.A)({selectedItems:[t],location:n}),s=(0,i.useMemo)((function(){return(0,$.mz)(l,c)}),[c,l]);return i.createElement("div",{className:"X86MHx33dcvnhCxK4JQP","data-tid":"quick-view--actions-container"},i.createElement(We,null),i.createElement(Qe,{action:c.SendPublicLink,label:"publicLink",icon:ae.Z,onClick:function(){(0,Ee.ZP)({items:(0,Ee.Pw)(new Xe.Collection([t]),o),actionSource:ue.Z.QUICK_VIEW})}}),i.createElement(Qe,{action:c.Download,icon:ce.V,label:"download",onClick:function(){return(0,se.Z)([t],ue.Z.QUICK_VIEW)}}),s.length>0&&i.createElement(te.Z,{trigger:i.createElement(ne.Z,{chevron:!1,type:ne.Z.SECONDARY,"data-tid":"quick-view--more-actions-trigger"},i.createElement(ne.Z.Icon,{icon:re.LH}))},i.createElement(le.Z,{className:we},i.createElement(ee.S,{schema:s,tidPrefix:"quick-view--more-actions",onClickProps:{selectedItems:[t]}}))),i.createElement(Y.Z,{direction:Y.Z.directions.VERTICAL,margin:0,dynamic:!0}),i.createElement(Qe,{action:c.Preview,icon:ie.j,label:"preview",text:Je("actions.preview"),onClick:function(){var e;de.ZP.run(t,t.collection,{actionSource:ue.Z.QUICK_VIEW,gotoFolderPath:!1,disableNavigateTrigger:(0,me.GB)(),workspaceId:null!==(e=(0,me.yT)())&&void 0!==e?e:void 0})}}))}var et=n(32570),tt=n(40509),nt=n(221752),at=n(567421),rt=n(722610),it=n(379828),ot=n(809981),lt=n(115861),ct=n(364687),st=n.n(ct),ut=n(285106),dt=n(57324),mt=n(792189),Et=n(397404),pt=n(455298);function ft(e){var t=e.name,n=e.deepLink,a=e.summary,r=document.createElement("span"),i=document.createElement("strong");i.textContent="".concat(t," "),r.appendChild(i),r.appendChild(document.createElement("br"));var o=document.createElement("a");o.href=n,o.rel="noopener noreferrer",o.target="_blank",o.textContent="".concat(n," "),r.appendChild(o),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("br"));var l=document.createElement("p");return l.textContent=a,r.appendChild(l),r}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=(0,pe.nD)("quickView"),St=(0,pe.nD)("quickView"),ht=(0,pe.nD)("button.label");function Zt(e){var t=e.summaryText,n=e.closeSummary,a=e.regenerateSummary,r=function(e){var t=(0,ut.Z)().copyFormattedText,n=(0,i.useCallback)(function(){var n=(0,lt.Z)(st().mark((function n(a){var r,i,o,l;return st().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,dt.bW)(e,c.Z.getRootCfsUrl(),gt(gt({},(0,mt.tz)()?{showSmartTags:!0}:{}),(0,me.GB)()?{source:"document-portal"}:{})),o=null!==(r=e.get("name"))&&void 0!==r?r:"",l=ft({name:o,deepLink:i,summary:a}),n.next=5,(0,pt.Y)(t(l));case 5:n.sent.error||(0,Et.c0)(Et.em.success,bt("aiSummary.copySuccessNotification"));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]);return{copy:n}}(X().selectedItem),o=r.copy;return i.createElement(G.Z,{direction:"column",gap:1},i.createElement("div",{"data-tid":"summary-view-header"},i.createElement(G.Z,{direction:"row",justifyContent:"space-between",gap:1},i.createElement(G.Z,{direction:"row",alignItems:"center",gap:1},i.createElement(_e.Z,{icon:at.w2,size:_e.Z.sizes.M}),i.createElement(tt.Z.Paragraph,{type:"p1"},i.createElement(tt.Z.SemiBold,null,St("aiSummary.label")))),i.createElement(ke.Z,{type:ke.Z.TERTIARY_SUBTLE,onClick:n,size:ke.Z.sizes.SMALL},i.createElement(ke.Z.Icon,{"aria-label":ht("close"),icon:rt.fI})))),i.createElement(tt.Z.Paragraph,{type:"p1"},t),i.createElement(G.Z,{direction:"row",gap:.5},i.createElement(Fe.Z,{tooltip:St("aiSummary.regenerate")},i.createElement(ke.Z,{type:ke.Z.TERTIARY_SUBTLE,onClick:a,size:ke.Z.sizes.SMALL},i.createElement(ke.Z.Icon,{"aria-label":St("aiSummary.regenerate"),icon:it.H}))),i.createElement(Fe.Z,{tooltip:ht("copy")},i.createElement(ke.Z,{type:ke.Z.TERTIARY_SUBTLE,onClick:function(){return o(t)},size:ke.Z.sizes.SMALL},i.createElement(ke.Z.Icon,{"aria-label":ht("copy"),icon:ot.O})))))}var yt=n(379499),Tt=n(269470),Ct=(0,pe.nD)("actions");function It(){return i.createElement(Fe.Z,{tooltip:Ct("GPTFileOrFolderSummary.defaultError")},i.createElement(_e.Z,{"data-tid":"error-indicator",icon:yt.nL,size:_e.Z.sizes.M,variant:_e.Z.variants.ERROR}))}function Ot(e){var t=e.generateSummary,n=e.isError,a=X().selectedItem,r=(0,i.useMemo)((function(){return(0,dt.cX)(a)}),[a]),o=(0,Tt.e)([r]),l=o.disabled,c=o.disableReason;return i.createElement(Fe.Z,{disabled:!l,tooltip:c},i.createElement(ke.Z,{disabled:l||n,type:ke.Z.TERTIARY,onClick:t},i.createElement(ke.Z.Icon,{icon:at.w2}),Ct("GPTFileOrFolderSummary.summarize",{context:a.get("type")}),n&&i.createElement(It,null)))}var At=(0,pe.nD)("actions");function Pt(){return i.createElement(G.Z,{direction:"row",alignItems:"center",gap:1},i.createElement(et.Z,{size:"24px"}),i.createElement(tt.Z.Paragraph,{type:"p1"},At("GPTFileOrFolderSummary.generating")))}function wt(){var e=X().selectedItem,t=(0,i.useMemo)((function(){return e.get("entryId")||e.id}),[e]),n=(0,nt.Pr)(t),a=n.mutate,r=n.isLoading,o=n.isError,l=n.summary,c=n.invalidate,s=function(){a({entityId:t,entityType:e.get("type")})};return r?i.createElement(Pt,null):null!=l&&l.responseText?i.createElement(Zt,{summaryText:null==l?void 0:l.responseText,closeSummary:function(){c()},regenerateSummary:s}):i.createElement(Ot,{generateSummary:s,isError:o})}function Nt(){return(0,R.Z)("isPreviewGPTChatWithFileFeatureEnabled")?i.createElement("div",{"data-tid":"quick-view--ai-summary-section"},i.createElement(G.Z,{justifyContent:"center",alignItems:"center",paddingX:2},i.createElement(wt,null))):null}var kt=n(499345),Rt=n(579099),Dt=n(4845),Lt=n(599950),_t=function(){var e=X().selectedItem,t=(0,oe.q)().closeSidebar,n=(0,i.useMemo)((function(){return(0,dt.cX)(e)}),[e]),a=e.attributes,r=a.name,o=void 0===r?"":r,l=a.type,c=void 0===l?"file":l;return i.createElement("header",{className:"HMBRmVl1UNeHkJfZzbPw","data-tid":"quick-view--header"},i.createElement("div",{className:"oH6SItBNDy8xECqFSLId"},i.createElement("div",{className:"KSjN0ZX4wwLwCjaUVGv1"},i.createElement(Rt.Z,{thumbnailUrl:e.getThumbnailUrl(),name:o,type:c})),i.createElement("div",{className:"apvi34PjdA7IIqnu_HaQ"},i.createElement(tt.Z.Header,{type:"h4"},i.createElement(kt.Z,null,o))),i.createElement(Lt.PT,{items:[n]})),i.createElement(Dt.Z,{icon:rt.xv,onClick:t,"aria-label":(0,pe.t)("button.label.close"),type:Dt.Z.OUTLINED,size:Dt.Z.sizes.SMALL,"data-tid":"quick-view--header--close-button"}))},Bt=n(8786),Ft=n(450155),Mt=n(468396),jt=n(868660),xt=n(355345),Ht=n(802535),Vt=n(289578),Ut=n(233897),Kt=n(307179),Yt=n(119179),Gt=n(302782),zt=n(340740),qt=n(999932),Wt=n(296924),Qt=n(333340),Xt=n(218629),Jt=n(54106),$t=function(e){var t=e.label,n=e.children,a=e.onCopy;return i.createElement("div",{className:"Xl1crQ0br3FfC5ykEoIS"},i.createElement("div",{className:"OeNckBHass1Um19NwHCq"},i.createElement(tt.Z.Paragraph,{type:"p1",color:"grey600"},t)),i.createElement("div",{className:"q0a5ViT4TUqeyCQSVkdj"},i.createElement(kt.Z,{tooltip:n},i.createElement(tt.Z.Paragraph,{type:"p1",color:"grey900"},n))),a&&i.createElement(Dt.Z,{type:Dt.Z.GHOSTED,size:Dt.Z.sizes.SMALL,icon:Jt.O,onClick:a,"aria-label":"Copy ".concat(t),"data-tid":"copy-button"}))},en=n(652421),tn=function(e){var t=e.icon,n=e.count,a=e.onClick,r=e.tooltip,o=e["data-tid"],l=i.createElement(en.Z,{color:en.Z.COOL_GRAY,type:en.Z.types.OUTLINED,size:en.Z.sizes.MEDIUM,onClick:a,"data-tid":o},i.createElement(G.Z,{alignItems:"center",gap:1},n&&i.createElement(tt.Z.SemiBold,null,n),i.createElement(_e.Z,{icon:t,size:_e.Z.sizes.M})));return r?i.createElement(Fe.Z,{tooltip:r},l):l};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=(0,pe.nD)("quickView.properties"),on=(0,pe.nD)("actions.share.directLink"),ln=function(){var e=X().selectedItem,t=(0,i.useMemo)((function(){return(0,dt.cX)(e)}),[e]),n=(0,Bt.Z)("quickView/propertiesExpanded",!1),a=(0,r.Z)(n,2),o=a[0],l=a[1],c=(0,u.ZP)().data,s=(0,Wt.Kg)(c),d=(0,R.Z)("commentsEnabled"),m=(0,R.Z)("tasksEnabled"),E=(0,R.Z)("eSignatureEnabled"),p=(0,R.Z)("activeLinksIndicatorEnabled"),f=(0,R.Z)("isDocumentsPreviewAnalyticsForDocumentEnabled"),v=(0,Qt.EE)(e.id,Xt.kE.ALL,{enabled:m&&"file"===t.type}).workflowsCount,g=(0,i.useCallback)((function(){l(!o)}),[o,l]),b=(0,i.useMemo)((function(){var e,n,a=an(an({},(0,mt.tz)()?{showSmartTags:!0}:{}),(0,me.GB)()?{source:"document-portal"}:{});return{displaySize:t.size?(0,Ut.W)(t.size):"-",lastUpdatedBy:t.owner?(0,Kt.v2)(t.owner):"-",modified:t.lastModifiedTimestamp?(0,Yt.jQ)(t.lastModifiedTimestamp):"-",directLink:(0,dt.bW)(t,(0,u.RM)(null==c?void 0:c.workgroup),a),commentsCount:(null===(e=t.notes)||void 0===e?void 0:e.count)||0,versionsCount:(null===(n=t.revisions)||void 0===n?void 0:n.count)||0,linksCount:t.activeLinks||0,signaturesCount:0,isPDFFile:"pdf"===t.extension,hasEditorPermission:!!t.permission&&(0,y.zm)(t.permission)}}),[t,null==c?void 0:c.workgroup]),S=b.displaySize,h=b.lastUpdatedBy,Z=b.modified,T=b.directLink,C=b.commentsCount,I=b.versionsCount,O=b.linksCount,A=b.signaturesCount,P=b.isPDFFile,w=b.hasEditorPermission,N=(0,i.useCallback)((function(){(0,qt.Z)(T,{onSuccess:function(){(0,Et.c0)(Et.em.success,on("success"))}})}),[T]),k=(0,i.useCallback)((function(){de.ZP.run(e,e.collection,{panelToOpen:de.ZP.PANELS.COMMENTS})}),[e]),D=(0,i.useCallback)((function(){(0,Gt.Z)(e)}),[e]),L=(0,i.useCallback)((function(){t.name&&t.id&&t.type&&(0,zt.Z)({activeLinks:O,itemName:t.name,id:t.id,itemType:t.type})}),[t,O]),_=(0,i.useCallback)((function(){de.ZP.run(e,e.collection,{panelToOpen:de.ZP.PANELS.TASKS})}),[e]),B=(0,i.useCallback)((function(){de.ZP.run(e,e.collection,{panelToOpen:de.ZP.PANELS.PREVIEW_ANALYTICS})}),[e]),F=f&&P&&w&&!s,M=(0,i.useMemo)((function(){return[d&&{icon:Ft.DM,count:C,onClick:k,tooltip:rn("comments"),dataTid:"status-badge-comments"},{icon:Ht.b,count:I,onClick:D,tooltip:rn("versions"),dataTid:"status-badge-versions"},p&&{icon:Mt.Sq,count:O,onClick:L,tooltip:rn("activeLinks"),dataTid:"status-badge-links"},m&&{icon:Vt.k,count:v.all,onClick:_,tooltip:rn("workflows"),dataTid:"status-badge-workflows"},E&&{icon:jt.nn,count:A,onClick:void 0,tooltip:rn("signatures"),dataTid:"status-badge-signatures"},F&&{icon:xt.hI,onClick:B,tooltip:rn("views"),dataTid:"status-badge-views"}].filter(Boolean)}),[d,C,k,I,D,p,O,L,m,v.all,_,E,A,F,B]);return i.createElement("div",{"data-tid":"quick-view--properties-section"},i.createElement(G.Z,{direction:"column"},i.createElement(G.Z,{justifyContent:"space-between",alignItems:"center",padding:2},i.createElement(tt.Z.Paragraph,{color:"grey900"},i.createElement(tt.Z.SemiBold,null,rn("title"))),i.createElement(ke.Z,{type:ke.Z.TERTIARY_SUBTLE,onClick:g},rn(o?"showLess":"showMore"))),i.createElement("div",{className:"luSHG4CDdaSVnDjZro52"},i.createElement($t,{label:rn("size")},S),i.createElement($t,{label:rn("lastUpdateBy")},h),o&&i.createElement(i.Fragment,null,i.createElement($t,{label:rn("modified")},Z),i.createElement($t,{label:rn("directLink"),onCopy:N},T)),i.createElement($t,{label:rn("status")},i.createElement(G.Z,{wrap:"wrap",gap:1},M.map((function(e){return i.createElement(tn,{key:e.dataTid,icon:e.icon,count:e.count,onClick:e.onClick,tooltip:e.tooltip,"data-tid":e.dataTid})})))))))};function cn(){return(0,i.useEffect)((function(){return(0,q.V)(!0),function(){(0,q.V)(!1)}}),[]),i.createElement("div",{"data-tid":"quick-view-panel-container",className:"QYiMUZGQc8PUqFVmhu32"},i.createElement(_t,null),i.createElement($e,null),i.createElement("div",{className:"PRXIaXixAS45ym_BXCDy"},i.createElement(G.Z,{padding:2,gap:2,direction:"column"},i.createElement(Nt,null),i.createElement(Y.Z,{margin:0,dynamic:!0}),i.createElement(ln,null))))}function sn(e){var t=e.selectedItem,n=e.location,a=void 0===n?z.GJ.STORAGE:n,r=e.integrationCallbacks,o=void 0===r?{}:r;return i.createElement(Q,{value:{selectedItem:t,location:a,integrationCallbacks:o}},i.createElement(cn,null))}var un=n(473488),dn=n(887275),mn=n(823166),En=n(450672),pn=n(683680),fn=n(158274),vn=n(934140),gn=n(379683),bn=n(840988),Sn=n(707858),hn=function(e){var t=e.children,n=e.className;return i.createElement("div",{className:l()("activity-stream__message-wrapper",n)},i.createElement(_e.Z,{icon:Sn.w,className:"b8vh67Ewp_Oc8H5q9NuI",size:"118px"}),i.createElement("div",{className:"activity-stream__message"},t))},Zn=n(531081),yn=n(805252),Tn=n(368354),Cn=n(291176),In=n(372442),On=n(972845),An=n(277561),Pn=n(444840),wn=n(264928),Nn=n(501032),kn=n(922222),Rn=n.n(kn),Dn=/<br\s*\/?>/gi,Ln=n(953501),_n=n(650500),Bn=n(821442),Fn=n(58362);function Mn(e,t){var n=e.split("_"),a=(0,r.Z)(n,1)[0],i=(0,yn.Di)(t)?"FILE":"FOLDER";return"".concat(a,"_").concat(i,"_SHORTCUT")}function jn(e,t){var n=e.getTargetParentPath();return n!==t&&n}function xn(e,t,n){(0,yn.zD)(e.getTargetPath())?(0,Cn.Z)({navigateToFolder:wn.uj,openPreview:de.ZP.run,shortcutPath:e.getTargetPath(),targetDownloadUrl:e.get("details._self.linkedResources.itemDownload.url")}):de.ZP.run(e.get("details.groupId"),[],{panelToOpen:t&&de.ZP.PANELS.COMMENTS,gotoFolderPath:jn(e,n)})}function Hn(e){var t,n,a=e.model,r=void 0===a?{}:a,o=e.folderPath;return i.createElement("div",{role:"button",tabIndex:-1,className:"xdeTDh6J5KV1IdepdKhM",onClick:function(){return xn(r,!0,o)}},i.createElement("div",null,i.createElement(_n.Z,{lines:2},(t=r.getCommentText(),n=t.replace(Dn," "),n=Rn().stripTags(n),Rn().unescapeHTML(n)))))}function Vn(e){var t=e.model,n=e.folderPath,a=t.getTargetParentPath(),r=i.createElement("div",{className:"fsc7LjE6WAPwYDHAYV_r"},(0,pe.t)("storage.activity.labels.to"),i.createElement(Bn.Z,{className:"TfT8zgyOv7z_wNqIJxaT",onClick:function(){return(0,wn.uj)(a)}},i.createElement(Bn.Z.Icon,{icon:Zn.Hf}),i.createElement(kt.Z,{disableTooltip:!0},a.split("/").pop())));return a!==n?r:""}function Un(e){var t=e.model,n=e.folderPath,a=function(e){return e.isForMove()||e.isForDelete()||e.isForCopy()?An.Z.TYPE_FROM:An.Z.TYPE_IN}(t),r=a===An.Z.TYPE_FROM?t.getSourceParentPath():t.getTargetParentPath(),o=i.createElement(An.Z,{path:r,name:r.split("/").pop(),type:An.Z.TYPE_IN}),l=i.createElement("span",{className:"xzleljHyPxCzhbLvlnE1"},(0,pe.t)("storage.activity.labels.in"),i.createElement(_e.Z,{icon:Zn.Hf,size:"16px"}),i.createElement("span",null,(0,pe.t)("storage.activity.labels.thisFolder")));return n!==r?o:l}var Kn=function(e){var t=e.model,n=e.folderPath,a=(0,i.useState)(!1),o=(0,r.Z)(a,2),l=o[0],s=o[1],u=t.isForRename()&&i.createElement("span",{className:"LOKuG60IicNXieJz2UEc"},(0,Tn.q)(t.getSourceName())),d=function(e){var t=e.getThumbnailUrl();return t&&"".concat(t,"&w=").concat(230,"&h=").concat(200,"&type=proportional")}(t),m=t.get("user"),E=function(){return xn(t,t.isCommentAction(),n)};return i.createElement("div",{className:"Mx5SSGosXKolWX4vfDHf Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6"},i.createElement("div",{className:"Oge2CvpXM_qOr9l3kqWv"},i.createElement("div",{className:"VQsn5gJ9U70zDs7OPc6N"},i.createElement(Ln.Z,{user:m,avatar:!0},i.createElement(Pn.Z,{isColored:!0,size:Pn.Z.SMALL,user:m}))),i.createElement("div",null,i.createElement("div",null,i.createElement("div",{className:"wkr6vZnE7M3rTiJD_TUV"},i.createElement(Ln.Z,{user:m},i.createElement(In.Z,{user:m,className:"GYihek7JwXU7lzgHYsJt eugzcnL4uVMlgbRkfTqa"})),i.createElement("span",null," ",(0,pe.t)("storage.activity.actions.".concat(function(e){var t=e.isForRename()?A.ACTION_TYPES.RENAME:e.get("action");return(0,yn.zD)(e.get("details.target.path"))?Mn(t,e.get("details.target.path")):(0,yn.zD)(e.get("details.source.path"))?Mn(t,e.get("details.source.path")):t}(t)))," "),u,i.createElement(Bn.Z,{onClick:function(){return function(e,t){e.isFolderAction()?c.Z.gotoStorageFolder(e.getTargetPath()):e.isForDelete()?(0,wn.c4)("storage/trash/"):xn(e,e.isCommentAction(),t)}(t,n)},className:"UCgvhjEebowQZvihFDka"},(0,Tn.q)(t.isForDelete()?t.getSourceName():t.getTargetName())),(t.isForMove()||t.isForCopy())&&i.createElement(Vn,{model:t,folderPath:n}))),d&&!l&&i.createElement("div",{onClick:E,onKeyDown:(0,Fn.M)(E),role:"button",tabIndex:-1,className:"A_K2TxdpEAQURg772JVP"},i.createElement(Nn.Z,{className:"MWNLhHUQuY8h3yaeOfK3",url:d,alt:"image thumbnail",onError:function(){return s(!0)}})),t.isCommentAction()&&i.createElement(Hn,{model:t,folderPath:n}),i.createElement("div",{className:"GoyAulwTOZaRw5CZnm9f"},i.createElement(On.Z,{timestamp:t.get("timestamp")}),i.createElement(Un,{model:t,folderPath:n})))))},Yn=function(e){var t=e.collection,n=e.folderPath;return i.createElement("div",{className:"activity-stream__container"},t.map((function(e){return i.createElement(Kn,{folderPath:n,model:e,key:e.cid})})))},Gn=function(e){var t=e.collection,n=e.folderPath,a=(0,i.useState)(!1),o=(0,r.Z)(a,2),c=o[0],s=o[1],u=!c&&0===t.length;return(0,i.useEffect)((function(){function e(){s(!1)}return s(!0),t.on("sync",e),t.fetch(),function(){t.off("sync",e)}}),[t]),i.createElement("div",{className:l()("activity-stream",c&&0===t.length&&"loading",u&&"activity-stream--empty")},u?i.createElement(hn,{className:"activity-stream__stream-message--empty"},(0,pe.t)("storage.activity.messages.empty")):i.createElement(Yn,{collection:t,folderPath:n}))},zn=n(286378),qn=n(911308),Wn=n(588310),Qn=function(e){var t=e.showActivityTab,n=e.collection,a=(0,oe.q)(),r=a.folderId,o=a.folderPath,l=a.closeSidebar;return i.createElement(i.Fragment,null,i.createElement(zn.Z,{closeSidebar:l},i.createElement(kt.Z,{className:Wn.Z.contentHeader},(0,pe.t)("storage.activity.folder.header"))),i.createElement(qn.Z,{pendoId:B.Oy[B.ZZ.ACTIVITY].content},r&&t?i.createElement(Gn,{collection:n,folderPath:o}):null))},Xn=n(343778),Jn=n(723417),$n=n(105171),ea=n(449529),ta=n(897766),na="landing",aa="support",ra="chatbot",ia="article",oa="searchResults",la=n(522171);function ca(e){var t=e.setPage,n=e.setArticle,a=e.articleView,r=e.landingView,o=e.analyticsPanel,l=(0,i.useCallback)((function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n(i),e===a){if(!i)return void t(r);(0,la.w6)(o,{articleId:i.id})}t(e)}),[o,a,r,n,t]);return l}var sa=(0,i.createContext)({page:na,setPage:F.Z,article:null,setArticle:F.Z,query:"",setQuery:F.Z});function ua(e){var t=e.children,n=(0,i.useState)(na),a=(0,r.Z)(n,2),o=a[0],l=a[1],c=(0,i.useState)(null),s=(0,r.Z)(c,2),u=s[0],d=s[1],m=(0,i.useState)(""),E=(0,r.Z)(m,2),p=E[0],f=E[1],v=ca({setPage:l,setArticle:d,articleView:ia,landingView:na,analyticsPanel:la.EE.HELP}),g=(0,i.useMemo)((function(){return{page:o,setPage:v,article:u,setArticle:d,query:p,setQuery:f}}),[u,o,p,v]);return i.createElement(sa.Provider,{value:g},t)}function da(){return(0,i.useContext)(sa)}var ma=n(145987),Ea=n(388767),pa=n(221842),fa=n.n(pa),va=n(369779),ga={credentials:"omit",headers:{"Content-Type":void 0}},ba={crossDomain:!0};function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sortBy,n=e.sortOrder,a=e.perPage;return(0,I.ZP)(C.Z.EXTERNAL_SERVICES.ZENDESK.ARTICLES.LIST({sortBy:t,sortOrder:n,perPage:a}),ga,ba)}function ha(e){var t=e.query,n=e.perPage;return(0,I.ZP)(C.Z.EXTERNAL_SERVICES.ZENDESK.ARTICLES.SEARCH({query:t,perPage:n}),ga,ba)}var Za=n(154177),ya=["enabled","onInit"];function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia={base:["zendesk"],getArticles:function(e){return[].concat((0,fe.Z)(Ia.base),["listArticles",e])},searchArticles:function(e){return[].concat((0,fe.Z)(Ia.base),["searchArticles",e])}};function Oa(e){if((0,Za.k0)(e)){var t=e.response,n=e.data;t.status>=500||va.ZP.error("Zendesk API Error",t,n)}}function Aa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enabled,a=void 0===n||n,r=t.onInit,i=(0,ma.Z)(t,ya),o=!!e.length&&a,l=(0,Ea.useQuery)(Ia.searchArticles(e),(function(){return null==r||r(),ha({query:e})}),fa()({enabled:o,staleTime:T.iL,onError:Oa},i));return Ca(Ca({},l),{},{isEnabled:o})}var Pa=n(930652),wa=n(943886),Na=n(515917),ka=n(163221),Ra=n(238584),Da=n(487462),La=n(313270),_a=n(6587);function Ba(e){var t=e.value,n=e.onChange,a=e.onClear,r=e.onFocus,o=e.onKeyDown,l=e.placeholder,c=e.forwardedRef,s=e.inputRef,u=e.autoFocus;return i.createElement(_a.Z,{ref:c,inputRef:s,value:t,onChange:n,onKeyDown:o,onFocus:r,placeholder:l,startAdornment:i.createElement(_e.Z,{icon:La.y,size:_e.Z.sizes.M}),endAdornment:t.length>0&&i.createElement(Dt.Z,{onClick:a,icon:rt.xv,size:Dt.Z.sizes.SMALL,"aria-label":(0,pe.t)("global.sidepanels.help.clearAriaLabel")}),autoFocus:u})}var Fa=(0,i.forwardRef)((function(e,t){return i.createElement(Ba,(0,Da.default)({},e,{forwardedRef:t}))})),Ma=n(808466);function ja(e){var t=e.children;return i.createElement("div",{className:"NtwM9hShdVF286cjJRgq DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR"},i.createElement("img",{src:Ma,alt:""}),i.createElement("div",null,t))}var xa,Ha=n(870938),Va="HELP_ARTICLE",Ua="UNIVERSITY_LESSON",Ka="PRODUCT_UPDATE",Ya=(xa={},(0,a.Z)(xa,Va,"AEICBCnTZU0obzBmxJOB uFAzahITitLFfpx0Z3yE IBocjBz7xngX56lz4ujQ lT4XSq73eiJ_iZFtGurx eugzcnL4uVMlgbRkfTqa"),(0,a.Z)(xa,Ua,"axzyo0PlGZz16bKXMkyl uFAzahITitLFfpx0Z3yE IBocjBz7xngX56lz4ujQ lT4XSq73eiJ_iZFtGurx eugzcnL4uVMlgbRkfTqa"),(0,a.Z)(xa,Ka,"Efu372c5kZA4ERWOyEQZ uFAzahITitLFfpx0Z3yE IBocjBz7xngX56lz4ujQ lT4XSq73eiJ_iZFtGurx eugzcnL4uVMlgbRkfTqa"),xa),Ga=Object.assign((function(e){var t=e.children,n=e.onClick,a=e["aria-label"];return i.createElement("li",{className:"f6hrxG76vIlyHLtWlFi_",onClick:n,onKeyDown:function(e){e.key===Ha.X.ENTER.key&&n()},role:"menuitem","aria-label":a},t)}),{Link:function(e){var t=e.children,n=e.href,a=e.onClick,r=e["aria-label"];return i.createElement("a",{className:"j5s6rg8POrAI6hICpolc f6hrxG76vIlyHLtWlFi_",href:n,onClick:a,target:"_blank",rel:"noopener noreferrer",role:"menuitem","aria-label":r},t)},Image:function(e){var t=e.src,n=e.alt,a=void 0===n?"":n;return i.createElement("img",{src:t,alt:a,className:"_FCLpCTZe69HOvNMRdwc"})},Text:function(e){var t=e.children;return i.createElement("div",{className:"_W_XTOBUkw5LPRONA_H0"},t)},Header:function(e){var t=e.children,n=e.type;return i.createElement("div",{className:Ya[n]},t)},Description:function(e){var t=e.children;return i.createElement("div",{className:"t959dj5KjXeaBavVFmm0 Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},t)}}),za=n(451545);function qa(e){var t=e.children,n=e.href,a=e.onClick,r=e["data-pendoid"];return i.createElement(Bn.Z,{as:"a",href:n,target:"_blank",rel:"noopener noreferrer",onClick:a,"data-pendoid":r,size:Bn.Z.sizes.MEDIUM},t,i.createElement(Bn.Z.Icon,{icon:za.g}))}function Wa(e){var t=e.href,n=void 0===t?Pa.Z.helpdesk.ROOT:t;return i.createElement(Bn.Z,{as:"a",href:n,target:"_blank",size:Bn.Z.sizes.SMALL,rel:"noopener noreferrer","aria-label":(0,pe.t)("global.sidepanels.help.openExternalLink")},i.createElement(Bn.Z.Icon,{icon:za.g}))}var Qa=n(121988),Xa=[{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px")}}];function Ja(e){var t=e.inputField,n=e.isOpen,a=e.onToggle,r=e.children;return i.createElement(te.Z,{closeMenuOnEnterKeydown:!0,trigger:t,modifiers:Xa,isOpened:n,onToggle:a},r)}function $a(e){var t=e.inputField,n=e.isOpen,a=e.onToggle,r=e.children;return i.createElement(Ja,{inputField:t,isOpen:n,onToggle:a},i.createElement("div",{className:"JvEMU98MuWYOzzIzoVQR"},r))}function er(e,t){return!!e.length&&t}var tr=n(583025);function nr(e){var t=e.articleName,n=e.searchQuery,a=e.onClick,r=(0,i.useMemo)((function(){return t.split(new RegExp("(".concat(Rn().escapeRegExp(n),")"),"gi")).filter(Boolean)}),[t,n]);return i.createElement(tr.Z,{onClick:a},i.createElement(kt.Z,{tooltip:t},r.map((function(e,t){return i.createElement("span",{key:"".concat(e,"-").concat(t),className:l()(e.toLowerCase()===n.toLowerCase()&&"wP5YEAiLRTWpHhcFhkUw")},e)}))))}var ar=(0,pe.nD)("global.sidepanels.help");function rr(){var e=(0,i.useState)(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=da(),l=o.setPage,c=o.query,s=o.setQuery,u=(0,Qa.Z)(c,250)||"",d=Aa(u,{onInit:function(){(0,la.vP)(la.EE.HELP,{searchQuery:u})},select:function(e){return e.results.slice(0,6)},keepPreviousData:!0,enabled:n}),m=d.data,E=void 0===m?[]:m,p=d.isEnabled,f=d.isSuccess,v=function(e,t){var n=(0,i.useState)(!1),a=(0,r.Z)(n,2),o=a[0],l=a[1];(0,i.useEffect)((function(){l(er(e,t))}),[e,t]);var c=(0,i.useCallback)((function(){l(er(e,t))}),[e,t]);return{isOpen:o,setIsOpen:l,onTriggerFocus:c}}(E,p),g=v.isOpen,b=v.setIsOpen,S=v.onTriggerFocus;return(0,i.useEffect)((function(){f&&g&&(0,la.rh)({searchQuery:u})}),[f,g,u]),i.createElement("div",{className:"tbkO2ZEA8QKnc3aSLbtA","data-pendoid":Na.e.EMBEDDED_SIDEPANELS.HELP.SEARCH_FIELD_CONTAINER},i.createElement($a,{inputField:i.createElement(Fa,{value:c,onChange:function(e){var t=e.target.value;a(!0),s(t)},onClear:function(){s("")},onFocus:S,onKeyDown:function(e){var t=e.key;c&&t===Ha.X.ENTER.key&&l("searchResults")},placeholder:ar("searchPrompt")}),isOpen:g,onToggle:b},i.createElement("div",null,i.createElement("div",{className:"lXM3ffGX5I7Sm9Qaw4MF NEl23SpAWOi7njWP_WLS qqGfbuN2RooWpKmkockU eugzcnL4uVMlgbRkfTqa DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR"},ar("topSuggestions")),i.createElement(le.Z,null,E.map((function(e){return i.createElement(nr,{key:e.id,articleName:e.title,searchQuery:u,onClick:function(){return function(e){s(""),l("article",e)}(e)}})}))))))}var ir=n(827856);function or(e){var t=e.name,n=e.snippet,a=e.onClick,r=(0,i.useMemo)((function(){return(0,ir.sanitize)(n)}),[n]);return i.createElement(Ga,{onClick:a},i.createElement(Ga.Text,null,i.createElement(Ga.Header,{type:Va},t),i.createElement(Ga.Description,null,i.createElement("span",{dangerouslySetInnerHTML:{__html:r},className:"Cogqtv2041YgO0wUf3ji"}))))}function lr(e){var t=e.onClick,n=e["data-pendoid"];return i.createElement(Bn.Z,{as:"a",href:Pa.Z.helpdesk.SUPPORT_FORM,onClick:t,target:"_blank","data-pendoid":n},(0,pe.t)("global.sidepanels.contactSupport.contactSupportButtonLabel"),i.createElement(Bn.Z.Icon,{icon:za.g}))}function cr(e){var t=e.onClick,n=e["data-pendoid"];return i.createElement(Bn.Z,{onClick:t,"data-pendoid":n},(0,pe.t)("global.sidepanels.contactSupport.contactSupportButtonLabel"))}var sr=(0,pe.nD)("global.sidepanels");function ur(){var e=da().setPage,t=(0,R.Z)("helpdeskGPTChatBotEnabled"),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ea.useQuery)(Ia.getArticles(e),(function(){return Sa(e)}),fa()({staleTime:T.iL,onError:Oa},t))}({perPage:10}),a=n.data,r=n.isLoading,o=n.isSuccess,l=(null==a?void 0:a.articles)||[];return i.createElement(i.Fragment,null,i.createElement(rr,null),i.createElement("div",{className:"safqyrLPqgsjHYkADVTO"},i.createElement("div",{className:"PXjSlvrpoRtAnwlo0oEx di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},sr("help.popularTopics")),r&&i.createElement("div",{className:"wdCZJ4Km9t27STieKmr1"},i.createElement(et.Z,{size:et.Z.SMALL})),o&&i.createElement("ul",{"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.HELP.POPULAR_TOPICS_LIST},l.map((function(t){return i.createElement("li",{key:t.id,className:"zW9oOkgUrVqm6HldsKfC Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6","aria-label":t.title},i.createElement(Bn.Z,{as:"a",onClick:function(){return function(t){e(ia,t)}(t)},variant:Bn.Z.variants.SUBTLE},i.createElement(tt.Z.Paragraph,null,t.title)))}))),i.createElement(qa,{href:Pa.Z.helpdesk.ROOT,onClick:function(){return(0,la.Xw)(la.EE.HELP)},"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.HELP.VIEW_MORE_TOPICS},sr("help.viewMore")),i.createElement("div",{className:"T_xtFiRupwF3wIvQNvvz gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},sr("contactSupport.needMoreHelp",{button:(0,wa.T0)("unified-help-contact-support-form")?i.createElement(cr,{onClick:function(){(0,la.Eu)(la.EE.HELP),e(aa)},"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.HELP.CONTACT_SUPPORT}):i.createElement(lr,{onClick:function(){return(0,la.Eu)(la.EE.HELP)},"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.HELP.CONTACT_SUPPORT})}))),t&&i.createElement(Ra.Z,{title:sr("help.chatbot.header"),navigateOnClick:function(){(0,Xn.UW)($n.Q7.HELPDESK),e(ra)},mixpanelLabel:$n.Q7.HELPDESK,referrer:ka.N.HELPDESK}))}function dr(e){var t=e.title;return i.createElement("div",{className:"alidrATrLMY1rERqZT4h di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR","data-tid":"article-title"},t)}function mr(e){var t=e.body,n=(0,i.useRef)(null),a=(0,i.useMemo)((function(){return(0,ir.sanitize)(t)}),[t]);return(0,i.useEffect)((function(){var e=n.current;e&&e.querySelectorAll("a[href]").forEach((function(e){e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")}))})),i.createElement("div",{ref:n,"data-tid":"article-body",className:"Lsh3ntLnr_sLop_KREs4",dangerouslySetInnerHTML:{__html:a}})}var Er=function(){var e=da().article,t=null!=e?e:{},n=t.id,a=void 0===n?-1:n,r=t.title,o=void 0===r?"":r,l=t.body,c=void 0===l?"":l;return i.createElement(i.Fragment,null,i.createElement(rr,null),-1!==a&&i.createElement("div",{className:"BS0cq99nZO3F1ar1AdGV OskVlYbtF21mA4111k3X"},i.createElement(dr,{title:o}),i.createElement(mr,{body:c})))};function pr(){var e,t=(e=da().article.html_url,(0,Pa.h)(new URL(e).pathname));return i.createElement(Wa,{href:t})}function fr(){return i.createElement("div",null,"Contact support form")}function vr(){return(0,i.useEffect)((function(){(0,la.Fk)(la.EE.HELP)}),[]),i.createElement(i.Fragment,null,i.createElement(rr,null),i.createElement(fr,null))}var gr=n(914578),br=n(32283),Sr=n(833331),hr=n(368299),Zr=n(845656),yr=function(e,t){return t.decode(e)},Tr=function(e){var t=e.chunk,n=e.charCount;if(t.length>n){var a=t.indexOf(". ",n);a>-1&&(t="".concat(t.slice(0,a+1),"\n\n").concat(t.slice(a+2)),n=a+250)}return{value:t,count:n}},Cr=n(545036);function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ar=(0,pe.nD)("knowledgeBaseAssistant");function Pr(){var e=c.Z.get("user"),t=(0,i.useRef)(null),n=(0,i.useRef)(null),a=(0,i.useState)(!0),o=(0,r.Z)(a,2),u=o[0],d=o[1],m=(0,i.useState)([]),E=(0,r.Z)(m,2),p=E[0],f=E[1],v=(0,i.useState)(!1),g=(0,r.Z)(v,2),b=g[0],S=g[1],h=(0,nt.B9)(Or({enabled:!0},Sr.S)),Z=(0,nt.q6)({onSuccess:function(e){var t=e.body;if(!t)throw new Error("Response has no body.");var n=Number(e.headers.get("X-Egnyte-LLM-question-id"));(0,Xn.vf)($n.Q7.HELPDESK);var a=null==t?void 0:t.getReader();return S(!0),f((function(e){return e.concat({type:$n.C7.RESPONSE,content:"",questionId:n,feedback:null})})),new ReadableStream({start:function(e){var t=function(e){var t=e.reader,n=e.questionId,a=e.setMessages,r=e.controller,i=new TextDecoder("utf-8"),o="",l=250,c=function(e){a((function(t){var a=(0,fe.Z)(t);return a[a.length-1]={type:$n.C7.RESPONSE,content:e,questionId:n,feedback:null},a}))},s=function(){var e=(0,lt.Z)(st().mark((function e(){var n,a,u,d,m,E;return st().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.read();case 2:if(n=e.sent,a=n.done,u=n.value,!a){e.next=9;break}return r.close(),c(o),e.abrupt("return");case 9:return o+=yr(u,i),d=Tr({chunk:o,charCount:l}),m=d.value,E=d.count,l=E,c(o=m),e.next=16,s();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s}({reader:a,questionId:n,setMessages:f,controller:e});t()}})},onError:function(){(0,Xn.Kh)()}}),y=(0,i.useCallback)((function(e){var t,n=e.message;Z.mutate({sessionId:null!==(t=h.data)&&void 0!==t?t:"",message:n})}),[Z,h.data]),T=(0,i.useCallback)((function(){var e=p[p.length-1];y({message:e.content})}),[y,p]),C=(0,i.useCallback)((function(e){var t=e.message.trim(),n=[].concat((0,fe.Z)(p),[{type:$n.C7.USER_MESSAGE,content:t}]);f(n),y({message:t}),d(!1)}),[y,p]),I=(0,i.useCallback)((function(){f([]),d(!0),h.refetch()}),[h]),O=(0,i.useCallback)((function(){var e;(0,Xn.s2)($n.Q7.HELPDESK,{entryPoint:null}),Z.reset(),null===(e=t.current)||void 0===e||e.resetForm(),I()}),[Z,I]);(0,i.useEffect)((function(){return s.ZP.on(s.ZP.Events.Chatbot.NEW_CHAT,O),function(){s.ZP.off(s.ZP.Events.Chatbot.NEW_CHAT,O)}}),[O]);var A=Z.isLoading||b;(0,i.useEffect)((function(){A?s.ZP.trigger(s.ZP.Events.Chatbot.LOADING,!0):s.ZP.trigger(s.ZP.Events.Chatbot.LOADING,!1)}),[A]),(0,i.useEffect)((function(){n.current&&(0,br.z)(n.current,{block:"end",inline:"nearest",behavior:"instant"})}),[p.length]);var P=Z.isError,w=Z.error,N=(0,i.useMemo)((function(){var e;return Or(Or({},hr.wj),{},{setMessages:f,setIsTyping:S,isTyping:b,emptyRef:n,sessionId:null!==(e=h.data)&&void 0!==e?e:"",handleTryAgain:T,setUserMessageAndRequestResponse:C,errorInfo:w,mixpanelLabel:$n.Q7.HELPDESK,withHelpdesk:!0})}),[w,T,b,h.data,C]);return i.createElement(hr.Hw.Provider,{value:N},i.createElement("div",{"data-tid":"helpdesk-chatbot",className:Cr.Z.chatBot},u?i.createElement("div",{className:l()(Cr.Z.messagesContainer,Cr.Z.helpdeskContainer)},i.createElement("p",{className:Cr.Z.helpdeskTitle},Ar("welcome.title",{name:(0,gr.capitalize)((0,Kt.S4)(e))})),i.createElement("p",{className:Cr.Z.helpdeskSubTitle},Ar("emptySystemDescriptionAndPromptsText"))):i.createElement("div",{className:Cr.Z.messagesContainer},i.createElement("div",{className:Cr.Z.messagesSpacing},i.createElement(Zr.Z,{messages:p,isLoading:Z.isLoading,isError:P}),i.createElement("div",{className:Cr.Z.empty,ref:n}))),i.createElement("div",{className:Cr.Z.formContainer},!P&&i.createElement("div",{className:Cr.Z.formSpacing},i.createElement(Ra.Z,{showButtons:!0,onSend:function(e){C(e),d(!1)},isDisabled:A,mixpanelLabel:$n.Q7.HELPDESK,formikRef:t,onAudioStart:function(){(0,Xn.gn)($n.Q7.HELPDESK,{assistantName:$n.Q7.HELPDESK,entryPoint:null})},onAudioCancel:function(){(0,Xn.Od)($n.Q7.HELPDESK,{assistantName:$n.Q7.HELPDESK,entryPoint:null})},onAudioSubmit:function(){(0,Xn.er)($n.Q7.HELPDESK,{assistantName:$n.Q7.HELPDESK,entryPoint:null})},referrer:ka.N.HELPDESK})))))}function wr(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"LNRVfSIWnvG_FO_7xw0x"},i.createElement(Pr,null)))}function Nr(){var e=da().query;return Pa.Z.helpdesk.SEARCH({searchQuery:e})}var kr=["results"];function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Dr=(0,pe.nD)("global.sidepanels.help"),Lr=function(){var e=da(),t=e.setPage,n=e.query,r=e.setQuery,o=Aa(n,{onInit:function(){(0,la.vP)(la.EE.HELP,{searchQuery:n})},select:function(e){var t=e.results,n=(0,ma.Z)(e,kr);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({results:t.slice(0,20)},n)}}),l=o.data,c=o.isFetching,s=o.isSuccess;(0,i.useEffect)((function(){""===n?t(na):l&&(0,la._F)(la.EE.HELP,{searchQuery:n})}),[l,n,t]);var u=(null==l?void 0:l.results)||[],d=null==l?void 0:l.count,m=Nr();return i.createElement(i.Fragment,null,i.createElement(rr,null),c&&i.createElement("div",{className:"fKgzN6pZS3cYbdJj49iL"},i.createElement(et.Z,{size:et.Z.SMALL})),s&&(u.length?i.createElement(i.Fragment,null,i.createElement("div",{"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.HELP.SEARCH_RESULTS},i.createElement("div",{className:"nj9Q4jcp7jWUnSoNVFFH di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR"},Dr("resultsForQuery",{count:d,query:n})),i.createElement("ul",{"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.HELP.SEARCH_RESULTS_LIST},u.map((function(e){return i.createElement(or,{key:e.id,name:e.title,snippet:e.snippet,onClick:function(){return function(e){r(""),t(ia,e)}(e)}})})))),i.createElement("div",{className:"xZZ5NziC_G8gVdFBKxvG"},i.createElement(qa,{href:m},Dr("viewAll")))):i.createElement(ja,null,Dr("noResultsForQuery",{query:n}))))};function _r(){var e=Nr();return i.createElement(Wa,{href:e})}var Br=(0,pe.nD)("global.sidepanels.help");function Fr(){var e=(0,oe.q)().closeSidebar,t=da(),n=t.setPage,a=t.setArticle,r=t.page,o=Br(r===ra?"chatbot.title":"title");return i.createElement(i.Fragment,null,i.createElement(ea.y,{closeSidebar:e,showBackIcon:r!==na,onBack:function(){r===ra&&(0,Xn.eP)($n.Q7.HELPDESK),n(na),a(null)}},i.createElement(ea.w,null,o,r===na&&i.createElement(Wa,null),r===ia&&i.createElement(pr,null),r===oa&&i.createElement(_r,null),r===ra&&i.createElement(Jn.Z,{asIconButton:!0}))),i.createElement(ta.v,{pendoId:B.Oy[B.ZZ.HELP].content},i.createElement("div",{className:"txCr5XrvsUVAOAO1NPLI"},r===na&&i.createElement(ur,null),r===ia&&i.createElement(Er,null),r===aa&&i.createElement(vr,null),r===ra&&i.createElement(wr,null),r===oa&&i.createElement(Lr,null))))}var Mr=function(){return i.createElement(ua,null,i.createElement(Fr,null))},jr="landing",xr="support",Hr="searchResults",Vr=(0,i.createContext)({page:jr,setPage:F.Z,query:"",setQuery:F.Z});function Ur(e){var t=e.children,n=(0,i.useState)(jr),a=(0,r.Z)(n,2),o=a[0],l=a[1],c=(0,i.useState)(""),s=(0,r.Z)(c,2),u=s[0],d=s[1],m=(0,i.useMemo)((function(){return{page:o,setPage:l,query:u,setQuery:d}}),[o,u]);return i.createElement(Vr.Provider,{value:m},t)}function Kr(){return(0,i.useContext)(Vr)}var Yr=n.p+"3fe5da05d649c13f6917.jpg",Gr=n(714023),zr=(0,pe.nD)("global.sidepanels.university");function qr(e){var t=e.autoFocus,n=Kr(),a=n.setPage,r=n.query,o=n.setQuery,l=(0,i.useRef)(null),c=(0,i.useRef)(r),s=function(){var e=Kr(),t=e.setPage,n=e.setQuery;return(0,i.useCallback)((function(e){n(e),t(Hr)}),[n,t])}(),u=(0,Gr.Z)((function(e){e!==c.current&&(c.current=e,e?s(e):a(jr))}),250);return i.createElement("div",{className:"iCb6Jz7Lm93JfbxyxKYl","data-pendoid":Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.SEARCH_FIELD_CONTAINER},i.createElement(Fa,{inputRef:l,value:r,onChange:function(e){var t=e.target.value;o(t),u(t)},onClear:function(){o(""),u("")},onKeyDown:function(e){var t=e.key;r&&t===Ha.X.ENTER.key&&u(r)},placeholder:zr("searchPrompt"),autoFocus:t}))}function Wr(e){var t=e.onClick,n=e["data-pendoid"];return i.createElement(Bn.Z,{as:"a",href:Pa.Z.helpdesk.SUPPORT_FORM,onClick:t,target:"_blank","data-pendoid":n},(0,pe.t)("global.sidepanels.contactSupport.contactSupportButtonLabel"),i.createElement(Bn.Z.Icon,{icon:za.g}))}function Qr(e){var t=e.onClick,n=e["data-pendoid"];return i.createElement(Bn.Z,{onClick:t,"data-pendoid":n},(0,pe.t)("global.sidepanels.contactSupport.contactSupportButtonLabel"))}var Xr=n.p+"d6eb1dde68c0c256fd7e.png",Jr=n.p+"02aeeefe30f9ca783b81.png",$r=n.p+"6536ca64ea2e8db4f673.png",ei=n.p+"efed6b3e6c7989749b65.png",ti=function(e){var t=e.href,n=e.onClick,a=e.children;return i.createElement(Bn.Z,{as:"a",href:t,target:"_blank",rel:"noopener noreferrer",onClick:n,size:Bn.Z.sizes.SMALL},a,i.createElement(Bn.Z.Icon,{icon:za.g}))},ni=(0,pe.nD)("global.sidepanels.university");function ai(){var e=(0,i.useMemo)((function(){return[{title:ni("exploreItems.users.title"),description:ni("exploreItems.users.description"),url:Pa.Z.egnyteUniversity.EGNYTE_USERS,tile:Xr,onClick:function(){return(0,la.tQ)(la.O6.EGNYTE_USERS)},pendoId:Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.EXPLORE_LIST.EGNYTE_USERS},{title:ni("exploreItems.administrators.title"),description:ni("exploreItems.administrators.description"),url:Pa.Z.egnyteUniversity.ADMINISTRATORS,tile:ei,onClick:function(){return(0,la.tQ)(la.O6.ADMINISTRATORS)},pendoId:Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.EXPLORE_LIST.ADMINISTRATORS},{title:ni("exploreItems.webinars.title"),description:ni("exploreItems.webinars.description"),url:Pa.Z.egnyteUniversity.WEBINARS,tile:$r,onClick:function(){return(0,la.tQ)(la.O6.WEBINARS)},pendoId:Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.EXPLORE_LIST.WEBINARS},{title:ni("exploreItems.quickTips.title"),description:ni("exploreItems.quickTips.description"),url:Pa.Z.egnyteUniversity.QUICK_TIPS,tile:Jr,onClick:function(){return(0,la.tQ)(la.O6.QUICK_TIPS)},pendoId:Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.EXPLORE_LIST.QUICK_TIPS}]}),[]);return i.createElement("ul",{className:"zp5kWu1R4rrsUA0LFXUg"},e.map((function(e){return i.createElement("li",{key:e.title,className:"wb1EjSrwIIAAuQywGIGg","aria-label":e.title,"data-pendoid":e.pendoId},i.createElement("img",{src:e.tile,alt:e.title}),i.createElement("div",{className:"a1v7D2ZBhLEXARPqx4sW"},i.createElement(ti,{href:e.url,onClick:e.onClick},e.title),i.createElement("p",{className:"LVxLiUFABIUNkoqPvpLv Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},e.description)))})))}var ri=(0,pe.nD)("global.sidepanels.university");function ii(){var e=Kr().setPage;return i.createElement(i.Fragment,null,i.createElement(qr,{autoFocus:!0}),i.createElement("div",{"data-tid":"university-landing-content"},i.createElement("img",{className:"VOVPAOb4L0gdttSy0Udf",src:Yr,alt:"explore egnyte university"}),i.createElement("h2",{className:"KnhStT5ROKWcQBr4skSu gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},ri("exploreItems.title")),i.createElement("p",{className:"_F2OfKdWA0NuGKVrjzEc Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},ri("exploreItems.description")),i.createElement("h2",{className:"bVuKyfjASggtfWQqkESL gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},ri("exploreItems.explore")),i.createElement(ai,null),i.createElement("div",{className:"IaL0QfShtJ5U23wtMIAR gzyXvpl08cSzWIAe3ouf m8RKLInoi4LLh_CKMjd0 eugzcnL4uVMlgbRkfTqa"},(0,pe.t)("global.sidepanels.contactSupport.needMoreHelp",{button:(0,wa.T0)("unified-help-contact-support-form")?i.createElement(Qr,{onClick:function(){(0,la.Eu)(la.EE.UNIVERSITY),e(xr)},"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.CONTACT_SUPPORT}):i.createElement(Wr,{onClick:function(){return(0,la.Eu)(la.EE.UNIVERSITY)},"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.CONTACT_SUPPORT})}))))}function oi(){return i.createElement("div",null,"Contact support form")}function li(){return(0,i.useEffect)((function(){(0,la.Fk)(la.EE.UNIVERSITY)}),[]),i.createElement(i.Fragment,null,i.createElement(qr,null),i.createElement(oi,null))}var ci=n(145218),si=["onInit"];function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function di(e){var t=e.id,n=e.title,a=e.description,r=e.courseUrl;return i.createElement(Ga.Link,{href:r,onClick:function(){return(0,la.w6)(la.EE.UNIVERSITY,{articleId:t})},"aria-label":n},i.createElement(Ga.Text,null,i.createElement(Ga.Header,{type:Ua},n),i.createElement(Ga.Description,null,a)))}var mi=(0,pe.nD)("global.sidepanels.university"),Ei=function(){var e=Kr(),t=e.setPage,n=e.query,r=function(e,t){var n=e.search,r=t.onInit,i=(0,ma.Z)(t,si);return(0,ci.useQuery)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({queryKey:["egnyteUniversity","search",n],queryFn:function(){return null==r||r(),function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).search;return(0,I.ZP)(C.Z.EGNYTE_UNIVERSITY.PUBLISHED_COURSES({search:e}),{credentials:"omit"},{crossDomain:!0})}({search:n})},staleTime:T.iL,enabled:n.length>0},i))}({search:n},{select:function(e){return e.slice(0,20)},onInit:function(){(0,la.vP)(la.EE.UNIVERSITY,{searchQuery:n})},onSuccess:function(){(0,la._F)(la.EE.UNIVERSITY,{searchQuery:n})}}),o=r.data,l=void 0===o?[]:o,c=r.isFetching,s=r.isSuccess;return(0,i.useEffect)((function(){""===n?t(jr):l.length>0&&(0,la._F)(la.EE.HELP,{searchQuery:n})}),[l,n,t]),i.createElement(i.Fragment,null,i.createElement(qr,{autoFocus:!0}),c&&i.createElement("div",{className:"DRc02gkCd_1AMucz2WNx"},i.createElement(et.Z,{size:et.Z.SMALL})),s&&i.createElement(i.Fragment,null,l.length?i.createElement("ul",{"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.UNIVERSITY.SEARCH_RESULTS_LIST},l.map((function(e){return i.createElement(di,{key:e.id,id:e.id,title:e.course.title,description:e.course.shortDescription,courseUrl:e.courseUrl})}))):i.createElement(ja,null,mi("noResultsForQuery",{query:n}))))},pi=(0,pe.nD)("global.sidepanels.university");function fi(){var e=(0,oe.q)().closeSidebar,t=Kr(),n=t.setPage,a=t.page;return i.createElement(i.Fragment,null,i.createElement(ea.y,{closeSidebar:e,showBackIcon:a!==jr,onBack:function(){n(jr)}},i.createElement(ea.w,null,pi("title"),i.createElement(Bn.Z,{as:"a",href:Pa.Z.egnyteUniversity.ROOT,target:"_blank",size:Bn.Z.sizes.SMALL},i.createElement(Bn.Z.Icon,{icon:za.g})))),i.createElement(ta.v,{pendoId:B.Oy[B.ZZ.UNIVERSITY].content},i.createElement("div",{className:"jzHIT7gKcnUrXjB4KaZ1"},a===jr&&i.createElement(ii,null),a===xr&&i.createElement(li,null),a===Hr&&i.createElement(Ei,null))))}var vi=function(){return i.createElement(Ur,null,i.createElement(fi,null))},gi="landing",bi="article",Si=(0,i.createContext)({page:gi,setPage:F.Z,article:null,setArticle:F.Z});function hi(e){var t=e.children,n=(0,i.useState)(gi),a=(0,r.Z)(n,2),o=a[0],l=a[1],c=(0,i.useState)(null),s=(0,r.Z)(c,2),u=s[0],d=s[1],m=ca({setPage:l,setArticle:d,articleView:bi,landingView:gi,analyticsPanel:la.EE.PRODUCT_UPDATES}),E=(0,i.useMemo)((function(){return{page:o,setPage:m,article:u,setArticle:d}}),[u,o,m]);return i.createElement(Si.Provider,{value:E},t)}function Zi(){return(0,i.useContext)(Si)}function yi(){return(0,I.ZP)(C.Z.PRODUCT_UPDATES.LIST)}function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ci=n(727484),Ii=n.n(Ci),Oi=n(392348);function Ai(e){return Ii()(e).format(Oi.Jn.date)}function Pi(e){var t=e.title,n=e.date,a=e.author,r=e.thumbnailImage,o=r.url,l=r.alt,c=e.onClick;return i.createElement(Ga,{onClick:c,"aria-label":t},i.createElement(Ga.Image,{src:o,alt:l}),i.createElement(Ga.Text,null,i.createElement(Ga.Header,{type:Ka},t),i.createElement(Ga.Description,null,a," | ",n)))}var wi=(0,pe.nD)("global.sidepanels.productUpdates");function Ni(){var e,t=Zi().setPage,n=(0,Ea.useQuery)(["productUpdates"],yi,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({staleTime:10*T.A_},e)),r=n.data,o=void 0===r?[]:r,l=n.isLoading,c=n.isSuccess;return i.createElement("div",null,l&&i.createElement("div",{className:"rUfB4poxVC1SP1SloDVP"},i.createElement(et.Z,{size:et.Z.SMALL})),c&&i.createElement("ul",{className:"MIpRcgkc3SpMaLCtrVED","data-pendoid":Na.e.EMBEDDED_SIDEPANELS.PRODUCT_UPDATES.LATEST_POSTS_LIST},o.map((function(e){return i.createElement(Pi,{key:e.id,thumbnailImage:e.thumbnailImage,title:e.name,author:e.authorFullName,date:Ai(e.date),onClick:function(){return function(e){t(bi,e)}(e)}})}))),i.createElement(qa,{href:Pa.Z.productUpdates.ROOT,onClick:function(){return(0,la.Xw)(la.EE.PRODUCT_UPDATES)},"data-pendoid":Na.e.EMBEDDED_SIDEPANELS.PRODUCT_UPDATES.VIEW_MORE_ARTICLES},wi("viewMore")))}function ki(e){var t=e.title,n=e.url;return i.createElement("div",{className:"Xft5oIUgFDWI08A3Gpfn di8dHEGxZgrT5KjDiNkg vSadc0pqvD7KtbqURZCR","data-tid":"article-title"},t,i.createElement(Bn.Z,{as:"a",href:n,target:"_blank",rel:"noopener noreferrer",size:Bn.Z.sizes.SMALL},i.createElement(Bn.Z.Icon,{icon:za.g})))}var Ri=function(){var e=Zi().article,t=(null!=e?e:{}).postBody,n=void 0===t?"":t,a=(0,i.useMemo)((function(){return(0,ir.sanitize)(n)}),[n]);if(!e)return null;var r=e.name,o=e.mainImage,l=e.authorFullName,c=e.date,s=e.url,u=void 0===s?"":s;return i.createElement("div",{className:"mgIYonBRYLtwVAwiRMxE OskVlYbtF21mA4111k3X"},i.createElement(ki,{title:r,url:u}),i.createElement("div",{className:"E3vkQ4uJTKKVsAyIkSaY Z3MFLDOuhAfuf_m3JCZI qqGfbuN2RooWpKmkockU cMD1Ln5gNqHc7P7v_G_6"},l," | ",Ai(c)),i.createElement("img",{src:o.url,alt:o.alt,className:"uU_ZuNYL5hsbyRfYd9yj"}),i.createElement("div",{className:"CugVOLVpTVRs8t9N2E96",dangerouslySetInnerHTML:{__html:a}}))},Di=(0,pe.nD)("global.sidepanels.productUpdates");function Li(){var e=(0,oe.q)().closeSidebar,t=Zi(),n=t.page,a=t.setPage;return i.createElement(i.Fragment,null,i.createElement(ea.y,{closeSidebar:e,showBackIcon:n!==gi,onBack:function(){a(gi,null)}},i.createElement(ea.w,null,Di("title"),i.createElement(Bn.Z,{as:"a",href:Pa.Z.productUpdates.ROOT,target:"_blank",size:Bn.Z.sizes.SMALL},i.createElement(Bn.Z.Icon,{icon:za.g})))),i.createElement(ta.v,{pendoId:B.Oy[B.ZZ.PRODUCT_UPDATES].content},i.createElement("div",{className:"eJNLGni73ITO2Ma5mlc2"},n===gi&&i.createElement(Ni,null),n===bi&&i.createElement(Ri,null))))}var _i=function(){return i.createElement(hi,null,i.createElement(Li,null))},Bi=n(44406),Fi=function(e){var t,n=e.folderId,o=e.folderPath,E=e.permission,p=e.documentRoomId,f=e.onConversationAction,v=void 0===f?F.Z:f,g=e.initialFlowType,b=void 0===g?B.ZZ.ACTIVITY:g,S=e.isExpanded,h=e.onExpandedChange,Z=(0,D.T)(),y=(0,mn.Z)({folderId:n}).routeChanged,T=(0,D.s)(Z,L.Z.STORAGE.FILES),C=(0,D.s)(Z,"#".concat(V._j.FILES({regulationId:(0,H.h)()}))),I=function(e){var t=U.Z.isKnowledgeBaseViewShown({location:e})||U.Z.isEgnyteCopilotViewShown({location:e})||U.Z.isCodebookViewShown({location:e});return{hideSidebarOnNonKnowledgeBaseRoutes:U.Z.isCopilotViewShown({location:e})&&!t,isKnowledgeBaseCopilotHubRoute:t}}(Z),O=I.hideSidebarOnNonKnowledgeBaseRoutes,A=I.isKnowledgeBaseCopilotHubRoute,P=(0,u.Lb)("ui.display.showActivityTab"),w=(0,r.Z)(P.data,1)[0],N=(0,m.Or)(pn.j.ACTIVITY_PANEL),Y=N.width,G=N.setWidth,z=(0,i.useState)(null),q=(0,r.Z)(z,2),W=q[0],Q=q[1],X=(0,i.useState)(b),J=(0,r.Z)(X,2),$=J[0],ee=J[1],te=(0,i.useState)(null),ne=(0,r.Z)(te,2),ae=ne[0],re=ne[1],ie=(0,i.useState)(!1),le=(0,r.Z)(ie,2),ce=le[0],se=le[1],ue=(0,R.Z)("isQuickViewEnabled"),de=(0,un.SE)(),me=de.selectedItem,Ee=de.location,pe=de.integrationCallbacks,fe=(0,En.Z)(),ve=(0,r.Z)(fe,1)[0].showQuickView,ge=void 0!==ve&&ve,be=ue&&!!me&&ge,Se=null!=S?S:ce,he=(0,i.useCallback)((function(e){if(h)h(e);else{if(!e&&be&&$!==B.ZZ.QUICK_VIEW)return void ee(B.ZZ.QUICK_VIEW);se(e)}}),[be,$,h]),Ze=(0,i.useState)(fn.R5),ye=(0,r.Z)(Ze,2),Te=ye[0],Ce=ye[1],Ie=(0,R.Z)("isKbaEnabled"),Oe=(0,R.Z)("isGlobalCopilotEnabled"),Ae=(0,R.Z)("searchSummaryInCopilotEnabled"),Pe=(0,M.K0)(),we=(0,j.Wu)(),Ne=(0,x.Z)().isEnabledInCollaborate,ke=(0,K.S)(),Re=Pe||Ie,De=[B.ZZ.KBA_ASSISTANT,B.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY,B.ZZ.AGENT_CONFIGURATION].includes($),Le=(0,i.useCallback)((function(e){var t=e>fn.FL;he(t),t||ee(b),G(t?e:m.M)}),[he,G,b]),_e=(0,i.useCallback)((function(){return he(!Se)}),[he,Se]),Be=(0,i.useMemo)((function(){return new k([],{folderId:n,permission:E})}),[n,E]),Fe=(0,i.useCallback)((function(){$===B.ZZ.QUICK_VIEW&&(0,un.TF)({selectedItems:[]}),ee(b),re(null),he(!1)}),[$,b,he]),Me=(0,i.useCallback)((function(){!Se&&Ie&&(0,_.N3)()}),[Se,Ie]),je=(0,i.useCallback)((function(){Se&&Ie&&(0,_.CG)()}),[Se,Ie]),xe=(0,i.useCallback)((function(e,t){Me(),t===$?(je(),_e()):(ee(t),he(!0)),e.stopPropagation()}),[$,_e,Me,je,ee,he]),He=(0,i.useMemo)((function(){return Y<=fn.NQ?fn.NQ:Y}),[Y]),Ve=function(e){var t=e.useSearchSummaryInCopilot,n=e.setFlowType,a=e.setKnowledgeBaseSubFlowType,o=e.setExpanded,l=(0,i.useState)(!1),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,i.useState)(null),E=(0,r.Z)(m,2),p=E[0],f=E[1],v=(0,i.useState)(void 0),g=(0,r.Z)(v,2),b=g[0],S=g[1],h=(0,i.useCallback)((function(e){var t;(null==e||null===(t=e.entryIds)||void 0===t?void 0:t.length)>0&&(f(e),d(!0),S(e.searchResultFiles||void 0),n(B.ZZ.KBA_ASSISTANT),a(B.lu.GLOBAL_COPILOT),o(!0))}),[n,a,o]);return(0,i.useEffect)((function(){if(t)return s.ZP.on(s.ZP.Events.Storage.SEARCH_SUMMARY,h),function(){s.ZP.off(s.ZP.Events.Storage.SEARCH_SUMMARY,h)}}),[h,t]),{isSearchSummaryViewEnabled:u,setIsSearchSummaryViewEnabled:d,searchSummaryEventPayload:p,setSearchSummaryEventPayload:f,searchSummaryResultFiles:b,handleSearchSummaryTrigger:h}}({useSearchSummaryInCopilot:Ae,setFlowType:ee,setKnowledgeBaseSubFlowType:re,setExpanded:he}),Ue=Ve.isSearchSummaryViewEnabled,Ke=Ve.setIsSearchSummaryViewEnabled,Ye=Ve.searchSummaryEventPayload,Ge=Ve.setSearchSummaryEventPayload,ze=Ve.searchSummaryResultFiles,qe=(0,i.useMemo)((function(){return{flowType:$,setFlowType:ee,knowledgeBaseSubFlowType:ae,setKnowledgeBaseSubFlowType:re,onConversationAction:v,isKnowledgeBaseCopilotHubRoute:A,closeSidebar:Fe,folderPath:o,folderId:n,documentRoomId:p,selectedItems:Te,isExpanded:Se,onTabClick:xe,searchSummary:{eventPayload:Ye,isViewEnabled:Ue,setIsViewEnabled:Ke,setEventPayload:Ge,searchResultFiles:ze}}}),[$,ee,ae,re,Fe,v,A,n,p,o,Te,Se,xe,Ye,Ue,Ke,Ge,ze]),We=c.Z.isSnapshotPreview()||!we||ke&&(O||!Re&&(!T||!w)||!Ne&&(!T||!w)),Qe=(0,i.useCallback)((function(e){var t=e.selections,n=e.shouldExpand;if(Oe&&t){var a=(0,gn.e1)(t),r=a.files,i=a.folders;Ce({files:r,folders:i}),n&&(ee(B.ZZ.KBA_ASSISTANT),re(B.lu.GLOBAL_COPILOT),he(!0))}}),[Oe,he]),Xe=(0,i.useCallback)((function(e){var t=e.selectedItem;ue&&ge&&(Se&&$!==B.ZZ.QUICK_VIEW||(t?(ee(B.ZZ.QUICK_VIEW),he(!0)):$===B.ZZ.QUICK_VIEW&&he(!1)))}),[ue,ge,Se,$,he]),Je=(0,dn.Z)(me);return(0,i.useEffect)((function(){me!==Je&&Xe({selectedItem:me})}),[Xe,Je,me]),(0,i.useEffect)((function(){Se||be||(ee(b),re(null))}),[Se,b,be]),(0,i.useEffect)((function(){return s.ZP.on(s.ZP.Events.Storage.GLOBAL_COPILOT,Qe),function(){s.ZP.off(s.ZP.Events.Storage.GLOBAL_COPILOT,Qe)}}),[Qe]),(0,i.useEffect)((function(){T||$!==B.ZZ.ACTIVITY||he(!1)}),[$,T,he]),(0,i.useEffect)((function(){y&&Ce(fn.R5)}),[y]),(0,i.useEffect)((function(){$!==B.ZZ.QUICK_VIEW||be||he(!1)}),[be,$,he]),(0,i.useEffect)((function(){be&&$!==B.ZZ.QUICK_VIEW&&!Se&&(ee(B.ZZ.QUICK_VIEW),he(!0))}),[be,$,Se,he]),We?null:i.createElement(d.Z,{side:d.Z.sides.RIGHT,width:Se?He:fn.FL,minWidth:fn.FL,maxWidth:(0,gn.xS)(Re),className:l()(Wn.Z.sidebar,(t={},(0,a.Z)(t,Wn.Z.collapsedAssistant,Re&&!Se),(0,a.Z)(t,Wn.Z.collapsed,!Re&&!Se),t)),onWidthChange:Le,"data-tid":"sidebar-right","data-pendoid":"sidebar-right","aria-expanded":Se,disableResize:Re&&!Se,endDragOnMinWidth:Re,withHandlebar:!0},i.createElement(oe.Z.Provider,{value:qe},i.createElement("aside",{className:Wn.Z.content,ref:function(e){return Q(e)},onClick:function(){Ie||Se||_e()},role:"none"},Se&&i.createElement("div",{className:l()(Wn.Z.contentContainer,Wn.Z.expanded),"data-pendoid":B.Oy[$].view,"data-tid":"sidebar-content-container"},$===B.ZZ.ACTIVITY&&i.createElement(Qn,{showActivityTab:w,collection:Be}),De&&i.createElement(Bi.f,null),$===B.ZZ.HELP&&i.createElement(Mr,null),$===B.ZZ.UNIVERSITY&&i.createElement(vi,null),$===B.ZZ.PRODUCT_UPDATES&&i.createElement(_i,null),be&&$===B.ZZ.QUICK_VIEW&&i.createElement(sn,{selectedItem:me,location:Ee,integrationCallbacks:pe})),i.createElement(vn.Z,{className:l()((0,a.Z)({},Wn.Z.expanded,Se))},i.createElement(bn.e,{isExpanded:Se,selectedTab:$,isKbaEnabled:Re,showTopFixedIcon:(A||T||C)&&w,triggerTargetForActivityIcon:Re?null:!Se&&W?W:null,onClick:xe})))))}},726759:function(e,t,n){var a=n(204942),r=n(667294),i=n(294184),o=n.n(i),l=n(588310);t.Z=function(e){var t=e.isExpanded;return r.createElement("div",{className:o()(l.Z.emptyContainer,(0,a.Z)({},l.Z.expanded,t))})}},389779:function(e,t,n){n.d(t,{C:function(){return u}});var a=n(487462),r=n(145987),i=n(667294),o=n(698607),l=["children","triggerTarget","tooltip"],c=n(4845);function s(e,t){var n=e.onClick,a=e.icon,r=e.ariaLabel,o=e.className,l=e.size,s=e.iconCustomSize,u=e.dataPendoId,d=e.type,m=void 0===d?c.Z.OUTLINED:d,E=e.testId;return i.createElement(c.Z,{ref:t,type:m,icon:a,iconCustomSize:s,onClick:n,"aria-label":r,size:l,"data-pendoid":u,className:o,"data-tid":E})}var u=Object.assign(i.forwardRef(s),{Tooltiped:function(e){var t=e.children,n=e.triggerTarget,c=void 0===n?null:n,s=e.tooltip,u=(0,r.Z)(e,l);return i.createElement(o.Z,(0,a.default)({},u,{tooltip:s,triggerTarget:c}),t)}})},420601:function(e,t,n){n.d(t,{h:function(){return a}});var a={DEFAULT:"DefaultTab",ACTIVITY:"ActivityTab",HISTORY:"HistoryTab",KNOWLEDGE_BASE:"KnowledgeBaseTab",SPACER:"Spacer",COMMUNITY:"CommunityTab",HELP:"HelpTab",UNIVERSITY:"UniversityTab",QUICK_VIEW:"QuickViewTab",PRODUCT_UPDATES:"ProductUpdatesTab"}},840988:function(e,t,n){n.d(t,{e:function(){return h}});var a=n(487462),r=n(529439),i=n(667294),o=n(153672),l=n(163123),c=n(327226),s=n(461498),u=n(653117),d=n(267807),m=n(96506),E=n(930652),p=n(691409),f=n(726759),v=n(362246),g=n(355401),b=n(420601),S=n(522171),h=function(e){var t=e.visibleTabs,n=void 0===t?[b.h.DEFAULT,b.h.ACTIVITY,b.h.HISTORY,b.h.KNOWLEDGE_BASE,b.h.SPACER,b.h.COMMUNITY,b.h.HELP,b.h.UNIVERSITY,b.h.PRODUCT_UPDATES]:t,h=e.isExpanded,Z=e.isKbaEnabled,y=e.selectedTab,T=e.showTopFixedIcon,C=e.triggerTargetForActivityIcon,I=e.onClick,O=(0,o.Lb)("workgroup.brandSettings.helpAndFaqUrl"),A=(0,r.Z)(O.data,1)[0],P=void 0===A?"":A,w=(0,g.q)().isKnowledgeBaseCopilotHubRoute,N=(0,c.Z)().isEnabledInCollaborate,k=(0,u.S)(),R=(0,v.Ke)(),D=!(0,m.On)()&&Z&&R&&w,L=Z&&R&&!w&&N,_=(0,o.Lb)("ui.display.canSeeEgnyteCommunity"),B=(0,r.Z)(_.data,1)[0],F=(0,o.ZP)().data,M=(0,i.useMemo)((function(){return[{key:b.h.DEFAULT,Component:v.FR,isVisible:n.includes(b.h.DEFAULT)&&T&&!Z,componentProps:{isExpanded:h,onClick:function(e){I(e,s.ZZ.ACTIVITY)},isSelected:s.ZZ.ACTIVITY===y,triggerTargetForActivityIcon:C}},{key:b.h.HISTORY,Component:v.cy,isVisible:n.includes(b.h.HISTORY)&&D,componentProps:{isExpanded:h,onClick:function(e){I(e,s.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY),h||(0,d.Ql)(s.eR.COPILOT_HUB)},isSelected:s.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY===y}},{key:b.h.KNOWLEDGE_BASE,Component:v.WG,isVisible:n.includes(b.h.KNOWLEDGE_BASE)&&L,componentProps:{isExpanded:h,onClick:function(e){I(e,s.ZZ.KBA_ASSISTANT)},isSelected:[s.ZZ.KBA_ASSISTANT,s.ZZ.KNOWLEDGE_BASE_CHAT_HISTORY].includes(y)}},{key:b.h.ACTIVITY,Component:v.ZO,isVisible:n.includes(b.h.ACTIVITY)&&T&&Z&&!w,componentProps:{isExpanded:h,onClick:function(e){I(e,s.ZZ.ACTIVITY)},isSelected:s.ZZ.ACTIVITY===y}},{key:b.h.SPACER,Component:f.Z,isVisible:!0,componentProps:{isExpanded:h}},{key:b.h.HELP,Component:v.pj,isVisible:n.includes(b.h.HELP)&&!k,componentProps:{isExpanded:h,onClick:function(e){P.length?l.ZP.open(P,"_blank"):I(e,s.ZZ.HELP)},isSelected:s.ZZ.HELP===y}},{key:b.h.COMMUNITY,Component:v.Wt,isVisible:n.includes(b.h.COMMUNITY)&&B&&!(0,p.eC)(F),componentProps:{isExpanded:h,onClick:function(){l.ZP.open(E.Z.egnyteCommunity.ROOT,"_blank"),(0,S.S9)()},isSelected:s.ZZ.COMMUNITY===y}},{key:b.h.UNIVERSITY,Component:v.$h,isVisible:n.includes(b.h.UNIVERSITY)&&!k,componentProps:{isExpanded:h,onClick:function(e){I(e,s.ZZ.UNIVERSITY)},isSelected:s.ZZ.UNIVERSITY===y}},{key:b.h.PRODUCT_UPDATES,Component:v.p$,isVisible:n.includes(b.h.PRODUCT_UPDATES)&&!k,componentProps:{isExpanded:h,onClick:function(e){I(e,s.ZZ.PRODUCT_UPDATES)},isSelected:s.ZZ.PRODUCT_UPDATES===y}}].filter((function(e){return e.isVisible}))}),[n,T,Z,h,y,C,D,L,w,k,I,P,B,F]);return i.createElement(i.Fragment,null,M.map((function(e){var t=e.Component,n=e.componentProps,r=e.key;return i.createElement(t,(0,a.default)({},n,{key:r}))})))}},362246:function(e,t,n){n.d(t,{ZO:function(){return C},Wt:function(){return _},FR:function(){return O},pj:function(){return f},cy:function(){return w},WG:function(){return W},p$:function(){return Z},$h:function(){return b},Ke:function(){return $}});var a=n(667294),r=n(98964),i=n(515917),o=n(762074),l=n(4845),c=n(389779),s=n(204942),u=n(294184),d=n.n(u),m=n(588310),E=function(e){var t,n=e.className,r=e.pendoId,i=e.isExpanded,o=e.isSelected,l=e.children,c=e["data-tid"];return a.createElement("div",{className:d()(n,(t={},(0,s.Z)(t,m.Z.withoutBorderLeft,!i),(0,s.Z)(t,m.Z.isSelected,o&&i),(0,s.Z)(t,m.Z.withBorderLeft,!o&&i),t)),"data-pendoid":r,"data-tid":c},l)},p=(0,o.nD)("knowledgeBaseAssistant"),f=function(e){var t=e.isExpanded,n=e.isSelected,o=e.onClick;return a.createElement(E,{className:m.Z.toggleButtonWrapper,isExpanded:t,isSelected:n,pendoId:i.e.SIDEBAR_RIGHT.TABS.HELP.ENTRY},a.createElement(c.C.Tooltiped,{tooltip:p("sidebarRight.helpLabel")},a.createElement(c.C,{icon:r.Nw,ariaLabel:t?"collapse menu":"expand menu",onClick:o,className:m.Z.toggleButton,type:l.Z.GHOSTED,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.HELP.BUTTON,testId:"sidebar-help-button"})))},v=n(95776),g=(0,o.nD)("knowledgeBaseAssistant"),b=function(e){var t=e.isExpanded,n=e.isSelected,r=e.onClick;return a.createElement(E,{className:m.Z.toggleButtonWrapper,isExpanded:t,isSelected:n,pendoId:i.e.SIDEBAR_RIGHT.TABS.UNIVERSITY.ENTRY},a.createElement(c.C.Tooltiped,{tooltip:g("sidebarRight.universityLabel")},a.createElement(c.C,{icon:v.Z5,ariaLabel:t?"collapse menu":"expand menu",onClick:r,className:m.Z.toggleButton,type:l.Z.GHOSTED,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.UNIVERSITY.BUTTON,testId:"sidebar-university-button"})))},S=n(363663),h=(0,o.nD)("knowledgeBaseAssistant"),Z=function(e){var t=e.isExpanded,n=e.isSelected,r=e.onClick;return a.createElement(E,{className:m.Z.toggleButtonWrapper,isExpanded:t,isSelected:n,pendoId:i.e.SIDEBAR_RIGHT.TABS.PRODUCT_UPDATES.ENTRY},a.createElement(c.C.Tooltiped,{tooltip:h("sidebarRight.productUpdatesLabel")},a.createElement(c.C,{icon:S.A,ariaLabel:t?"collapse menu":"expand menu",onClick:r,className:m.Z.toggleButton,type:l.Z.GHOSTED,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.PRODUCT_UPDATES.BUTTON,testId:"sidebar-product-updates-button"})))},y=n(967817),T=(0,o.nD)("knowledgeBaseAssistant"),C=function(e){var t=e.isExpanded,n=e.isSelected,r=e.onClick;return a.createElement(E,{className:m.Z.toggleButtonWrapper,isExpanded:t,isSelected:n,pendoId:i.e.SIDEBAR_RIGHT.TABS.ACTIVITY.ENTRY},a.createElement(c.C.Tooltiped,{tooltip:T("sidebarRight.activityLabel")},a.createElement(c.C,{icon:y.I,ariaLabel:t&&n?"collapse menu":"expand menu",onClick:r,className:m.Z.toggleButton,type:l.Z.GHOSTED,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.ACTIVITY.BUTTON,testId:"sidebar-activity-button"})))},I=n(621465),O=function(e){var t=e.isExpanded,n=e.triggerTargetForActivityIcon,r=e.isSelected,s=e.onClick;return a.createElement(E,{className:m.Z.toggleButtonWrapper,isExpanded:t,isSelected:r,pendoId:i.e.SIDEBAR_RIGHT.TABS.ACTIVITY.ENTRY},a.createElement(c.C.Tooltiped,{triggerTarget:n,tooltip:(0,o.t)(t?"button.label.collapse":"button.label.expand")},a.createElement(c.C,{icon:t?I.QG:I.Mg,ariaLabel:t?"collapse menu":"expand menu",onClick:s,className:m.Z.toggleButton,type:l.Z.GHOSTED,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.ACTIVITY.BUTTON,testId:"sidebar-activity-button"})))},A=n(947124),P=(0,o.nD)("knowledgeBaseAssistant"),w=function(e){var t=e.isExpanded,n=e.isSelected,r=e.onClick;return a.createElement(E,{className:m.Z.toggleButtonWrapper,isSelected:n,isExpanded:t,pendoId:i.e.SIDEBAR_RIGHT.TABS.HISTORY.ENTRY},a.createElement(c.C.Tooltiped,{tooltip:P("sidebarRight.history.label")},a.createElement(c.C,{icon:A.PO,ariaLabel:t?"collapse menu":"expand menu",onClick:r,className:m.Z.toggleButton,type:l.Z.GHOSTED,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.HISTORY.BUTTON,testId:"sidebar-conversation-history-button"})))},N=n(799532),k=n(451545),R=n(818356),D=n(962284),L=(0,o.nD)("knowledgeBaseAssistant.sidebarRight"),_=function(e){var t=e.isExpanded,n=e.isSelected,r=e.onClick;return a.createElement(E,{className:m.Z.toggleButtonWrapper,isExpanded:t,isSelected:n,pendoId:i.e.SIDEBAR_RIGHT.TABS.COMMUNITY.ENTRY},a.createElement(c.C.Tooltiped,{tooltip:a.createElement(D.Z,{gap:1,alignItems:"center"},L("communityLabel"),a.createElement(D.Z,{justifyContent:"center",alignItems:"center"},a.createElement(N.Z,{icon:k.g,size:N.Z.sizes.M})))},a.createElement(c.C,{icon:R.Q_,ariaLabel:t?"collapse menu":"expand menu",onClick:r,className:m.Z.toggleButton,type:l.Z.GHOSTED,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.COMMUNITY.BUTTON,testId:"sidebar-community-button"})))},B=n(42594),F=n(57363),M=n(460474),j=n(567421);function x(){return(0,M.Z)("isKbaEnabled")?{icon:j.w2,iconCustomSize:N.Z.sizes.L,buttonType:l.Z.STATELESS,wrapperClass:m.Z.toggleButtonWrapper}:{icon:j.o1,size:l.Z.sizes.MEDIUM,buttonType:l.Z.GHOSTED,wrapperClass:m.Z.toggleButtonWrapper}}var H=(0,o.nD)("knowledgeBaseAssistant");function V(e,t){var n=e.isExpanded,r=e.isSelected,o=e.onClick,l=x(),s=l.icon,u=l.size,d=l.iconCustomSize,E=l.buttonType;return a.createElement(c.C,{ref:t,onClick:o,icon:s,iconCustomSize:d,size:u,className:m.Z.toggleButton,ariaLabel:H(r&&n?"sidebarRight.collapseAiMenu":"sidebarRight.expandAiMenu"),type:E,dataPendoId:i.e.SIDEBAR_RIGHT.TABS.KNOWLEDGE_BASE.BUTTON,testId:"sidebar-ai-assistant-button"})}var U=a.forwardRef(V),K=n(529439),Y=n(751622),G=(0,o.nD)("recommendations.plg.copilot.sidebarRight");function z(e){var t=e.isExpanded,n=e.isSelected,r=e.onClick,i=(0,Y.J1)(),o=(0,K.Z)(i,2)[1];return a.createElement(c.C.Tooltiped,{tooltip:G("tooltip"),visible:!0},a.createElement(U,{isExpanded:t,isSelected:n,onClick:function(e){o(),r(e)}}))}var q=(0,o.nD)("knowledgeBaseAssistant"),W=function(e){var t=e.isExpanded,n=e.isSelected,r=e.onClick,o=(0,B.pL)(),l=(0,M.Z)("isGlobalCopilotEnabled"),s=(0,F.wg)(),u=x().wrapperClass;return a.createElement(E,{pendoId:i.e.SIDEBAR_RIGHT.TABS.KNOWLEDGE_BASE.ENTRY,"data-tid":"egnyte-copilot-wrapper",className:u,isSelected:n,isExpanded:t},s?a.createElement(z,{isExpanded:t,isSelected:n,onClick:r}):a.createElement(c.C.Tooltiped,{tooltip:q(o?"sidebarRight.documentRoomAIAssistantLabel":l?"sidebarRight.globalCopilotLabel":"sidebarRight.knowledgeBaseAssistantLabel")},a.createElement(U,{isExpanded:t,isSelected:n,onClick:r})))},Q=n(970770),X=n(338637),J=n(92242);function $(){var e=(0,J.T)(),t=(0,J.s)(e,Q.Z.STORAGE.ROOT),n=(0,J.s)(e,Q.Z.TRUST_CENTER.ROOT),a=function(e){return(0,J.s)(e,Q.Z.COPILOT_HUB.EGNYTE_COPILOT)||(0,J.s)(e,"".concat(Q.Z.COPILOT_HUB.ROOT).concat(X._j.AGENTS))||(0,J.s)(e,"".concat(Q.Z.COPILOT_HUB.ROOT).concat(X._j.KNOWLEDGE_BASE))||(0,J.s)(e,"".concat(Q.Z.COPILOT_HUB.ROOT).concat(X._j.SMART_APP_CONTRACTS))}(e),r=(0,J.s)(e,Q.Z.TASKS_AND_WORKFLOWS.ROOT),i=(0,J.s)(e,Q.Z.LINKS.ROOT),o=(0,J.s)(e,Q.Z.SETTINGS.ROOT),l=(0,J.s)(e,Q.Z.APP_STORE.ROOT),c=(0,J.s)(e,Q.Z.DOCUMENT_ROOM_PORTAL.ROOT);return t||a||n||r||i||o||l||c}},125085:function(e,t){t.Z={assistantDropdown:"HRY9uqxeXWnSX0xiwGsc",section:"MogrtfFlFu1NUtNrJPZV",icon:"duSLjGUdTdgwYpd4tFGq",checked:"k9inVGxjLTwWncDk7aRN eugzcnL4uVMlgbRkfTqa",item:"ZEx9dAZXZOmNNtIrSkoU",knowledgeBaseLabel:"f_MHbtZ2KG9AWOwIBlKK NEl23SpAWOi7njWP_WLS qqGfbuN2RooWpKmkockU eugzcnL4uVMlgbRkfTqa",notAvailable:"cXAWLVbi_QJ4il3pwLiw Er73cMkvdW7IEAv8y1uj m8RKLInoi4LLh_CKMjd0 cMD1Ln5gNqHc7P7v_G_6",limit:"zS1wge9xQ6oHCk0wKof4",noResults:"JUwgDz6eUf0VG10GL6Dg qqGfbuN2RooWpKmkockU"}},588310:function(e,t){t.Z={toggleButtonWrapper:"HiINKfC2Zmeapc7IrMXi",withBorderLeft:"SnYpEc90t6e_Pakx8UVu",isSelected:"Q8SamwTCauV2huR6q9Yq",sparkleButton:"jYGutaR2ICE_K_JKD0rB",sidebar:"iJeaNjbBJ6V_haZnS6F5",collapsedAssistant:"gJ4z5jynUuWsuBCq3j9R",contentWrapper:"zZGeB3DHL5ocpQnsLI4o",collapsed:"NBKIxf9nj7rkcZvtsRwZ",sidebarHistory:"fmlNPfXdb0gApyOg4eyk",content:"XzHkUgJ5fhu98cHNNvgU",contentContainer:"PF_i0U9HAq7nFI3AFwXY",expanded:"rE59QtJtKjsKHln21KUU",fixedColumn:"TNg9YXKGWFtA9ihYpw6t",sidebarHeader:"pXJ1NAeWXv7XGa7vzOr0",closeIcon:"PWOE2AXpkZBVMbxJjFFy",toggleButton:"K_I3BRe3VKogClH_0wpR",historyIcon:"L9xCGHVLa_qdFnQVrMeg",configurationIcon:"CY9ojEhbShH508ZeicmD",spinner:"skHvk6XESSYaxZ4xjlA_",loadingText:"jhJRG3vl2hYfQSPTJaf8 vlpHvsjgdbzjuadKPQ3e C7HhvVmv8inrSQjb607z cMD1Ln5gNqHc7P7v_G_6",emptyContainer:"vRu__MFzB7kl3xuLN6IV",bottomSection:"TKWpYsZnwe4GfCibWLTa",disableResize:"MdZh_e1M5r9amoxI4bnS",contentHeader:"tN7fplKy2yD_5Rp_5W9b DjBes9t5ENd6DFQP1lbE vSadc0pqvD7KtbqURZCR",backIcon:"Cx4PZ6ngccqRTWZ7B1Xt"}}}]);